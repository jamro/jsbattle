{"version":3,"sources":["webpack:///webpack/bootstrap a03ec3a82f7fdab379f0","webpack:///(webpack)/buildin/amd-define.js","webpack:///./app/engine/renderers/abstractPixi/AbstractPixiView.js","webpack:///(webpack)/buildin/module.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/ajv/lib/compile/util.js","webpack:///./app/engine/renderers/abstractPixi/AbstractPixiTankView.js","webpack:///./node_modules/seedrandom/index.js","webpack:///./node_modules/ajv/lib/compile/resolve.js","webpack:///./node_modules/fast-deep-equal/index.js","webpack:///./node_modules/ajv/lib/compile/error_classes.js","webpack:///./app/engine/renderers/Renderer.js","webpack:///./app/engine/renderers/abstractPixi/AbstractPixiRenderer.js","webpack:///./app/engine/renderers/abstractPixi/AbstractPixiBulletView.js","webpack:///./app/engine/UltimateBattleDescriptor.js","webpack:///./app/engine/AiDefinition.js","webpack:///./node_modules/ajv/lib/compile/schema_obj.js","webpack:///./node_modules/fast-json-stable-stringify/index.js","webpack:///./node_modules/ajv/lib/dotjs/validate.js","webpack:///./node_modules/ajv/lib/dotjs/_limit.js","webpack:///./node_modules/ajv/lib/dotjs/_limitItems.js","webpack:///./node_modules/ajv/lib/dotjs/_limitLength.js","webpack:///./node_modules/ajv/lib/dotjs/_limitProperties.js","webpack:///./app/engine/renderers/abstract/AbstractView.js","webpack:///./app/engine/entry.js","webpack:///./app/engine/Simulation.js","webpack:///./app/engine/Tank.js","webpack:///./node_modules/seedrandom/lib/alea.js","webpack:///./node_modules/seedrandom/lib/xor128.js","webpack:///./node_modules/seedrandom/lib/xorwow.js","webpack:///./node_modules/seedrandom/lib/xorshift7.js","webpack:///./node_modules/seedrandom/lib/xor4096.js","webpack:///./node_modules/seedrandom/lib/tychei.js","webpack:///./node_modules/seedrandom/seedrandom.js","webpack:///crypto (ignored)","webpack:///./app/engine/Team.js","webpack:///./app/engine/Bullet.js","webpack:///./app/engine/Battlefield.js","webpack:///./app/engine/EventStore.js","webpack:///./app/engine/CollisionResolver.js","webpack:///./node_modules/sat/SAT.js","webpack:///./app/engine/AiWrapper.js","webpack:///./app/engine/EvalWorker.js","webpack:///./app/tanks/lib/extendedMath.js","webpack:///./app/engine/PerformanceMonitor.js","webpack:///./node_modules/ajv/lib/ajv.js","webpack:///./node_modules/ajv/lib/compile/index.js","webpack:///./node_modules/uri-js/dist/es5/uri.all.js","webpack:///./node_modules/ajv/lib/compile/ucs2length.js","webpack:///./node_modules/json-schema-traverse/index.js","webpack:///./node_modules/ajv/lib/cache.js","webpack:///./node_modules/ajv/lib/compile/formats.js","webpack:///./node_modules/ajv/lib/compile/rules.js","webpack:///./node_modules/ajv/lib/dotjs/index.js","webpack:///./node_modules/ajv/lib/dotjs/ref.js","webpack:///./node_modules/ajv/lib/dotjs/allOf.js","webpack:///./node_modules/ajv/lib/dotjs/anyOf.js","webpack:///./node_modules/ajv/lib/dotjs/comment.js","webpack:///./node_modules/ajv/lib/dotjs/const.js","webpack:///./node_modules/ajv/lib/dotjs/contains.js","webpack:///./node_modules/ajv/lib/dotjs/dependencies.js","webpack:///./node_modules/ajv/lib/dotjs/enum.js","webpack:///./node_modules/ajv/lib/dotjs/format.js","webpack:///./node_modules/ajv/lib/dotjs/if.js","webpack:///./node_modules/ajv/lib/dotjs/items.js","webpack:///./node_modules/ajv/lib/dotjs/multipleOf.js","webpack:///./node_modules/ajv/lib/dotjs/not.js","webpack:///./node_modules/ajv/lib/dotjs/oneOf.js","webpack:///./node_modules/ajv/lib/dotjs/pattern.js","webpack:///./node_modules/ajv/lib/dotjs/properties.js","webpack:///./node_modules/ajv/lib/dotjs/propertyNames.js","webpack:///./node_modules/ajv/lib/dotjs/required.js","webpack:///./node_modules/ajv/lib/dotjs/uniqueItems.js","webpack:///./node_modules/ajv/lib/data.js","webpack:///./node_modules/ajv/lib/compile/async.js","webpack:///./node_modules/ajv/lib/keyword.js","webpack:///./node_modules/ajv/lib/dotjs/custom.js","webpack:///./node_modules/ajv/lib/refs/data.json","webpack:///./node_modules/ajv/lib/refs/json-schema-draft-07.json","webpack:///./app/schema/ubd-schema-v2.json","webpack:///./app/engine/renderers/debug/DebugRenderer.js","webpack:///./app/engine/renderers/abstract/AbstractRenderer.js","webpack:///./app/engine/renderers/abstractPixi/PixiRendererClockModel.js","webpack:///./app/engine/renderers/debug/DebugBattlefieldView.js","webpack:///./app/engine/renderers/debug/DebugClockView.js","webpack:///./app/engine/renderers/debug/DebugBulletView.js","webpack:///./app/engine/renderers/debug/DebugTankView.js","webpack:///./app/engine/renderers/bw/BWRenderer.js","webpack:///./app/engine/renderers/bw/BWBattlefieldView.js","webpack:///./app/engine/renderers/bw/BWClockView.js","webpack:///./app/engine/renderers/bw/BWBulletView.js","webpack:///./app/engine/renderers/bw/BWTankView.js","webpack:///./app/engine/renderers/brody/BrodyRenderer.js","webpack:///./app/engine/renderers/brody/BrodyBattlefieldView.js","webpack:///./app/engine/renderers/brody/BrodyClockView.js","webpack:///./app/engine/renderers/brody/BrodyBulletView.js","webpack:///./app/engine/renderers/brody/BrodyTankView.js","webpack:///./app/engine/renderers/brody/BrodySettings.js","webpack:///./app/engine/renderers/void/VoidRenderer.js"],"names":["AbstractPixiView","model","_model","_view","PIXI","Container","_create","events","x","undefined","y","angle","rotation","Math","PI","view","parent","removeChild","container","AbstractView","module","exports","webpackPolyfill","deprecate","paths","children","Object","defineProperty","enumerable","get","l","i","copy","checkDataType","checkDataTypes","coerceToTypes","toHash","getProperty","escapeQuotes","equal","require","ucs2length","varOccurences","varReplace","cleanUpCode","finalCleanUpCode","schemaHasRules","schemaHasRulesExcept","toQuotedString","getPathExpr","getPath","getData","unescapeFragment","unescapeJsonPointer","escapeFragment","escapeJsonPointer","o","to","key","dataType","data","negate","EQUAL","AND","OK","NOT","dataTypes","length","code","types","array","object","null","number","integer","t","COERCE_TO_TYPES","optionCoerceTypes","Array","isArray","arr","hash","IDENTIFIER","SINGLE_QUOTE","test","str","replace","dataVar","matches","match","RegExp","expr","EMPTY_ELSE","EMPTY_IF_NO_ELSE","EMPTY_IF_WITH_ELSE","out","ERRORS_REGEXP","REMOVE_ERRORS","REMOVE_ERRORS_ASYNC","RETURN_VALID","RETURN_TRUE","RETURN_ASYNC","RETURN_DATA_ASYNC","ROOTDATA_REGEXP","REMOVE_ROOTDATA","async","schema","rules","exceptKeyword","currentPath","jsonPointers","isNumber","path","joinPaths","prop","JSON_POINTER","RELATIVE_JSON_POINTER","$data","lvl","up","jsonPointer","Error","segments","split","segment","a","b","decodeURIComponent","encodeURIComponent","AbstractPixiTankView","_hudView","_createHud","body","gun","gunAngle","radar","radarAngle","energyBar","scale","energy","maxEnergy","label","text","fullName","hudView","_onEvent","event","type","_onShoot","_onDestroy","destroy","_body","_createBody","_gun","_createGun","_radar","_createRadar","addChild","_label","_createLabel","_energyBar","_createEnergyBar","_createHudBackground","Sprite","Text","alea","xor128","xorwow","xorshift7","xor4096","tychei","sr","URI","util","SchemaObject","traverse","resolve","normalizeId","fullPath","getFullPath","url","resolveUrl","ids","resolveIds","inlineRef","resolveSchema","compile","root","ref","refVal","_refs","call","_schemas","_opts","inlineRefs","validate","_compile","res","v","baseId","p","parse","refPath","_getFullPath","_getId","keys","id","resolveRecursive","getJsonPointer","parsedRef","PREVENT_SCOPE_CHANGE","fragment","slice","parts","part","$ref","SIMPLE_INLINED","limit","checkNoRef","countKeys","item","count","Infinity","normalize","serialize","TRAILING_SLASH_HASH","schemaId","baseIds","fullPaths","localRefs","self","allKeys","sch","jsonPtr","rootSchema","parentJsonPtr","parentKeyword","parentSchema","keyIndex","keyList","hasProp","prototype","hasOwnProperty","arrA","arrB","dateA","Date","dateB","getTime","regexpA","regexpB","toString","Validation","errorSubclass","ValidationError","MissingRef","MissingRefError","errors","message","ajv","validation","missingRef","missingSchema","Subclass","create","constructor","Renderer","battlefield","tank","msElapsed","msLimit","tankList","bullet","AbstractPixiRenderer","name","_name","_masterContainer","_tankContainer","_bulletContainer","_hudContainer","_renderer","_stage","_clockModel","PixiRendererClockModel","_clockView","_battlefieldView","window","devicePixelRatio","_rendererScale","offsetX","offsetY","rendererSettings","_canvas","antialias","backgroundColor","resolution","autoDetectRenderer","width","margin","height","_createBattlefieldView","_createClockView","render","canvas","done","loader","loadedResources","resources","push","_getSpritesheetUrls","filter","indexOf","forEach","add","load","onAssetsLoaded","update","getTankView","isAlive","getBulletView","rendererName","rendererScale","clock","AbstractRenderer","AbstractPixiBulletView","power","exploded","UltimateBattleDescriptor","_version","_aiList","_rngSeed","_teamMode","ai","seed","json","version","rngSeed","teamMode","aiList","toJSON","raw","JSON","stringify","unsecureMode","err","validateJsonData","aiJson","AiDefinition","useSandbox","executionLimit","initData","fromJSON","Ajv","valid","result","setRngSeed","getRngSeed","setTeamMode","getTeamMode","getAiList","aiClone","clone","addAiDefinition","SUSSPEND_AI_SANDBOX_WARNING","uid","substr","round","random","Number","_team","_code","_initData","_useSandbox","_executionLimit","team","tankName","teamName","console","warn","obj","opts","cmp","cycles","f","node","aobj","value","bobj","seen","isFinite","TypeError","seenIndex","sort","splice","generate_validate","it","$keyword","$ruleType","$async","$refKeywords","RULES","all","$id","isTop","sourceCode","processCode","$lvl","level","$dataLvl","dataLevel","$schema","$schemaPath","schemaPath","$errSchemaPath","errSchemaPath","$breakOnError","allErrors","$errorKeyword","$valid","$$outStack","createErrors","errorPath","messages","verbose","__err","pop","compositeRule","$top","rootId","dataPathArr","$closingBraces1","$closingBraces2","$typeSchema","$typeIsArray","nullable","concat","extendRefs","logger","$comment","coerceTypes","$coerceToTypes","$rulesGroup","$shouldUseGroup","$method","$dataType","$coerced","$bracesCoercion","arr1","$type","$i","l1","join","$parentData","$parentDataProperty","arr2","i2","l2","useDefaults","properties","$schemaKeys","arr3","$propertyKey","i3","l3","$sch","default","$passData","useDefault","items","arr4","l4","arr5","$rule","i5","l5","$shouldUseRule","$code","keyword","implements","$ruleImplementsSomeKeyword","impl","generate__limit","$isData","$schemaValue","$isMax","$exclusiveKeyword","$schemaExcl","$isDataExcl","$op","$notOp","$schemaValueExcl","$exclusive","$exclType","$exclIsNumber","$opExpr","$opStr","generate__limitItems","generate__limitLength","unicode","generate__limitProperties","_isAlive","createSimulation","renderer","sim","Simulation","createAiDefinition","createUBD","createRenderer","DebugRenderer","BWRenderer","BrodyRenderer","VoidRenderer","_allTankList","_tankList","_bulletList","_explodedTankList","_explodedBulletList","_battlefield","_simulationTimeout","_renderInterval","_simulationStepDuration","_renderStepDuration","_isRunning","_collisionResolver","CollisionResolver","_rng","_speedMultiplier","_onSimulationStepCallback","_onRenderStepCallback","_onFinishCallback","_onErrorCallback","_onStartCallback","_timeElapsed","_timeLimit","_eventStore","EventStore","_nextTankId","_nextBulletId","_rendererQuality","_perfMon","PerformanceMonitor","setSimulationStepDuration","_callStackLimit","MAX_VALUE","_callStackCount","_teamMap","_teamList","_ultimateBattleDescriptor","Battlefield","setSize","randomize","initBatlefield","updateBattlefield","clearInterval","_activateAi","setInterval","_updateView","clearTimeout","start","_simulationStep","error","onSimulationStep","startTime","_updateModel","_updateAi","_getTeamsLeft","stop","processingTime","dt","min","setTimeout","bind","aiDefinition","startSlot","getStartSlot","hasTeams","_createTank","getRandom","moveTo","Team","addTank","_createAiWrapper","max","setSpeed","isNaN","deactivate","callback","_runInSequence","objectList","methodName","argument","wrapCallback","args","arguments","args2","apply","doneWrapper","errorWrapper","c","simulationStep","killCount","removeTank","newAiList","isShooting","handleShoot","_createBullet","j","onSurviveScore","hitTest","hitTestBullet","removeBullet","processMessages","quality","qualityLevel","preRender","renderClock","renderTank","renderBullet","renderTankStats","postRender","clear","teamsLeft","AiWrapper","Tank","owner","Bullet","normalizeAngle","_id","_maxEnergy","_energy","_x","_y","_lastX","_lastY","_angle","_gunAngle","_radarAngle","_throttle","_actualThrottle","_speed","_turn","_gunTurn","_radarTurn","_wallHit","_enemyHit","_allyHit","_beingRammed","_radarRange","_radarFocal","_enemySpot","_allySpot","_bulletsSpot","_gunReloadTime","_gunTimer","_shootingPower","_targetingAlarmTimer","_debugData","_score","_state","_hasBoost","_maxBoost","_boost","_wallDistance","_skin","damage","onDamage","speed","enemy","ally","distance","xPosition","yPosition","isReloading","rng","settings","SKIN","collisionResolver","oldX","oldY","maxSpeed","hasBoost","accelerationFactor","cos","sin","checkTank","updateTank","scanTanks","scanBullets","scanWalls","enemyData","allyData","bulletsData","shift","dx","dy","sqrt","boost","collisions","wall","targetingAlarm","wallDistance","bullets","reloading","radio","inbox","getMessages","global","define","Alea","me","mash","Mash","next","s0","s1","s2","xg","state","prng","int32","double","quick","n","charCodeAt","h","XorGen","strseed","z","w","k","top","bot","d","X","init","floor","pool","math","eval","chunks","digits","rngname","startdenom","pow","significance","overflow","mask","nodecrypto","seedrandom","options","entropy","shortseed","mixkey","flatten","tostring","autoseed","arc4","ARC4","g","S","pass","is_math_call","keylen","s","r","depth","typ","e","stringseed","smear","randomBytes","Uint8Array","crypto","msCrypto","getRandomValues","browser","navigator","plugins","screen","String","fromCharCode","ex","_members","_inboxMap","_outboxMap","receiverId","senderId","sum","score","aliveCount","_owner","gunLength","_power","_damage","_exploded","_width","_height","_startSlotList","_offsetX","_offsetY","slotSize","minX","maxX","minY","maxY","currentIndex","temporaryValue","randomIndex","_data","index","_wallList","_tankMap","_bulletMap","_radarBeamMap","SAT","Box","Vector","toPolygon","tankShape","_getTankShape","pos","bulletShape","_getBulletShape","testCirclePolygon","onWallHit","enemyShape","testCircleCircle","energyBefore","onEnemyHit","areAllies","isAlly","onEnemyHitScore","onEnemyKillScore","onBeingRam","onAllyHit","radarBeamShape","_getRadarBeamShape","setAngle","enemies","testPolygonCircle","closestEnemy","closestEnemyDistance","radarRange","closestAlly","closestAllyDistance","onAllySpot","onEnemySpot","onTargetingAlarm","spottedBullets","onBulletSpot","_getWallDistance","onWallSpot","distanceNorth","distanceSouth","distanceWest","distanceEast","d1","d2","shape","Circle","tan","radarFocal","Polygon","factory","other","perp","rotate","reverse","len","sub","project","amt","dot","len2","projectN","reflect","axis","reflectN","getAABB","corner","points","setPoints","lengthChanged","calcPoints","edges","normals","_recalc","setOffset","offset","translate","calcPoint","p1","p2","xMin","yMin","xMax","yMax","point","getCentroid","cx","cy","ar","Response","T_VECTORS","T_ARRAYS","T_RESPONSE","TEST_POINT","flattenPointsOn","normal","isSeparatingAxis","aPos","bPos","aPoints","bPoints","response","rangeA","rangeB","offsetV","projectedOffset","overlap","option1","option2","absOverlap","abs","voronoiRegion","line","dp","LEFT_VORONOI_REGION","RIGHT_VORONOI_REGION","MIDDLE_VORONOI_REGION","pointInCircle","differenceV","radiusSq","distanceSq","pointInPolygon","poly","testPolygonPolygon","totalRadius","totalRadiusSq","dist","polygon","circle","circlePos","radius","radius2","edge","prev","overlapN","region","point2","distAbs","aInB","aLen","bLen","_tank","_aiWorker","_aiProcessingStart","_aiProcessingCheckInterval","_aiProcessingResolveCallback","_aiProcessingRejectCallback","_slowAiChances","_onActivationCallback","_onDectivationCallback","_aiProcessingTimeLimit","_aiDefinition","_isReady","_controlData","THROTTLE","BOOST","TURN","RADAR_TURN","GUN_TURN","SHOOT","OUTBOX","DEBUG","_onDeactivationCallback","msg","lineno","reject","_createWorker","onerror","_formatError","performanceIssues","tankId","now","onmessage","commandEvent","_configureTank","_controlTank","teamInfo","size","mates","members","map","infoData","postMessage","command","info","terminate","control","input","skinList","setThrottle","setBoost","setTurn","setRadarTurn","setGunTurn","setDebugData","shoot","sendMessages","def","Worker","filePath","EvalWorker","extendedMath","TankController","_initCallback","_loopCallback","_tankController","inputData","deg","rad","deg2rad","rad2deg","atan2","x1","y1","x2","y2","randomRange","_stepCounter","_checkLoop","_started","_desiredPerfomance","_actualPerfomance","_perfomanceIndex","_desiredQuality","_quality","_checkInterval","_check","ceil","_updateQuality","lowestQuality","decreaseStep","targetQuality","compileSchema","Cache","stableStringify","formats","$dataMetaSchema","addSchema","addMetaSchema","validateSchema","getSchema","removeSchema","addFormat","errorsText","_addSchema","compileAsync","customKeyword","addKeyword","getKeyword","removeKeyword","remove","errorClasses","META_SCHEMA_ID","META_IGNORE_OPTIONS","META_SUPPORT_DATA","setLogger","_fragments","_formats","format","_cache","cache","_loadingSchemas","_compilations","chooseGetId","loopRequired","errorDataPath","_errorDataPathProperty","_metaOpts","getMetaSchemaOptions","addInitialFormats","addDefaultMetaSchema","meta","metaSchema","const","addInitialSchemas","schemaKeyRef","schemaObj","_meta","_skipValidation","checkUnique","skipValidation","throwOrLogError","defaultMeta","keyRef","_getSchemaObj","_getSchemaFragment","_removeAllSchemas","del","cacheKey","schemas","regex","shouldAddSchema","cached","addUsedSchema","willValidate","recursiveMeta","put","compiling","callValidate","currentOpts","refs","_validate","_get$IdOrId","_get$Id","separator","dataPath","$dataSchema","optsSchemas","metaOpts","log","noop","validateGenerator","patterns","patternsHash","defaults","defaultsHash","customRules","checkCompiling","compilation","localCompile","cv","source","endCompiling","_schema","_root","isRoot","resolveRef","usePattern","useCustomRule","vars","refValCode","patternCode","defaultCode","customRuleCode","makeValidate","Function","refIndex","_refVal","refCode","resolvedRef","rootRefId","addLocalRef","localSchema","removeLocalRef","replaceLocalRef","refId","inline","regexStr","valueStr","rule","definition","macro","compIndex","statement","merge","_len","sets","_key","xl","subexp","typeOf","toLowerCase","toUpperCase","toArray","assign","target","buildExps","isIRI","ALPHA$$","CR$","DIGIT$$","DQUOTE$$","HEXDIG$$","LF$$","SP$$","PCT_ENCODED$","GEN_DELIMS$$","SUB_DELIMS$$","RESERVED$$","UCSCHAR$$","IPRIVATE$$","UNRESERVED$$","SCHEME$","USERINFO$","DEC_OCTET$","DEC_OCTET_RELAXED$","IPV4ADDRESS$","H16$","LS32$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","IPV6ADDRESS$","ZONEID$","IPV6ADDRZ$","IPV6ADDRZ_RELAXED$","IPVFUTURE$","IP_LITERAL$","REG_NAME$","HOST$","PORT$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","PATH_NOSCHEME$","PATH_ROOTLESS$","PATH_EMPTY$","PATH$","QUERY$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","URI_REFERENCE$","ABSOLUTE_URI$","GENERIC_REF$","RELATIVE_REF$","ABSOLUTE_REF$","SAMEDOC_REF$","AUTHORITY_REF$","NOT_SCHEME","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","OTHER_CHARS","PCT_ENCODED","IPV4ADDRESS","IPV6ADDRESS","URI_PROTOCOL","IRI_PROTOCOL","slicedToArray","sliceIterator","_arr","_n","_d","_e","_i","Symbol","iterator","_s","toConsumableArray","from","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","baseMinusTMin","stringFromCharCode","error$1","RangeError","fn","mapDomain","string","labels","encoded","ucs2decode","output","counter","extra","ucs2encode","fromCodePoint","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","inputLength","bias","basic","lastIndexOf","oldi","baseMinusT","encode","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_currentValue2","return","basicLength","handledCPCount","m","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","currentValue","handledCPCountPlusOne","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","_currentValue","q","qMinusT","toUnicode","toASCII","punycode","SCHEMES","pctEncChar","chr","pctDecChars","newStr","il","parseInt","c2","_c","c3","_normalizeComponentEncoding","components","protocol","decodeUnreserved","decStr","scheme","userinfo","host","query","_stripLeadingZeros","_normalizeIPv4","_matches","address","_normalizeIPv6","_matches2","zone","_address$toLowerCase$","_address$toLowerCase$2","last","first","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","allZeroFields","reduce","acc","field","lastLongest","longestZeroFields","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","uriString","iri","reference","port","schemeHandler","unicodeSupport","domainHost","_recomposeAuthority","uriTokens","_","$1","$2","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","authority","charAt","absolutePath","resolveComponents","relative","skipNormalization","tolerant","baseURI","relativeURI","schemelessOptions","uri","uriA","uriB","escapeComponent","unescapeComponent","handler","handler$1","O","ATEXT$$","QTEXT$$","VCHAR$$","SOME_DELIMS$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","handler$2","parse$$1","mailtoComponents","unknownHeaders","headers","hfields","hfield","toAddrs","_xl","subject","_x2","_xl2","addr","serialize$$1","toAddr","atIdx","localPart","domain","URN_PARSE","handler$3","urnComponents","nid","nss","urnScheme","uriComponents","UUID","handler$4","uuidComponents","uuid","cb","pre","post","_traverse","keywords","additionalItems","contains","additionalProperties","propertyNames","not","arrayKeywords","allOf","anyOf","oneOf","propsKeywords","definitions","patternProperties","dependencies","skipKeywords","enum","required","maximum","minimum","exclusiveMaximum","exclusiveMinimum","multipleOf","maxLength","minLength","pattern","maxItems","minItems","uniqueItems","maxProperties","minProperties","escapeJsonPtr","Cache_put","Cache_get","Cache_del","Cache_clear","DATE","DAYS","TIME","HOSTNAME","URIREF","URITEMPLATE","URL","JSON_POINTER_URI_FRAGMENT","mode","fast","date","time","email","hostname","ipv4","ipv6","full","date_time","isLeapYear","year","month","day","hour","minute","second","timeZone","DATE_TIME_SEPARATOR","dateTime","NOT_URI_FRAGMENT","Z_ANCHOR","ruleModules","ALL","KEYWORDS","TYPES","group","implKeywords","custom","generate_ref","$refCode","$refVal","$message","missingRefs","$it","$nextValid","passContext","__callValidate","generate_allOf","$closingBraces","$currentBaseId","$allSchemasEmpty","generate_anyOf","$errs","$noEmptySchema","every","$wasComposite","generate_comment","generate_const","generate_contains","$idx","$dataNxt","$nextData","$nonEmptySchema","generate_dependencies","$schemaDeps","$propertyDeps","$ownProperties","ownProperties","$property","$deps","$currentErrorPath","$prop","$useData","$propertyPath","$missingProperty","generate_enum","$vSchema","generate_format","$unknownFormats","unknownFormats","$allowUnknown","$format","$isObject","$formatType","$formatRef","generate_if","$thenSch","$elseSch","$thenPresent","$elsePresent","$ifClause","generate_items","$additionalItems","$currErrSchemaPath","generate_multipleOf","multipleOfPrecision","generate_not","$allErrorsOption","generate_oneOf","$prevValid","$passingSchemas","generate_pattern","$regexp","generate_properties","$key","$dataProperties","$pProperties","$pPropertyKeys","$aProperties","$someProperties","$noAdditional","$additionalIsSchema","$removeAdditional","removeAdditional","$checkAdditional","$required","$requiredHash","i1","$pProperty","$additionalProperty","$useDefaults","$hasDefault","i4","generate_propertyNames","$invalidName","generate_required","$propertySch","$loopRequired","generate_uniqueItems","$itemType","keywordsJsonPointers","loadSchema","loadMetaSchemaOf","then","_compileAsync","Promise","loadMissingSchema","added","schemaPromise","removePromise","_addRule","ruleGroup","rg","generate_custom","$definition","$rDef","$compile","$inline","$macro","$ruleValidate","$validateCode","$validateSchema","$ruleErrs","$ruleErr","$asyncKeyword","statements","def_callRuleValidate","modifying","def_customError","_frameCounter","_fpsLabel","_scoreBoard","labelStyle","TextStyle","fontFamily","fontSize","fill","stage","alpha","scores","toFixed","DebugBattlefieldView","DebugClockView","DebugBulletView","DebugTankView","_renderModel","_createTankView","_createBulletView","_msElapsed","_msLimit","msTotal","ms","background","Graphics","beginFill","lineStyle","drawRect","endFill","drawCircle","lineTo","anchor","set","statusBarBg","_bigBoomAnim","_smallBoomAnim","_shakeTimer","Texture","fromFrame","_addExplosion","masterContainer","BWBattlefieldView","BWClockView","BWBulletView","BWTankView","anim","extras","AnimatedSprite","loop","onComplete","play","_shoot","gunContainer","tankGun","tankRadar","_particleContainer","_particleList","_explosionList","_settings","BrodySettings","_frameTimer","_fpsInterval","_fps","battlefieldView","configure","particles","ParticleContainer","position","_addTankExplosion","directionCorrection","throttle","dirtAngle","corner1X","corner1Y","corner2X","corner2Y","speedMultiplier","_addDirt","_addBulletExplosion","addBulletHole","particle","particleCount","alphaSpeed","lifetime","particleLimit","dropFrames","addCrater","_addSparks","_addGlow","sparks","BrodyBattlefieldView","BrodyClockView","BrodyBulletView","BrodyTankView","animationSpeed","blendMode","BLEND_MODES","ADD","showGlow","glow","amount","showDirt","_holeList","groundMask","_craterContainer","wallMask","_holesContainer","crater","MULTIPLY","visible","skratchLimit","showCraters","hole","_glow","_lightTimer","_tankGun","enemySpot","_light","skin","stroke","strokeThickness","_particleLimit","_skratchLimit","_showDirt","_showGlow","_showCraters","_dropFrames"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA;AACA;AACA;;;;;;;;ACFA;AACa;;;;;;;;;;AAEb;;;;;;;;;;;;IAEqBA,gB;;;AAEnB,4BAAYC,KAAZ,EAAmB;AAAA;;AAAA,oIACXA,KADW;;AAEjB,UAAKC,MAAL,GAAcD,KAAd;AACA,UAAKE,KAAL,GAAa,IAAIC,KAAKC,SAAT,EAAb;AACA,UAAKC,OAAL,CAAa,MAAKH,KAAlB;AAJiB;AAKlB;;;;2BAEMI,M,EAAQ;AACb,iIAAaA,MAAb;AACA,UAAG,KAAKL,MAAL,CAAYM,CAAZ,KAAkBC,SAArB,EAAgC;AAC9B,aAAKN,KAAL,CAAWK,CAAX,GAAe,KAAKN,MAAL,CAAYM,CAA3B;AACD;AACD,UAAG,KAAKN,MAAL,CAAYQ,CAAZ,KAAkBD,SAArB,EAAgC;AAC9B,aAAKN,KAAL,CAAWO,CAAX,GAAe,KAAKR,MAAL,CAAYQ,CAA3B;AACD;AACD,UAAG,KAAKR,MAAL,CAAYS,KAAZ,KAAsBF,SAAzB,EAAoC;AAClC,aAAKN,KAAL,CAAWS,QAAX,GAAsB,KAAKV,MAAL,CAAYS,KAAZ,IAAqBE,KAAKC,EAAL,GAAU,GAA/B,CAAtB;AACD;AACF;;;8BAES;AACR;AACA,UAAG,KAAKC,IAAL,CAAUC,MAAb,EAAqB;AACnB,aAAKD,IAAL,CAAUC,MAAV,CAAiBC,WAAjB,CAA6B,KAAKF,IAAlC;AACD;AACF;;;4BAEOG,S,EAAW,CAElB;;;;EA/B2CC,sB;;kBAAzBnB,gB;;;;;;;;;ACLrBoB,OAAOC,OAAP,GAAiB,UAASD,MAAT,EAAiB;AACjC,KAAG,CAACA,OAAOE,eAAX,EAA4B;AAC3BF,SAAOG,SAAP,GAAmB,YAAW,CAAE,CAAhC;AACAH,SAAOI,KAAP,GAAe,EAAf;AACA;AACA,MAAG,CAACJ,OAAOK,QAAX,EAAqBL,OAAOK,QAAP,GAAkB,EAAlB;AACrBC,SAAOC,cAAP,CAAsBP,MAAtB,EAA8B,QAA9B,EAAwC;AACvCQ,eAAY,IAD2B;AAEvCC,QAAK,eAAW;AACf,WAAOT,OAAOU,CAAd;AACA;AAJsC,GAAxC;AAMAJ,SAAOC,cAAP,CAAsBP,MAAtB,EAA8B,IAA9B,EAAoC;AACnCQ,eAAY,IADuB;AAEnCC,QAAK,eAAW;AACf,WAAOT,OAAOW,CAAd;AACA;AAJkC,GAApC;AAMAX,SAAOE,eAAP,GAAyB,CAAzB;AACA;AACD,QAAOF,MAAP;AACA,CArBD,C;;;;;;ACAA;AACA;;;;;;;;;ACDa;;AAGbA,OAAOC,OAAP,GAAiB;AACfW,QAAMA,IADS;AAEfC,iBAAeA,aAFA;AAGfC,kBAAgBA,cAHD;AAIfC,iBAAeA,aAJA;AAKfC,UAAQA,MALO;AAMfC,eAAaA,WANE;AAOfC,gBAAcA,YAPC;AAQfC,SAAOC,mBAAOA,CAAC,CAAR,CARQ;AASfC,cAAYD,mBAAOA,CAAC,EAAR,CATG;AAUfE,iBAAeA,aAVA;AAWfC,cAAYA,UAXG;AAYfC,eAAaA,WAZE;AAafC,oBAAkBA,gBAbH;AAcfC,kBAAgBA,cAdD;AAefC,wBAAsBA,oBAfP;AAgBfC,kBAAgBA,cAhBD;AAiBfC,eAAaA,WAjBE;AAkBfC,WAASA,OAlBM;AAmBfC,WAASA,OAnBM;AAoBfC,oBAAkBA,gBApBH;AAqBfC,uBAAqBA,mBArBN;AAsBfC,kBAAgBA,cAtBD;AAuBfC,qBAAmBA;AAvBJ,CAAjB;;AA2BA,SAASvB,IAAT,CAAcwB,CAAd,EAAiBC,EAAjB,EAAqB;AACnBA,OAAKA,MAAM,EAAX;AACA,OAAK,IAAIC,GAAT,IAAgBF,CAAhB;AAAmBC,OAAGC,GAAH,IAAUF,EAAEE,GAAF,CAAV;AAAnB,GACA,OAAOD,EAAP;AACD;;AAGD,SAASxB,aAAT,CAAuB0B,QAAvB,EAAiCC,IAAjC,EAAuCC,MAAvC,EAA+C;AAC7C,MAAIC,QAAQD,SAAS,OAAT,GAAmB,OAA/B;AAAA,MACIE,MAAMF,SAAS,MAAT,GAAkB,MAD5B;AAAA,MAEIG,KAAKH,SAAS,GAAT,GAAe,EAFxB;AAAA,MAGII,MAAMJ,SAAS,EAAT,GAAc,GAHxB;AAIA,UAAQF,QAAR;AACE,SAAK,MAAL;AAAa,aAAOC,OAAOE,KAAP,GAAe,MAAtB;AACb,SAAK,OAAL;AAAc,aAAOE,KAAK,gBAAL,GAAwBJ,IAAxB,GAA+B,GAAtC;AACd,SAAK,QAAL;AAAe,aAAO,MAAMI,EAAN,GAAWJ,IAAX,GAAkBG,GAAlB,GACA,SADA,GACYH,IADZ,GACmBE,KADnB,GAC2B,UAD3B,GACwCC,GADxC,GAEAE,GAFA,GAEM,gBAFN,GAEyBL,IAFzB,GAEgC,IAFvC;AAGf,SAAK,SAAL;AAAgB,aAAO,aAAaA,IAAb,GAAoBE,KAApB,GAA4B,UAA5B,GAAyCC,GAAzC,GACAE,GADA,GACM,GADN,GACYL,IADZ,GACmB,OADnB,GAEAG,GAFA,GAEMH,IAFN,GAEaE,KAFb,GAEqBF,IAFrB,GAE4B,GAFnC;AAGhB;AAAS,aAAO,YAAYA,IAAZ,GAAmBE,KAAnB,GAA2B,GAA3B,GAAiCH,QAAjC,GAA4C,GAAnD;AATX;AAWD;;AAGD,SAASzB,cAAT,CAAwBgC,SAAxB,EAAmCN,IAAnC,EAAyC;AACvC,UAAQM,UAAUC,MAAlB;AACE,SAAK,CAAL;AAAQ,aAAOlC,cAAciC,UAAU,CAAV,CAAd,EAA4BN,IAA5B,EAAkC,IAAlC,CAAP;AACR;AACE,UAAIQ,OAAO,EAAX;AACA,UAAIC,QAAQjC,OAAO8B,SAAP,CAAZ;AACA,UAAIG,MAAMC,KAAN,IAAeD,MAAME,MAAzB,EAAiC;AAC/BH,eAAOC,MAAMG,IAAN,GAAa,GAAb,GAAkB,OAAOZ,IAAP,GAAc,MAAvC;AACAQ,gBAAQ,YAAYR,IAAZ,GAAmB,gBAA3B;AACA,eAAOS,MAAMG,IAAb;AACA,eAAOH,MAAMC,KAAb;AACA,eAAOD,MAAME,MAAb;AACD;AACD,UAAIF,MAAMI,MAAV,EAAkB,OAAOJ,MAAMK,OAAb;AAClB,WAAK,IAAIC,CAAT,IAAcN,KAAd;AACED,gBAAQ,CAACA,OAAO,MAAP,GAAgB,EAAjB,IAAwBnC,cAAc0C,CAAd,EAAiBf,IAAjB,EAAuB,IAAvB,CAAhC;AADF,OAGA,OAAOQ,IAAP;AAhBJ;AAkBD;;AAGD,IAAIQ,kBAAkBxC,OAAO,CAAE,QAAF,EAAY,QAAZ,EAAsB,SAAtB,EAAiC,SAAjC,EAA4C,MAA5C,CAAP,CAAtB;AACA,SAASD,aAAT,CAAuB0C,iBAAvB,EAA0CX,SAA1C,EAAqD;AACnD,MAAIY,MAAMC,OAAN,CAAcb,SAAd,CAAJ,EAA8B;AAC5B,QAAIG,QAAQ,EAAZ;AACA,SAAK,IAAItC,IAAE,CAAX,EAAcA,IAAEmC,UAAUC,MAA1B,EAAkCpC,GAAlC,EAAuC;AACrC,UAAI4C,IAAIT,UAAUnC,CAAV,CAAR;AACA,UAAI6C,gBAAgBD,CAAhB,CAAJ,EAAwBN,MAAMA,MAAMF,MAAZ,IAAsBQ,CAAtB,CAAxB,KACK,IAAIE,sBAAsB,OAAtB,IAAiCF,MAAM,OAA3C,EAAoDN,MAAMA,MAAMF,MAAZ,IAAsBQ,CAAtB;AAC1D;AACD,QAAIN,MAAMF,MAAV,EAAkB,OAAOE,KAAP;AACnB,GARD,MAQO,IAAIO,gBAAgBV,SAAhB,CAAJ,EAAgC;AACrC,WAAO,CAACA,SAAD,CAAP;AACD,GAFM,MAEA,IAAIW,sBAAsB,OAAtB,IAAiCX,cAAc,OAAnD,EAA4D;AACjE,WAAO,CAAC,OAAD,CAAP;AACD;AACF;;AAGD,SAAS9B,MAAT,CAAgB4C,GAAhB,EAAqB;AACnB,MAAIC,OAAO,EAAX;AACA,OAAK,IAAIlD,IAAE,CAAX,EAAcA,IAAEiD,IAAIb,MAApB,EAA4BpC,GAA5B;AAAiCkD,SAAKD,IAAIjD,CAAJ,CAAL,IAAe,IAAf;AAAjC,GACA,OAAOkD,IAAP;AACD;;AAGD,IAAIC,aAAa,uBAAjB;AACA,IAAIC,eAAe,OAAnB;AACA,SAAS9C,WAAT,CAAqBqB,GAArB,EAA0B;AACxB,SAAO,OAAOA,GAAP,IAAc,QAAd,GACG,MAAMA,GAAN,GAAY,GADf,GAEGwB,WAAWE,IAAX,CAAgB1B,GAAhB,IACE,MAAMA,GADR,GAEE,OAAOpB,aAAaoB,GAAb,CAAP,GAA2B,IAJvC;AAKD;;AAGD,SAASpB,YAAT,CAAsB+C,GAAtB,EAA2B;AACzB,SAAOA,IAAIC,OAAJ,CAAYH,YAAZ,EAA0B,MAA1B,EACIG,OADJ,CACY,KADZ,EACmB,KADnB,EAEIA,OAFJ,CAEY,KAFZ,EAEmB,KAFnB,EAGIA,OAHJ,CAGY,KAHZ,EAGmB,KAHnB,EAIIA,OAJJ,CAIY,KAJZ,EAImB,KAJnB,CAAP;AAKD;;AAGD,SAAS5C,aAAT,CAAuB2C,GAAvB,EAA4BE,OAA5B,EAAqC;AACnCA,aAAW,QAAX;AACA,MAAIC,UAAUH,IAAII,KAAJ,CAAU,IAAIC,MAAJ,CAAWH,OAAX,EAAoB,GAApB,CAAV,CAAd;AACA,SAAOC,UAAUA,QAAQrB,MAAlB,GAA2B,CAAlC;AACD;;AAGD,SAASxB,UAAT,CAAoB0C,GAApB,EAAyBE,OAAzB,EAAkCI,IAAlC,EAAwC;AACtCJ,aAAW,UAAX;AACAI,SAAOA,KAAKL,OAAL,CAAa,KAAb,EAAoB,MAApB,CAAP;AACA,SAAOD,IAAIC,OAAJ,CAAY,IAAII,MAAJ,CAAWH,OAAX,EAAoB,GAApB,CAAZ,EAAsCI,OAAO,IAA7C,CAAP;AACD;;AAGD,IAAIC,aAAa,eAAjB;AAAA,IACIC,mBAAmB,sCADvB;AAAA,IAEIC,qBAAqB,6CAFzB;AAGA,SAASlD,WAAT,CAAqBmD,GAArB,EAA0B;AACxB,SAAOA,IAAIT,OAAJ,CAAYM,UAAZ,EAAwB,EAAxB,EACIN,OADJ,CACYO,gBADZ,EAC8B,EAD9B,EAEIP,OAFJ,CAEYQ,kBAFZ,EAEgC,YAFhC,CAAP;AAGD;;AAGD,IAAIE,gBAAgB,cAApB;AAAA,IACIC,gBAAgB,iEADpB;AAAA,IAEIC,sBAAsB,sCAF1B;AAAA,IAGIC,eAAe,sBAHnB;AAAA,IAIIC,cAAc,sCAJlB;AAAA,IAKIC,eAAe,+EALnB;AAAA,IAMIC,oBAAoB,cANxB;AAAA,IAOIC,kBAAkB,oCAPtB;AAAA,IAQIC,kBAAkB,gDARtB;;AAUA,SAAS3D,gBAAT,CAA0BkD,GAA1B,EAA+BU,KAA/B,EAAsC;AACpC,MAAIjB,UAAUO,IAAIN,KAAJ,CAAUO,aAAV,CAAd;AACA,MAAIR,WAAWA,QAAQrB,MAAR,IAAkB,CAAjC,EAAoC;AAClC4B,UAAMU,QACEV,IAAIT,OAAJ,CAAYY,mBAAZ,EAAiC,EAAjC,EACIZ,OADJ,CACYe,YADZ,EAC0BC,iBAD1B,CADF,GAGEP,IAAIT,OAAJ,CAAYW,aAAZ,EAA2B,EAA3B,EACIX,OADJ,CACYa,YADZ,EAC0BC,WAD1B,CAHR;AAKD;;AAEDZ,YAAUO,IAAIN,KAAJ,CAAUc,eAAV,CAAV;AACA,MAAI,CAACf,OAAD,IAAYA,QAAQrB,MAAR,KAAmB,CAAnC,EAAsC,OAAO4B,GAAP;AACtC,SAAOA,IAAIT,OAAJ,CAAYkB,eAAZ,EAA6B,EAA7B,CAAP;AACD;;AAGD,SAAS1D,cAAT,CAAwB4D,MAAxB,EAAgCC,KAAhC,EAAuC;AACrC,MAAI,OAAOD,MAAP,IAAiB,SAArB,EAAgC,OAAO,CAACA,MAAR;AAChC,OAAK,IAAIhD,GAAT,IAAgBgD,MAAhB;AAAwB,QAAIC,MAAMjD,GAAN,CAAJ,EAAgB,OAAO,IAAP;AAAxC;AACD;;AAGD,SAASX,oBAAT,CAA8B2D,MAA9B,EAAsCC,KAAtC,EAA6CC,aAA7C,EAA4D;AAC1D,MAAI,OAAOF,MAAP,IAAiB,SAArB,EAAgC,OAAO,CAACA,MAAD,IAAWE,iBAAiB,KAAnC;AAChC,OAAK,IAAIlD,GAAT,IAAgBgD,MAAhB;AAAwB,QAAIhD,OAAOkD,aAAP,IAAwBD,MAAMjD,GAAN,CAA5B,EAAwC,OAAO,IAAP;AAAhE;AACD;;AAGD,SAASV,cAAT,CAAwBqC,GAAxB,EAA6B;AAC3B,SAAO,OAAO/C,aAAa+C,GAAb,CAAP,GAA2B,IAAlC;AACD;;AAGD,SAASpC,WAAT,CAAqB4D,WAArB,EAAkClB,IAAlC,EAAwCmB,YAAxC,EAAsDC,QAAtD,EAAgE;AAC9D,MAAIC,OAAOF,aAAa;AAAb,IACG,aAAanB,IAAb,IAAqBoB,WAAW,EAAX,GAAgB,gDAArC,CADH,GAEIA,WAAW,aAAapB,IAAb,GAAoB,UAA/B,GAA4C,iBAAiBA,IAAjB,GAAwB,cAFnF;AAGA,SAAOsB,UAAUJ,WAAV,EAAuBG,IAAvB,CAAP;AACD;;AAGD,SAAS9D,OAAT,CAAiB2D,WAAjB,EAA8BK,IAA9B,EAAoCJ,YAApC,EAAkD;AAChD,MAAIE,OAAOF,aAAa;AAAb,IACG9D,eAAe,MAAMO,kBAAkB2D,IAAlB,CAArB,CADH,GAEGlE,eAAeX,YAAY6E,IAAZ,CAAf,CAFd;AAGA,SAAOD,UAAUJ,WAAV,EAAuBG,IAAvB,CAAP;AACD;;AAGD,IAAIG,eAAe,qBAAnB;AACA,IAAIC,wBAAwB,kCAA5B;AACA,SAASjE,OAAT,CAAiBkE,KAAjB,EAAwBC,GAAxB,EAA6B9F,KAA7B,EAAoC;AAClC,MAAI+F,EAAJ,EAAQC,WAAR,EAAqB5D,IAArB,EAA2B4B,OAA3B;AACA,MAAI6B,UAAU,EAAd,EAAkB,OAAO,UAAP;AAClB,MAAIA,MAAM,CAAN,KAAY,GAAhB,EAAqB;AACnB,QAAI,CAACF,aAAa/B,IAAb,CAAkBiC,KAAlB,CAAL,EAA+B,MAAM,IAAII,KAAJ,CAAU,2BAA2BJ,KAArC,CAAN;AAC/BG,kBAAcH,KAAd;AACAzD,WAAO,UAAP;AACD,GAJD,MAIO;AACL4B,cAAU6B,MAAM5B,KAAN,CAAY2B,qBAAZ,CAAV;AACA,QAAI,CAAC5B,OAAL,EAAc,MAAM,IAAIiC,KAAJ,CAAU,2BAA2BJ,KAArC,CAAN;AACdE,SAAK,CAAC/B,QAAQ,CAAR,CAAN;AACAgC,kBAAchC,QAAQ,CAAR,CAAd;AACA,QAAIgC,eAAe,GAAnB,EAAwB;AACtB,UAAID,MAAMD,GAAV,EAAe,MAAM,IAAIG,KAAJ,CAAU,kCAAkCF,EAAlC,GAAuC,+BAAvC,GAAyED,GAAnF,CAAN;AACf,aAAO9F,MAAM8F,MAAMC,EAAZ,CAAP;AACD;;AAED,QAAIA,KAAKD,GAAT,EAAc,MAAM,IAAIG,KAAJ,CAAU,wBAAwBF,EAAxB,GAA6B,+BAA7B,GAA+DD,GAAzE,CAAN;AACd1D,WAAO,UAAW0D,MAAMC,EAAP,IAAc,EAAxB,CAAP;AACA,QAAI,CAACC,WAAL,EAAkB,OAAO5D,IAAP;AACnB;;AAED,MAAI+B,OAAO/B,IAAX;AACA,MAAI8D,WAAWF,YAAYG,KAAZ,CAAkB,GAAlB,CAAf;AACA,OAAK,IAAI5F,IAAE,CAAX,EAAcA,IAAE2F,SAASvD,MAAzB,EAAiCpC,GAAjC,EAAsC;AACpC,QAAI6F,UAAUF,SAAS3F,CAAT,CAAd;AACA,QAAI6F,OAAJ,EAAa;AACXhE,cAAQvB,YAAYgB,oBAAoBuE,OAApB,CAAZ,CAAR;AACAjC,cAAQ,SAAS/B,IAAjB;AACD;AACF;AACD,SAAO+B,IAAP;AACD;;AAGD,SAASsB,SAAT,CAAoBY,CAApB,EAAuBC,CAAvB,EAA0B;AACxB,MAAID,KAAK,IAAT,EAAe,OAAOC,CAAP;AACf,SAAO,CAACD,IAAI,KAAJ,GAAYC,CAAb,EAAgBxC,OAAhB,CAAwB,SAAxB,EAAmC,EAAnC,CAAP;AACD;;AAGD,SAASlC,gBAAT,CAA0BiC,GAA1B,EAA+B;AAC7B,SAAOhC,oBAAoB0E,mBAAmB1C,GAAnB,CAApB,CAAP;AACD;;AAGD,SAAS/B,cAAT,CAAwB+B,GAAxB,EAA6B;AAC3B,SAAO2C,mBAAmBzE,kBAAkB8B,GAAlB,CAAnB,CAAP;AACD;;AAGD,SAAS9B,iBAAT,CAA2B8B,GAA3B,EAAgC;AAC9B,SAAOA,IAAIC,OAAJ,CAAY,IAAZ,EAAkB,IAAlB,EAAwBA,OAAxB,CAAgC,KAAhC,EAAuC,IAAvC,CAAP;AACD;;AAGD,SAASjC,mBAAT,CAA6BgC,GAA7B,EAAkC;AAChC,SAAOA,IAAIC,OAAJ,CAAY,KAAZ,EAAmB,GAAnB,EAAwBA,OAAxB,CAAgC,KAAhC,EAAuC,GAAvC,CAAP;AACD,C;;;;;;;AC1QD;AACa;;;;;;;;;;AAEb;;;;;;;;;;;;IAEqB2C,oB;;;AAEnB,gCAAYhI,KAAZ,EAAmB;AAAA;;AAAA,4IACXA,KADW;;AAEjB,UAAKiI,QAAL,GAAgB,IAAI9H,KAAKC,SAAT,EAAhB;AACA,UAAK8H,UAAL,CAAgB,MAAKD,QAArB;AAHiB;AAIlB;;;;2BA0BM3H,M,EAAQ;AACb,yIAAaA,MAAb;AACA,WAAKQ,IAAL,CAAUH,QAAV,GAAqB,CAArB;AACA,WAAKwH,IAAL,CAAUxH,QAAV,GAAqB,KAAKX,KAAL,CAAWU,KAAX,IAAoBE,KAAKC,EAAL,GAAQ,GAA5B,CAArB;AACA,WAAKuH,GAAL,CAASzH,QAAT,GAAoB,CAAC,KAAKX,KAAL,CAAWU,KAAX,GAAmB,KAAKV,KAAL,CAAWqI,QAA/B,KAA4CzH,KAAKC,EAAL,GAAQ,GAApD,CAApB;AACA,WAAKyH,KAAL,CAAW3H,QAAX,GAAsB,CAAC,KAAKX,KAAL,CAAWU,KAAX,GAAmB,KAAKV,KAAL,CAAWuI,UAA/B,KAA8C3H,KAAKC,EAAL,GAAQ,GAAtD,CAAtB;AACA,WAAK2H,SAAL,CAAeC,KAAf,CAAqBlI,CAArB,GAAyB,KAAKP,KAAL,CAAW0I,MAAX,GAAoB,KAAK1I,KAAL,CAAW2I,SAAxD;AACA,WAAKC,KAAL,CAAWC,IAAX,GAAkB,KAAK7I,KAAL,CAAW8I,QAA7B;;AAEA,WAAKC,OAAL,CAAaxI,CAAb,GAAiB,KAAKO,IAAL,CAAUP,CAA3B;AACA,WAAKwI,OAAL,CAAatI,CAAb,GAAiB,KAAKK,IAAL,CAAUL,CAA3B;;AAEA,WAAI,IAAIqB,IAAE,CAAV,EAAaA,IAAIxB,OAAO4D,MAAxB,EAAgCpC,GAAhC,EAAqC;AACnC,aAAKkH,QAAL,CAAc1I,OAAOwB,CAAP,CAAd;AACD;AACF;;;6BAEQmH,K,EAAO;AACd,cAAQA,MAAMC,IAAd;AACE,aAAK,OAAL;AACE,eAAKC,QAAL,CAAcF,KAAd;AACA;AACF,aAAK,SAAL;AACE,eAAKG,UAAL,CAAgBH,KAAhB;AACA;AANJ;AAQD;;;6BAEQA,K,EAAO,CAEf;;;+BAGUA,K,EAAO;AAChB,WAAKI,OAAL;AACD;;;4BAEOpI,S,EAAW;AACjB,0IAAcA,SAAd;AACA,WAAKqI,KAAL,GAAa,KAAKC,WAAL,EAAb;AACA,WAAKC,IAAL,GAAY,KAAKC,UAAL,EAAZ;AACA,WAAKC,MAAL,GAAc,KAAKC,YAAL,EAAd;AACA1I,gBAAU2I,QAAV,CAAmB,KAAKN,KAAxB;AACArI,gBAAU2I,QAAV,CAAmB,KAAKJ,IAAxB;AACAvI,gBAAU2I,QAAV,CAAmB,KAAKF,MAAxB;AACD;;;+BAEUzI,S,EAAW;AACpB,WAAK4I,MAAL,GAAc,KAAKC,YAAL,EAAd;AACA,WAAKC,UAAL,GAAkB,KAAKC,gBAAL,EAAlB;AACA/I,gBAAU2I,QAAV,CAAmB,KAAKK,oBAAL,EAAnB;AACAhJ,gBAAU2I,QAAV,CAAmB,KAAKG,UAAxB;AACA9I,gBAAU2I,QAAV,CAAmB,KAAKC,MAAxB;AACD;;;kCAEa;AACZ,aAAO,IAAI1J,KAAK+J,MAAT,EAAP;AACD;;;iCAEY;AACX,aAAO,IAAI/J,KAAK+J,MAAT,EAAP;AACD;;;mCAEc;AACb,aAAO,IAAI/J,KAAK+J,MAAT,EAAP;AACD;;;2CAEsB;AACrB,aAAO,IAAI/J,KAAK+J,MAAT,EAAP;AACD;;;uCAEkB;AACjB,aAAO,IAAI/J,KAAK+J,MAAT,EAAP;AACD;;;mCAEc;AACb,aAAO,IAAI/J,KAAKgK,IAAT,EAAP;AACD;;;8BACS;AACR;AACA,UAAG,KAAKpB,OAAL,CAAahI,MAAhB,EAAwB;AACtB,aAAKgI,OAAL,CAAahI,MAAb,CAAoBC,WAApB,CAAgC,KAAK+H,OAArC;AACD;AACF;;;wBA3GU;AACT,aAAO,KAAKO,KAAZ;AACD;;;wBAEa;AACZ,aAAO,KAAKrB,QAAZ;AACD;;;wBAES;AACR,aAAO,KAAKuB,IAAZ;AACD;;;wBAEW;AACV,aAAO,KAAKE,MAAZ;AACD;;;wBAEW;AACV,aAAO,KAAKG,MAAZ;AACD;;;wBAEe;AACd,aAAO,KAAKE,UAAZ;AACD;;;;EA9B+ChK,0B;;kBAA7BiI,oB;;;;;;;;;ACLrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAIoC,OAAO7H,mBAAOA,CAAC,EAAR,CAAX;;AAEA;AACA;AACA;AACA,IAAI8H,SAAS9H,mBAAOA,CAAC,EAAR,CAAb;;AAEA;AACA;AACA;AACA,IAAI+H,SAAS/H,mBAAOA,CAAC,EAAR,CAAb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIgI,YAAYhI,mBAAOA,CAAC,EAAR,CAAhB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIiI,UAAUjI,mBAAOA,CAAC,EAAR,CAAd;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAIkI,SAASlI,mBAAOA,CAAC,EAAR,CAAb;;AAEA;AACA;AACA,IAAImI,KAAKnI,mBAAOA,CAAC,EAAR,CAAT;;AAEAmI,GAAGN,IAAH,GAAUA,IAAV;AACAM,GAAGL,MAAH,GAAYA,MAAZ;AACAK,GAAGJ,MAAH,GAAYA,MAAZ;AACAI,GAAGH,SAAH,GAAeA,SAAf;AACAG,GAAGF,OAAH,GAAaA,OAAb;AACAE,GAAGD,MAAH,GAAYA,MAAZ;;AAEAtJ,OAAOC,OAAP,GAAiBsJ,EAAjB,C;;;;;;;AC3Da;;;;AAEb,IAAIC,MAAMpI,mBAAOA,CAAC,EAAR,CAAV;AAAA,IACID,QAAQC,mBAAOA,CAAC,CAAR,CADZ;AAAA,IAEIqI,OAAOrI,mBAAOA,CAAC,CAAR,CAFX;AAAA,IAGIsI,eAAetI,mBAAOA,CAAC,EAAR,CAHnB;AAAA,IAIIuI,WAAWvI,mBAAOA,CAAC,EAAR,CAJf;;AAMApB,OAAOC,OAAP,GAAiB2J,OAAjB;;AAEAA,QAAQC,WAAR,GAAsBA,WAAtB;AACAD,QAAQE,QAAR,GAAmBC,WAAnB;AACAH,QAAQI,GAAR,GAAcC,UAAd;AACAL,QAAQM,GAAR,GAAcC,UAAd;AACAP,QAAQQ,SAAR,GAAoBA,SAApB;AACAR,QAAQtE,MAAR,GAAiB+E,aAAjB;;AAEA;;;;;;;;AAQA,SAAST,OAAT,CAAiBU,OAAjB,EAA0BC,IAA1B,EAAgCC,GAAhC,EAAqC;AACnC;AACA,MAAIC,SAAS,KAAKC,KAAL,CAAWF,GAAX,CAAb;AACA,MAAI,OAAOC,MAAP,IAAiB,QAArB,EAA+B;AAC7B,QAAI,KAAKC,KAAL,CAAWD,MAAX,CAAJ,EAAwBA,SAAS,KAAKC,KAAL,CAAWD,MAAX,CAAT,CAAxB,KACK,OAAOb,QAAQe,IAAR,CAAa,IAAb,EAAmBL,OAAnB,EAA4BC,IAA5B,EAAkCE,MAAlC,CAAP;AACN;;AAEDA,WAASA,UAAU,KAAKG,QAAL,CAAcJ,GAAd,CAAnB;AACA,MAAIC,kBAAkBf,YAAtB,EAAoC;AAClC,WAAOU,UAAUK,OAAOnF,MAAjB,EAAyB,KAAKuF,KAAL,CAAWC,UAApC,IACGL,OAAOnF,MADV,GAEGmF,OAAOM,QAAP,IAAmB,KAAKC,QAAL,CAAcP,MAAd,CAF7B;AAGD;;AAED,MAAIQ,MAAMZ,cAAcM,IAAd,CAAmB,IAAnB,EAAyBJ,IAAzB,EAA+BC,GAA/B,CAAV;AACA,MAAIlF,MAAJ,EAAY4F,CAAZ,EAAeC,MAAf;AACA,MAAIF,GAAJ,EAAS;AACP3F,aAAS2F,IAAI3F,MAAb;AACAiF,WAAOU,IAAIV,IAAX;AACAY,aAASF,IAAIE,MAAb;AACD;;AAED,MAAI7F,kBAAkBoE,YAAtB,EAAoC;AAClCwB,QAAI5F,OAAOyF,QAAP,IAAmBT,QAAQK,IAAR,CAAa,IAAb,EAAmBrF,OAAOA,MAA1B,EAAkCiF,IAAlC,EAAwClL,SAAxC,EAAmD8L,MAAnD,CAAvB;AACD,GAFD,MAEO,IAAI7F,WAAWjG,SAAf,EAA0B;AAC/B6L,QAAId,UAAU9E,MAAV,EAAkB,KAAKuF,KAAL,CAAWC,UAA7B,IACExF,MADF,GAEEgF,QAAQK,IAAR,CAAa,IAAb,EAAmBrF,MAAnB,EAA2BiF,IAA3B,EAAiClL,SAAjC,EAA4C8L,MAA5C,CAFN;AAGD;;AAED,SAAOD,CAAP;AACD;;AAGD;;;;;;;AAOA,SAASb,aAAT,CAAuBE,IAAvB,EAA6BC,GAA7B,EAAkC;AAChC;AACA,MAAIY,IAAI5B,IAAI6B,KAAJ,CAAUb,GAAV,CAAR;AAAA,MACIc,UAAUC,aAAaH,CAAb,CADd;AAAA,MAEID,SAASpB,YAAY,KAAKyB,MAAL,CAAYjB,KAAKjF,MAAjB,CAAZ,CAFb;AAGA,MAAIhF,OAAOmL,IAAP,CAAYlB,KAAKjF,MAAjB,EAAyBvC,MAAzB,KAAoC,CAApC,IAAyCuI,YAAYH,MAAzD,EAAiE;AAC/D,QAAIO,KAAK7B,YAAYyB,OAAZ,CAAT;AACA,QAAIb,SAAS,KAAKC,KAAL,CAAWgB,EAAX,CAAb;AACA,QAAI,OAAOjB,MAAP,IAAiB,QAArB,EAA+B;AAC7B,aAAOkB,iBAAiBhB,IAAjB,CAAsB,IAAtB,EAA4BJ,IAA5B,EAAkCE,MAAlC,EAA0CW,CAA1C,CAAP;AACD,KAFD,MAEO,IAAIX,kBAAkBf,YAAtB,EAAoC;AACzC,UAAI,CAACe,OAAOM,QAAZ,EAAsB,KAAKC,QAAL,CAAcP,MAAd;AACtBF,aAAOE,MAAP;AACD,KAHM,MAGA;AACLA,eAAS,KAAKG,QAAL,CAAcc,EAAd,CAAT;AACA,UAAIjB,kBAAkBf,YAAtB,EAAoC;AAClC,YAAI,CAACe,OAAOM,QAAZ,EAAsB,KAAKC,QAAL,CAAcP,MAAd;AACtB,YAAIiB,MAAM7B,YAAYW,GAAZ,CAAV,EACE,OAAO,EAAElF,QAAQmF,MAAV,EAAkBF,MAAMA,IAAxB,EAA8BY,QAAQA,MAAtC,EAAP;AACFZ,eAAOE,MAAP;AACD,OALD,MAKO;AACL;AACD;AACF;AACD,QAAI,CAACF,KAAKjF,MAAV,EAAkB;AAClB6F,aAASpB,YAAY,KAAKyB,MAAL,CAAYjB,KAAKjF,MAAjB,CAAZ,CAAT;AACD;AACD,SAAOsG,eAAejB,IAAf,CAAoB,IAApB,EAA0BS,CAA1B,EAA6BD,MAA7B,EAAqCZ,KAAKjF,MAA1C,EAAkDiF,IAAlD,CAAP;AACD;;AAGD;AACA,SAASoB,gBAAT,CAA0BpB,IAA1B,EAAgCC,GAAhC,EAAqCqB,SAArC,EAAgD;AAC9C;AACA,MAAIZ,MAAMZ,cAAcM,IAAd,CAAmB,IAAnB,EAAyBJ,IAAzB,EAA+BC,GAA/B,CAAV;AACA,MAAIS,GAAJ,EAAS;AACP,QAAI3F,SAAS2F,IAAI3F,MAAjB;AACA,QAAI6F,SAASF,IAAIE,MAAjB;AACAZ,WAAOU,IAAIV,IAAX;AACA,QAAImB,KAAK,KAAKF,MAAL,CAAYlG,MAAZ,CAAT;AACA,QAAIoG,EAAJ,EAAQP,SAASlB,WAAWkB,MAAX,EAAmBO,EAAnB,CAAT;AACR,WAAOE,eAAejB,IAAf,CAAoB,IAApB,EAA0BkB,SAA1B,EAAqCV,MAArC,EAA6C7F,MAA7C,EAAqDiF,IAArD,CAAP;AACD;AACF;;AAGD,IAAIuB,uBAAuBrC,KAAKzI,MAAL,CAAY,CAAC,YAAD,EAAe,mBAAf,EAAoC,MAApC,EAA4C,cAA5C,EAA4D,aAA5D,CAAZ,CAA3B;AACA;AACA,SAAS4K,cAAT,CAAwBC,SAAxB,EAAmCV,MAAnC,EAA2C7F,MAA3C,EAAmDiF,IAAnD,EAAyD;AACvD;AACAsB,YAAUE,QAAV,GAAqBF,UAAUE,QAAV,IAAsB,EAA3C;AACA,MAAIF,UAAUE,QAAV,CAAmBC,KAAnB,CAAyB,CAAzB,EAA2B,CAA3B,KAAiC,GAArC,EAA0C;AAC1C,MAAIC,QAAQJ,UAAUE,QAAV,CAAmBxF,KAAnB,CAAyB,GAAzB,CAAZ;;AAEA,OAAK,IAAI5F,IAAI,CAAb,EAAgBA,IAAIsL,MAAMlJ,MAA1B,EAAkCpC,GAAlC,EAAuC;AACrC,QAAIuL,OAAOD,MAAMtL,CAAN,CAAX;AACA,QAAIuL,IAAJ,EAAU;AACRA,aAAOzC,KAAKzH,gBAAL,CAAsBkK,IAAtB,CAAP;AACA5G,eAASA,OAAO4G,IAAP,CAAT;AACA,UAAI5G,WAAWjG,SAAf,EAA0B;AAC1B,UAAIqM,EAAJ;AACA,UAAI,CAACI,qBAAqBI,IAArB,CAAL,EAAiC;AAC/BR,aAAK,KAAKF,MAAL,CAAYlG,MAAZ,CAAL;AACA,YAAIoG,EAAJ,EAAQP,SAASlB,WAAWkB,MAAX,EAAmBO,EAAnB,CAAT;AACR,YAAIpG,OAAO6G,IAAX,EAAiB;AACf,cAAIA,OAAOlC,WAAWkB,MAAX,EAAmB7F,OAAO6G,IAA1B,CAAX;AACA,cAAIlB,MAAMZ,cAAcM,IAAd,CAAmB,IAAnB,EAAyBJ,IAAzB,EAA+B4B,IAA/B,CAAV;AACA,cAAIlB,GAAJ,EAAS;AACP3F,qBAAS2F,IAAI3F,MAAb;AACAiF,mBAAOU,IAAIV,IAAX;AACAY,qBAASF,IAAIE,MAAb;AACD;AACF;AACF;AACF;AACF;AACD,MAAI7F,WAAWjG,SAAX,IAAwBiG,WAAWiF,KAAKjF,MAA5C,EACE,OAAO,EAAEA,QAAQA,MAAV,EAAkBiF,MAAMA,IAAxB,EAA8BY,QAAQA,MAAtC,EAAP;AACH;;AAGD,IAAIiB,iBAAiB3C,KAAKzI,MAAL,CAAY,CAC/B,MAD+B,EACvB,QADuB,EACb,SADa,EAE/B,WAF+B,EAElB,WAFkB,EAG/B,eAH+B,EAGd,eAHc,EAI/B,UAJ+B,EAInB,UAJmB,EAK/B,SAL+B,EAKpB,SALoB,EAM/B,aAN+B,EAMhB,YANgB,EAO/B,UAP+B,EAOnB,MAPmB,CAAZ,CAArB;AASA,SAASoJ,SAAT,CAAmB9E,MAAnB,EAA2B+G,KAA3B,EAAkC;AAChC,MAAIA,UAAU,KAAd,EAAqB,OAAO,KAAP;AACrB,MAAIA,UAAUhN,SAAV,IAAuBgN,UAAU,IAArC,EAA2C,OAAOC,WAAWhH,MAAX,CAAP,CAA3C,KACK,IAAI+G,KAAJ,EAAW,OAAOE,UAAUjH,MAAV,KAAqB+G,KAA5B;AACjB;;AAGD,SAASC,UAAT,CAAoBhH,MAApB,EAA4B;AAC1B,MAAIkH,IAAJ;AACA,MAAI9I,MAAMC,OAAN,CAAc2B,MAAd,CAAJ,EAA2B;AACzB,SAAK,IAAI3E,IAAE,CAAX,EAAcA,IAAE2E,OAAOvC,MAAvB,EAA+BpC,GAA/B,EAAoC;AAClC6L,aAAOlH,OAAO3E,CAAP,CAAP;AACA,UAAI,QAAO6L,IAAP,yCAAOA,IAAP,MAAe,QAAf,IAA2B,CAACF,WAAWE,IAAX,CAAhC,EAAkD,OAAO,KAAP;AACnD;AACF,GALD,MAKO;AACL,SAAK,IAAIlK,GAAT,IAAgBgD,MAAhB,EAAwB;AACtB,UAAIhD,OAAO,MAAX,EAAmB,OAAO,KAAP;AACnBkK,aAAOlH,OAAOhD,GAAP,CAAP;AACA,UAAI,QAAOkK,IAAP,yCAAOA,IAAP,MAAe,QAAf,IAA2B,CAACF,WAAWE,IAAX,CAAhC,EAAkD,OAAO,KAAP;AACnD;AACF;AACD,SAAO,IAAP;AACD;;AAGD,SAASD,SAAT,CAAmBjH,MAAnB,EAA2B;AACzB,MAAImH,QAAQ,CAAZ;AAAA,MAAeD,IAAf;AACA,MAAI9I,MAAMC,OAAN,CAAc2B,MAAd,CAAJ,EAA2B;AACzB,SAAK,IAAI3E,IAAE,CAAX,EAAcA,IAAE2E,OAAOvC,MAAvB,EAA+BpC,GAA/B,EAAoC;AAClC6L,aAAOlH,OAAO3E,CAAP,CAAP;AACA,UAAI,QAAO6L,IAAP,yCAAOA,IAAP,MAAe,QAAnB,EAA6BC,SAASF,UAAUC,IAAV,CAAT;AAC7B,UAAIC,SAASC,QAAb,EAAuB,OAAOA,QAAP;AACxB;AACF,GAND,MAMO;AACL,SAAK,IAAIpK,GAAT,IAAgBgD,MAAhB,EAAwB;AACtB,UAAIhD,OAAO,MAAX,EAAmB,OAAOoK,QAAP;AACnB,UAAIN,eAAe9J,GAAf,CAAJ,EAAyB;AACvBmK;AACD,OAFD,MAEO;AACLD,eAAOlH,OAAOhD,GAAP,CAAP;AACA,YAAI,QAAOkK,IAAP,yCAAOA,IAAP,MAAe,QAAnB,EAA6BC,SAASF,UAAUC,IAAV,IAAkB,CAA3B;AAC7B,YAAIC,SAASC,QAAb,EAAuB,OAAOA,QAAP;AACxB;AACF;AACF;AACD,SAAOD,KAAP;AACD;;AAGD,SAAS1C,WAAT,CAAqB2B,EAArB,EAAyBiB,SAAzB,EAAoC;AAClC,MAAIA,cAAc,KAAlB,EAAyBjB,KAAK7B,YAAY6B,EAAZ,CAAL;AACzB,MAAIN,IAAI5B,IAAI6B,KAAJ,CAAUK,EAAV,CAAR;AACA,SAAOH,aAAaH,CAAb,CAAP;AACD;;AAGD,SAASG,YAAT,CAAsBH,CAAtB,EAAyB;AACvB,SAAO5B,IAAIoD,SAAJ,CAAcxB,CAAd,EAAiB7E,KAAjB,CAAuB,GAAvB,EAA4B,CAA5B,IAAiC,GAAxC;AACD;;AAGD,IAAIsG,sBAAsB,OAA1B;AACA,SAAShD,WAAT,CAAqB6B,EAArB,EAAyB;AACvB,SAAOA,KAAKA,GAAGxH,OAAH,CAAW2I,mBAAX,EAAgC,EAAhC,CAAL,GAA2C,EAAlD;AACD;;AAGD,SAAS5C,UAAT,CAAoBkB,MAApB,EAA4BO,EAA5B,EAAgC;AAC9BA,OAAK7B,YAAY6B,EAAZ,CAAL;AACA,SAAOlC,IAAII,OAAJ,CAAYuB,MAAZ,EAAoBO,EAApB,CAAP;AACD;;AAGD;AACA,SAASvB,UAAT,CAAoB7E,MAApB,EAA4B;AAC1B,MAAIwH,WAAWjD,YAAY,KAAK2B,MAAL,CAAYlG,MAAZ,CAAZ,CAAf;AACA,MAAIyH,UAAU,EAAC,IAAID,QAAL,EAAd;AACA,MAAIE,YAAY,EAAC,IAAIjD,YAAY+C,QAAZ,EAAsB,KAAtB,CAAL,EAAhB;AACA,MAAIG,YAAY,EAAhB;AACA,MAAIC,OAAO,IAAX;;AAEAvD,WAASrE,MAAT,EAAiB,EAAC6H,SAAS,IAAV,EAAjB,EAAkC,UAASC,GAAT,EAAcC,OAAd,EAAuBC,UAAvB,EAAmCC,aAAnC,EAAkDC,aAAlD,EAAiEC,YAAjE,EAA+EC,QAA/E,EAAyF;AACzH,QAAIL,YAAY,EAAhB,EAAoB;AACpB,QAAI3B,KAAKwB,KAAK1B,MAAL,CAAY4B,GAAZ,CAAT;AACA,QAAIjC,SAAS4B,QAAQQ,aAAR,CAAb;AACA,QAAIzD,WAAWkD,UAAUO,aAAV,IAA2B,GAA3B,GAAiCC,aAAhD;AACA,QAAIE,aAAarO,SAAjB,EACEyK,YAAY,OAAO,OAAO4D,QAAP,IAAmB,QAAnB,GAA8BA,QAA9B,GAAyCjE,KAAKvH,cAAL,CAAoBwL,QAApB,CAAhD,CAAZ;;AAEF,QAAI,OAAOhC,EAAP,IAAa,QAAjB,EAA2B;AACzBA,WAAKP,SAAStB,YAAYsB,SAAS3B,IAAII,OAAJ,CAAYuB,MAAZ,EAAoBO,EAApB,CAAT,GAAmCA,EAA/C,CAAd;;AAEA,UAAIjB,SAASyC,KAAKxC,KAAL,CAAWgB,EAAX,CAAb;AACA,UAAI,OAAOjB,MAAP,IAAiB,QAArB,EAA+BA,SAASyC,KAAKxC,KAAL,CAAWD,MAAX,CAAT;AAC/B,UAAIA,UAAUA,OAAOnF,MAArB,EAA6B;AAC3B,YAAI,CAACnE,MAAMiM,GAAN,EAAW3C,OAAOnF,MAAlB,CAAL,EACE,MAAM,IAAIe,KAAJ,CAAU,SAASqF,EAAT,GAAc,oCAAxB,CAAN;AACH,OAHD,MAGO,IAAIA,MAAM7B,YAAYC,QAAZ,CAAV,EAAiC;AACtC,YAAI4B,GAAG,CAAH,KAAS,GAAb,EAAkB;AAChB,cAAIuB,UAAUvB,EAAV,KAAiB,CAACvK,MAAMiM,GAAN,EAAWH,UAAUvB,EAAV,CAAX,CAAtB,EACE,MAAM,IAAIrF,KAAJ,CAAU,SAASqF,EAAT,GAAc,oCAAxB,CAAN;AACFuB,oBAAUvB,EAAV,IAAgB0B,GAAhB;AACD,SAJD,MAIO;AACLF,eAAKxC,KAAL,CAAWgB,EAAX,IAAiB5B,QAAjB;AACD;AACF;AACF;AACDiD,YAAQM,OAAR,IAAmBlC,MAAnB;AACA6B,cAAUK,OAAV,IAAqBvD,QAArB;AACD,GA5BD;;AA8BA,SAAOmD,SAAP;AACD,C;;;;;;;AC7QY;;;;AAEb,IAAItJ,UAAUD,MAAMC,OAApB;AACA,IAAIgK,UAAUrN,OAAOmL,IAArB;AACA,IAAImC,UAAUtN,OAAOuN,SAAP,CAAiBC,cAA/B;;AAEA9N,OAAOC,OAAP,GAAiB,SAASkB,KAAT,CAAesF,CAAf,EAAkBC,CAAlB,EAAqB;AACpC,MAAID,MAAMC,CAAV,EAAa,OAAO,IAAP;;AAEb,MAAID,KAAKC,CAAL,IAAU,QAAOD,CAAP,yCAAOA,CAAP,MAAY,QAAtB,IAAkC,QAAOC,CAAP,yCAAOA,CAAP,MAAY,QAAlD,EAA4D;AAC1D,QAAIqH,OAAOpK,QAAQ8C,CAAR,CAAX;AAAA,QACIuH,OAAOrK,QAAQ+C,CAAR,CADX;AAAA,QAEI/F,CAFJ;AAAA,QAGIoC,MAHJ;AAAA,QAIIT,GAJJ;;AAMA,QAAIyL,QAAQC,IAAZ,EAAkB;AAChBjL,eAAS0D,EAAE1D,MAAX;AACA,UAAIA,UAAU2D,EAAE3D,MAAhB,EAAwB,OAAO,KAAP;AACxB,WAAKpC,IAAIoC,MAAT,EAAiBpC,QAAQ,CAAzB;AACE,YAAI,CAACQ,MAAMsF,EAAE9F,CAAF,CAAN,EAAY+F,EAAE/F,CAAF,CAAZ,CAAL,EAAwB,OAAO,KAAP;AAD1B,OAEA,OAAO,IAAP;AACD;;AAED,QAAIoN,QAAQC,IAAZ,EAAkB,OAAO,KAAP;;AAElB,QAAIC,QAAQxH,aAAayH,IAAzB;AAAA,QACIC,QAAQzH,aAAawH,IADzB;AAEA,QAAID,SAASE,KAAb,EAAoB,OAAO,KAAP;AACpB,QAAIF,SAASE,KAAb,EAAoB,OAAO1H,EAAE2H,OAAF,MAAe1H,EAAE0H,OAAF,EAAtB;;AAEpB,QAAIC,UAAU5H,aAAanC,MAA3B;AAAA,QACIgK,UAAU5H,aAAapC,MAD3B;AAEA,QAAI+J,WAAWC,OAAf,EAAwB,OAAO,KAAP;AACxB,QAAID,WAAWC,OAAf,EAAwB,OAAO7H,EAAE8H,QAAF,MAAgB7H,EAAE6H,QAAF,EAAvB;;AAExB,QAAI9C,OAAOkC,QAAQlH,CAAR,CAAX;AACA1D,aAAS0I,KAAK1I,MAAd;;AAEA,QAAIA,WAAW4K,QAAQjH,CAAR,EAAW3D,MAA1B,EACE,OAAO,KAAP;;AAEF,SAAKpC,IAAIoC,MAAT,EAAiBpC,QAAQ,CAAzB;AACE,UAAI,CAACiN,QAAQjD,IAAR,CAAajE,CAAb,EAAgB+E,KAAK9K,CAAL,CAAhB,CAAL,EAA+B,OAAO,KAAP;AADjC,KAGA,KAAKA,IAAIoC,MAAT,EAAiBpC,QAAQ,CAAzB,GAA6B;AAC3B2B,YAAMmJ,KAAK9K,CAAL,CAAN;AACA,UAAI,CAACQ,MAAMsF,EAAEnE,GAAF,CAAN,EAAcoE,EAAEpE,GAAF,CAAd,CAAL,EAA4B,OAAO,KAAP;AAC7B;;AAED,WAAO,IAAP;AACD;;AAED,SAAOmE,MAAIA,CAAJ,IAASC,MAAIA,CAApB;AACD,CAhDD,C;;;;;;;ACNa;;AAEb,IAAIkD,UAAUxI,mBAAOA,CAAC,CAAR,CAAd;;AAEApB,OAAOC,OAAP,GAAiB;AACfuO,cAAYC,cAAcC,eAAd,CADG;AAEfC,cAAYF,cAAcG,eAAd;AAFG,CAAjB;;AAMA,SAASF,eAAT,CAAyBG,MAAzB,EAAiC;AAC/B,OAAKC,OAAL,GAAe,mBAAf;AACA,OAAKD,MAAL,GAAcA,MAAd;AACA,OAAKE,GAAL,GAAW,KAAKC,UAAL,GAAkB,IAA7B;AACD;;AAGDJ,gBAAgBE,OAAhB,GAA0B,UAAU3D,MAAV,EAAkBX,GAAlB,EAAuB;AAC/C,SAAO,8BAA8BA,GAA9B,GAAoC,WAApC,GAAkDW,MAAzD;AACD,CAFD;;AAKA,SAASyD,eAAT,CAAyBzD,MAAzB,EAAiCX,GAAjC,EAAsCsE,OAAtC,EAA+C;AAC7C,OAAKA,OAAL,GAAeA,WAAWF,gBAAgBE,OAAhB,CAAwB3D,MAAxB,EAAgCX,GAAhC,CAA1B;AACA,OAAKyE,UAAL,GAAkBrF,QAAQI,GAAR,CAAYmB,MAAZ,EAAoBX,GAApB,CAAlB;AACA,OAAK0E,aAAL,GAAqBtF,QAAQC,WAAR,CAAoBD,QAAQE,QAAR,CAAiB,KAAKmF,UAAtB,CAApB,CAArB;AACD;;AAGD,SAASR,aAAT,CAAuBU,QAAvB,EAAiC;AAC/BA,WAAStB,SAAT,GAAqBvN,OAAO8O,MAAP,CAAc/I,MAAMwH,SAApB,CAArB;AACAsB,WAAStB,SAAT,CAAmBwB,WAAnB,GAAiCF,QAAjC;AACA,SAAOA,QAAP;AACD,C;;;;;;;ACjCY;AACb;;;;;;;;;;;;;;IAKMG,Q;AAEJ,sBAAc;AAAA;AAEb;;AAED;;;;;;;;;mCAKeC,W,EAAa,CAE3B;;AAED;;;;;;;;;AAYA;;;gCAGY,CAEX;;AAED;;;;;;iCAGa,CAEZ;;AAED;;;;;;;;+BAKWC,I,EAAMrQ,M,EAAQ,CAExB;;AAED;;;;;;;;gCAKYsQ,S,EAAWC,O,EAAS,CAE/B;;AAED;;;;;;;oCAIgBC,Q,EAAU,CAEzB;;AAED;;;;;;;;iCAKaC,M,EAAQzQ,M,EAAQ,CAE5B;AACD;;;;;;;6BAIS+L,C,EAAG,CAEX;;;2BAEM,CAEN;;;wBAlEa;AACZ,aAAO,CAAP;AACD,K;sBAEWA,C,EAAG,CAEd;;;;;;kBA8DYoE,Q;;;;;;;AC7Ff;AACa;;;;;;;;;;AAEb;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEqBO,oB;;;AAEnB,gCAAYC,IAAZ,EAAkB;AAAA;;AAAA;;AAEhB,UAAKC,KAAL,GAAaD,IAAb;;AAEA,QAAG,OAAO9Q,IAAP,KAAgB,WAAnB,EAAgC;AAC9B,YAAM,sBAAN;AACD;AACD,UAAKgR,gBAAL,GAAwB,IAAIhR,KAAKC,SAAT,EAAxB;AACA,UAAKgR,cAAL,GAAsB,IAAIjR,KAAKC,SAAT,EAAtB;AACA,UAAKiR,gBAAL,GAAwB,IAAIlR,KAAKC,SAAT,EAAxB;AACA,UAAKkR,aAAL,GAAqB,IAAInR,KAAKC,SAAT,EAArB;AACA,UAAK+Q,gBAAL,CAAsBvH,QAAtB,CAA+B,MAAKwH,cAApC;AACA,UAAKD,gBAAL,CAAsBvH,QAAtB,CAA+B,MAAKyH,gBAApC;AACA,UAAKF,gBAAL,CAAsBvH,QAAtB,CAA+B,MAAK0H,aAApC;AACA,UAAKC,SAAL,GAAiB,IAAjB;AACA,UAAKC,MAAL,GAAc,IAAd;AACA,UAAKC,WAAL,GAAmB,IAAIC,gCAAJ,EAAnB;AACA,UAAKC,UAAL,GAAkB,IAAlB;AACA,UAAKC,gBAAL,GAAwB,IAAxB;AACA,QAAGC,OAAOC,gBAAP,IAA2B,CAA9B,EAAiC;AAC/B,YAAKC,cAAL,GAAsB,CAAtB;AACD,KAFD,MAEO;AACL,YAAKA,cAAL,GAAsB,CAAtB;AACD;AAvBe;AAwBjB;;;;mCAccrB,W,EAAa;AAC1B,iJAAqBA,WAArB;AACA,WAAKS,gBAAL,CAAsB5Q,CAAtB,GAA0B,CAAC,KAAKyR,OAAhC;AACA,WAAKb,gBAAL,CAAsB1Q,CAAtB,GAA0B,CAAC,KAAKwR,OAAhC;;AAEA,UAAIC,mBAAmB;AACrBpR,cAAM,KAAKqR,OADU;AAErBC,mBAAW,KAFU;AAGrBC,yBAAiB,QAHI;AAIrBC,oBAAY,KAAKP;AAJI,OAAvB;;AAOA,WAAKR,SAAL,GAAiB,IAAIpR,KAAKoS,kBAAT,CACf7B,YAAY8B,KAAZ,GAAoB,IAAI9B,YAAY+B,MADrB,EAEf/B,YAAYgC,MAAZ,GAAqB,IAAIhC,YAAY+B,MAFtB,EAGfP,gBAHe,CAAjB;AAKA,WAAKV,MAAL,GAAc,IAAIrR,KAAKC,SAAT,EAAd;;AAEA,WAAKwR,gBAAL,GAAwB,KAAKe,sBAAL,CAA4BjC,WAA5B,CAAxB;AACA,WAAKiB,UAAL,GAAkB,KAAKiB,gBAAL,CAAsB,KAAKnB,WAA3B,CAAlB;;AAEA,WAAKD,MAAL,CAAY5H,QAAZ,CAAqB,KAAKgI,gBAAL,CAAsB9Q,IAA3C;AACA,WAAK0Q,MAAL,CAAY5H,QAAZ,CAAqB,KAAKuH,gBAA1B;AACA,WAAKK,MAAL,CAAY5H,QAAZ,CAAqB,KAAK+H,UAAL,CAAgB7Q,IAArC;;AAEA,WAAKyQ,SAAL,CAAesB,MAAf,CAAsB,KAAKrB,MAA3B;AACD;;;yBAEIsB,M,EAAQ;AACX,WAAKX,OAAL,GAAeW,MAAf;AACD;;;+BAEUC,I,EAAM;AAAA;;AACf,UAAG,CAAC,KAAK7B,KAAT,EAAgB;AACd6B;AACA;AACD;AACD,UAAIC,SAAS7S,KAAK6S,MAAlB;AACA,UAAIC,kBAAkB,EAAtB;AACA,WAAI,IAAI7G,GAAR,IAAe4G,OAAOE,SAAtB,EAAiC;AAC/BD,wBAAgBE,IAAhB,CAAqB/G,GAArB;AACD;;AAED,WAAKgH,mBAAL,CAAyB,KAAKlC,KAA9B,EAAqC,KAAKa,cAA1C,EACGsB,MADH,CACU,UAAClI,GAAD,EAAS;AACf,eAAO8H,gBAAgBK,OAAhB,CAAwBnI,GAAxB,KAAgC,CAAC,CAAxC;AACD,OAHH,EAIGoI,OAJH,CAIW,UAACpI,GAAD,EAAS;AAChB6H,eAAOQ,GAAP,CAAWrI,GAAX;AACD,OANH;AAOA6H,aAAOS,IAAP,CAAY,UAACT,MAAD,EAASE,SAAT,EAAuB;AACjC,eAAKQ,cAAL;AACAX;AACD,OAHD;AAID;;;qCAGgB,CAEhB;;;gCAEW;AACV,WAAKnB,gBAAL,CAAsB+B,MAAtB;AACD;;;+BAEUhD,I,EAAMrQ,M,EAAQ;AACvB,6IAAiBqQ,IAAjB,EAAuBrQ,MAAvB;AACA,UAAIQ,OAAO,KAAK8S,WAAL,CAAiBjD,KAAK9D,EAAtB,CAAX;AACA,UAAG,CAAC/L,KAAKC,MAAN,IAAgBD,KAAK+S,OAAxB,EAAiC;AAC/B,aAAKzC,cAAL,CAAoBxH,QAApB,CAA6B9I,KAAKA,IAAlC;AACA,aAAKwQ,aAAL,CAAmB1H,QAAnB,CAA4B9I,KAAKiI,OAAjC;AACD;AACF;;;iCAEYgI,M,EAAQzQ,M,EAAQ;AAC3B,+IAAmByQ,MAAnB,EAA2BzQ,MAA3B;AACA,UAAIQ,OAAO,KAAKgT,aAAL,CAAmB/C,OAAOlE,EAA1B,CAAX;AACA,UAAG,CAAC/L,KAAKC,MAAN,IAAgBD,KAAK+S,OAAxB,EAAiC;AAC/B,aAAKxC,gBAAL,CAAsBzH,QAAtB,CAA+B9I,KAAKA,IAApC;AACD;AACF;;;gCAEW8P,S,EAAWC,O,EAAS;AAC9B,WAAKY,WAAL,CAAiBkC,MAAjB,CAAwB/C,SAAxB,EAAmCC,OAAnC;AACA,WAAKc,UAAL,CAAgBgC,MAAhB;AACD;;;iCAEY;AACX;AACA,WAAKpC,SAAL,CAAesB,MAAf,CAAsB,KAAKrB,MAA3B;AACD;;;wCAEmBuC,Y,EAAcC,a,EAAe;AAC/C,UAAI1B,aAAc0B,iBAAiB,CAAlB,GAAuB,WAAvB,GAAqC,KAAtD;AACA,aAAO,uBACeD,YADf,SAC+BzB,UAD/B,oBAAP;AAGD;;;oCAEe3B,I,EAAM;AACpB,aAAO,IAAI3I,8BAAJ,CAAyB2I,IAAzB,CAAP;AACD;;;sCAEiBI,M,EAAQ;AACxB,aAAO,IAAIhR,0BAAJ,CAAqBgR,MAArB,CAAP;AACD;;;2CAEsBL,W,EAAa;AAClC,aAAO,IAAI3Q,0BAAJ,CAAqB2Q,WAArB,CAAP;AACD;;;qCAEgBuD,K,EAAO;AACtB,aAAO,IAAIlU,0BAAJ,CAAqBkU,KAArB,CAAP;AACD;;;wBA9HW;AACV,aAAO,KAAKzC,MAAZ;AACD;;;wBAEqB;AACpB,aAAO,KAAKI,gBAAZ;AACD;;;wBAEqB;AACpB,aAAO,KAAKT,gBAAZ;AACD;;;;EAtC+C+C,0B;;kBAA7BlD,oB;;;;;;;ACRrB;AACa;;;;;;;;;;AAEb;;;;;;;;;;;;IAEqBmD,sB;;;AAEnB,kCAAYnU,KAAZ,EAAmB;AAAA;;AAAA,2IACXA,KADW;AAElB;;;;2BAEMM,M,EAAQ;AACb,6IAAaA,MAAb;AACA,WAAKQ,IAAL,CAAU2H,KAAV,CAAgBlI,CAAhB,GAAoB,KAAKO,IAAL,CAAU2H,KAAV,CAAgBhI,CAAhB,GAAoB,KAAKT,KAAL,CAAWoU,KAAX,GAAmB,GAAnB,GAAyB,GAAjE;AACA,UAAG,KAAKpU,KAAL,CAAWqU,QAAd,EAAwB;AACtB,aAAKhL,OAAL;AACD;AACF;;;;EAZiDtJ,0B;;kBAA/BoU,sB;;;;;;;ACLR;;;;;;;;AAEb;;;;AACA;;;;AACA;;;;;;;;IAEMG,wB;AAEJ,sCAAc;AAAA;;AACZ,SAAKC,QAAL,GAAgB,CAAhB;AACA,SAAKC,OAAL,GAAe,EAAf;AACA,SAAKC,QAAL,GAAiB,IAAIpF,IAAJ,EAAD,CAAaE,OAAb,EAAhB;AACA,SAAKmF,SAAL,GAAiB,KAAjB;AACD;;;;oCAEeC,E,EAAI;AAClB,WAAKH,OAAL,CAAarB,IAAb,CAAkBwB,EAAlB;AACD;;;gCAEWtI,C,EAAG;AACb,WAAKqI,SAAL,GAAiBrI,CAAjB;AACD;;;kCAEa;AACZ,aAAO,KAAKqI,SAAZ;AACD;;;+BAEUE,I,EAAM;AACf,WAAKH,QAAL,GAAgBG,IAAhB;AACD;;;iCAEY;AACX,aAAO,KAAKL,QAAZ;AACD;;;gCAEW;AACV,aAAO,KAAKC,OAAZ;AACD;;;iCAEY;AACX,aAAO,KAAKC,QAAZ;AACD;;;6BAEQ;AACP,UAAII,OAAO;AACTC,iBAAS,KAAKP,QADL;AAETQ,iBAAS,KAAKN,QAFL;AAGTO,kBAAU,KAAKN,SAHN;AAITO,gBAAQ;AAJC,OAAX;AADO;AAAA;AAAA;;AAAA;AAOP,6BAAc,KAAKT,OAAnB,8HAA4B;AAAA,cAApBG,EAAoB;;AAC1BE,eAAKI,MAAL,CAAY9B,IAAZ,CAAiBwB,GAAGO,MAAH,EAAjB;AACD;AATM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUP,UAAIC,MAAMC,KAAKC,SAAL,CAAeR,IAAf,CAAV;AACA,aAAOM,GAAP;AACD;;;2BAEMxR,I,EAAM2R,Y,EAAc;AACzB,UAAIT,aAAJ;AACA,UAAI;AACFA,eAAOO,KAAK5I,KAAL,CAAW7I,IAAX,CAAP;AACD,OAFD,CAEE,OAAM4R,GAAN,EAAW;AACT,cAAM,IAAI/N,KAAJ,6BAAoC+N,GAApC,CAAN;AACH;AACD,UAAG,KAAKhB,QAAL,IAAgBM,KAAKC,OAAxB,EAAiC;AAC/B,cAAM,IAAItN,KAAJ,6CAAoDqN,KAAKC,OAAzD,qDAAgH,KAAKP,QAArH,CAAN;AACD;AACD,WAAKiB,gBAAL,CAAsBX,IAAtB;AACA,WAAKJ,QAAL,GAAgBI,KAAKE,OAArB;AACA,WAAKL,SAAL,GAAiBG,KAAKG,QAAtB;;AAEA,UAAIL,WAAJ;AAdyB;AAAA;AAAA;;AAAA;AAezB,8BAAkBE,KAAKI,MAAvB,mIAA+B;AAAA,cAAvBQ,MAAuB;;AAC7Bd,eAAK,IAAIe,sBAAJ,EAAL;AACA,cAAG,CAACJ,YAAJ,EAAkB;AAChBG,mBAAOE,UAAP,GAAoB,IAApB;AACAF,mBAAOG,cAAP,GAAwB,GAAxB;AACAH,mBAAOI,QAAP,GAAkB,IAAlB;AACD;AACDlB,aAAGmB,QAAH,CAAYL,MAAZ;AACA,eAAKjB,OAAL,CAAarB,IAAb,CAAkBwB,EAAlB;AACD;AAxBwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyB1B;;;qCAEgBE,I,EAAM;AACrB,UAAI3E,MAAM,IAAI6F,aAAJ,EAAV;AACA,UAAI7J,WAAWgE,IAAIzE,OAAJ,CAAYhF,oBAAZ,CAAf;AACA,UAAIuP,QAAQ9J,SAAS2I,IAAT,CAAZ;AACA,UAAI,CAACmB,KAAL,EAAY;AACV,cAAM,IAAIxO,KAAJ,CAAU,6BAA6B0E,SAAS8D,MAAT,CAAgB,CAAhB,EAAmBC,OAA1D,CAAN;AACD;AACF;;;4BAEO;AACN,UAAIgG,SAAS,IAAI3B,wBAAJ,EAAb;AACA2B,aAAOC,UAAP,CAAkB,KAAKC,UAAL,EAAlB;AACAF,aAAOG,WAAP,CAAmB,KAAKC,WAAL,EAAnB;AACA,UAAIpB,SAAS,KAAKqB,SAAL,EAAb;AACA,UAAIC,gBAAJ;AALM;AAAA;AAAA;;AAAA;AAMN,8BAActB,MAAd,mIAAsB;AAAA,cAAdN,EAAc;;AACpB4B,oBAAU5B,GAAG6B,KAAH,EAAV;AACAP,iBAAOQ,eAAP,CAAuB9B,EAAvB;AACD;AATK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUN,aAAOsB,MAAP;AACD;;;;;;kBAIY3B,wB;;;;;;;AC5GF;;;;;;;;;;AAEb,IAAIoC,8BAA8B,KAAlC;;AAEA;;;;;;IAKMhB,Y;;AAEJ;;;;;AAKA,0BAAc;AAAA;;AACZ,QAAIiB,MAAO,IAAItH,IAAJ,EAAD,CAAaE,OAAb,GAAuBG,QAAvB,EAAV;AACAiH,UAAMA,IAAIC,MAAJ,CAAWD,IAAIzS,MAAJ,GAAW,CAAtB,EAAyB,CAAzB,IAA8B,EAA9B,GAAmCtD,KAAKiW,KAAL,CAAW,WAASjW,KAAKkW,MAAL,EAApB,CAAzC;AACAH,UAAMI,OAAOJ,GAAP,CAAN;AACAA,UAAMA,IAAIjH,QAAJ,CAAa,EAAb,CAAN;AACA,SAAKwB,KAAL,GAAa,EAAb;AACA,SAAK8F,KAAL,GAAaL,GAAb;AACA,SAAKM,KAAL,GAAa,IAAb;AACA,SAAKC,SAAL,GAAiB,IAAjB;AACA,SAAKC,WAAL,GAAmB,IAAnB;AACA,SAAKC,eAAL,GAAuB,GAAvB;AACD;;AAED;;;;;;;6BAGS;AACP,aAAO;AACLnG,cAAM,KAAKC,KADN;AAELmG,cAAM,KAAKL,KAFN;AAGL7S,cAAM,KAAK8S,KAHN;AAILpB,kBAAU,KAAKqB,SAJV;AAKLvB,oBAAY,KAAKwB,WALZ;AAMLvB,wBAAgB,KAAKA;AANhB,OAAP;AAQD;;AAED;;;;;;6BAGSjS,I,EAAM;AACb,WAAKuN,KAAL,GAAavN,KAAKsN,IAAlB;AACA,WAAK+F,KAAL,GAAarT,KAAK0T,IAAlB;AACA,WAAKJ,KAAL,GAAatT,KAAKQ,IAAlB;AACA,WAAK+S,SAAL,GAAiBvT,KAAKkS,QAAtB;AACA,WAAKsB,WAAL,GAAmBxT,KAAKgS,UAAxB;AACA,WAAKyB,eAAL,GAAuBzT,KAAKiS,cAA5B;AACD;;AAED;;;;;;4BAGQ;AACN,UAAIK,SAAS,IAAIP,YAAJ,EAAb;AACAO,aAAOH,QAAP,CAAgB,KAAKZ,MAAL,EAAhB;AACA,aAAOe,MAAP;AACD;;AAED;;;;;;;;AA8DA;;;;;;6BAMSqB,Q,EAAUzB,Q,EAAU;AAC3B,UAAG,CAACyB,QAAJ,EAAc,MAAM,sBAAN;AACd,WAAKpG,KAAL,GAAaoG,QAAb;AACA,WAAKL,KAAL,GAAa,IAAb;AACA,WAAKC,SAAL,GAAiBrB,aAAarV,SAAb,GAAyBqV,QAAzB,GAAoC,IAArD;AACD;;AAED;;;;;;;;;6BAMSyB,Q,EAAUnT,I,EAAM0R,Q,EAAU;AACjC,UAAG,CAACyB,QAAJ,EAAc,MAAM,sBAAN;AACd,UAAG,CAACnT,IAAJ,EAAU,MAAM,kBAAN;AACVA,aAAOA,KAAKkB,OAAL,CAAa,6BAAb,EAA4C,EAA5C,CAAP;AACA,WAAK6L,KAAL,GAAaoG,QAAb;AACA,WAAKL,KAAL,GAAa9S,IAAb;AACA,WAAK+S,SAAL,GAAiBrB,aAAarV,SAAb,GAAyBqV,QAAzB,GAAoC,IAArD;AACD;;AAED;;;;;;;iCAIa0B,Q,EAAU;AACrB,WAAKP,KAAL,GAAaO,QAAb;AACD;;AAED;;;;;;;;;;qCAOiB;AACf,UAAG,CAAC,KAAKN,KAAT,EAAgB;AACd,cAAM,wDAAN;AACD;AACD,UAAG,CAACP,2BAAJ,EAAiC;AAC/Bc,gBAAQC,IAAR,CAAa,kDAAb;AACAf,sCAA8B,IAA9B;AACD;AACD,WAAKS,WAAL,GAAmB,KAAnB;AACD;;;wBA/GU;AACT,aAAO,KAAKjG,KAAZ;AACD;;AAED;;;;;;wBAGe;AACb,aAAO,KAAK8F,KAAZ;AACD;;AAED;;;;;;wBAGqB;AACnB,aAAO,KAAKI,eAAZ;AACD;;AAED;;;;sBAGmB/K,C,EAAG;AACpB,WAAK+K,eAAL,GAAuB/K,CAAvB;AACD;;AAED;;;;;;wBAGe;AACb,UAAG,CAAC,KAAK8K,WAAT,EAAsB,OAAO,IAAP;AACtB,UAAG,KAAKF,KAAR,EAAe;AACb,eAAO,yBAAP;AACD,OAFD,MAEO;AACL,0BAAgB,KAAK/F,KAArB;AACD;AACF;;AAED;;;;;;;wBAIW;AACT,aAAO,KAAK+F,KAAZ;AACD;;AAED;;;;;;wBAGe;AACb,aAAO,KAAKC,SAAZ;AACD;;AAED;;;;;;wBAGiB;AACf,aAAO,KAAKC,WAAZ;AACD;;;;;;kBA0DYzB,Y;;;;;;;ACtLF;;AAEb,IAAI9K,OAAOrI,mBAAOA,CAAC,CAAR,CAAX;;AAEApB,OAAOC,OAAP,GAAiByJ,YAAjB;;AAEA,SAASA,YAAT,CAAsB6M,GAAtB,EAA2B;AACzB9M,OAAK7I,IAAL,CAAU2V,GAAV,EAAe,IAAf;AACD,C;;;;;;;ACRY;;;;AAEbvW,OAAOC,OAAP,GAAiB,UAAUuC,IAAV,EAAgBgU,IAAhB,EAAsB;AACnC,QAAI,CAACA,IAAL,EAAWA,OAAO,EAAP;AACX,QAAI,OAAOA,IAAP,KAAgB,UAApB,EAAgCA,OAAO,EAAEC,KAAKD,IAAP,EAAP;AAChC,QAAIE,SAAU,OAAOF,KAAKE,MAAZ,KAAuB,SAAxB,GAAqCF,KAAKE,MAA1C,GAAmD,KAAhE;;AAEA,QAAID,MAAMD,KAAKC,GAAL,IAAa,UAAUE,CAAV,EAAa;AAChC,eAAO,UAAUC,IAAV,EAAgB;AACnB,mBAAO,UAAUnQ,CAAV,EAAaC,CAAb,EAAgB;AACnB,oBAAImQ,OAAO,EAAEvU,KAAKmE,CAAP,EAAUqQ,OAAOF,KAAKnQ,CAAL,CAAjB,EAAX;AACA,oBAAIsQ,OAAO,EAAEzU,KAAKoE,CAAP,EAAUoQ,OAAOF,KAAKlQ,CAAL,CAAjB,EAAX;AACA,uBAAOiQ,EAAEE,IAAF,EAAQE,IAAR,CAAP;AACH,aAJD;AAKH,SAND;AAOH,KARqB,CAQnBP,KAAKC,GARc,CAAtB;;AAUA,QAAIO,OAAO,EAAX;AACA,WAAQ,SAAS9C,SAAT,CAAoB0C,IAApB,EAA0B;AAC9B,YAAIA,QAAQA,KAAK7C,MAAb,IAAuB,OAAO6C,KAAK7C,MAAZ,KAAuB,UAAlD,EAA8D;AAC1D6C,mBAAOA,KAAK7C,MAAL,EAAP;AACH;;AAED,YAAI6C,SAASvX,SAAb,EAAwB;AACxB,YAAI,OAAOuX,IAAP,IAAe,QAAnB,EAA6B,OAAOK,SAASL,IAAT,IAAiB,KAAKA,IAAtB,GAA6B,MAApC;AAC7B,YAAI,QAAOA,IAAP,yCAAOA,IAAP,OAAgB,QAApB,EAA8B,OAAO3C,KAAKC,SAAL,CAAe0C,IAAf,CAAP;;AAE9B,YAAIjW,CAAJ,EAAOgE,GAAP;AACA,YAAIjB,MAAMC,OAAN,CAAciT,IAAd,CAAJ,EAAyB;AACrBjS,kBAAM,GAAN;AACA,iBAAKhE,IAAI,CAAT,EAAYA,IAAIiW,KAAK7T,MAArB,EAA6BpC,GAA7B,EAAkC;AAC9B,oBAAIA,CAAJ,EAAOgE,OAAO,GAAP;AACPA,uBAAOuP,UAAU0C,KAAKjW,CAAL,CAAV,KAAsB,MAA7B;AACH;AACD,mBAAOgE,MAAM,GAAb;AACH;;AAED,YAAIiS,SAAS,IAAb,EAAmB,OAAO,MAAP;;AAEnB,YAAII,KAAK7E,OAAL,CAAayE,IAAb,MAAuB,CAAC,CAA5B,EAA+B;AAC3B,gBAAIF,MAAJ,EAAY,OAAOzC,KAAKC,SAAL,CAAe,WAAf,CAAP;AACZ,kBAAM,IAAIgD,SAAJ,CAAc,uCAAd,CAAN;AACH;;AAED,YAAIC,YAAYH,KAAKhF,IAAL,CAAU4E,IAAV,IAAkB,CAAlC;AACA,YAAInL,OAAOnL,OAAOmL,IAAP,CAAYmL,IAAZ,EAAkBQ,IAAlB,CAAuBX,OAAOA,IAAIG,IAAJ,CAA9B,CAAX;AACAjS,cAAM,EAAN;AACA,aAAKhE,IAAI,CAAT,EAAYA,IAAI8K,KAAK1I,MAArB,EAA6BpC,GAA7B,EAAkC;AAC9B,gBAAI2B,MAAMmJ,KAAK9K,CAAL,CAAV;AACA,gBAAImW,QAAQ5C,UAAU0C,KAAKtU,GAAL,CAAV,CAAZ;;AAEA,gBAAI,CAACwU,KAAL,EAAY;AACZ,gBAAInS,GAAJ,EAASA,OAAO,GAAP;AACTA,mBAAOsP,KAAKC,SAAL,CAAe5R,GAAf,IAAsB,GAAtB,GAA4BwU,KAAnC;AACH;AACDE,aAAKK,MAAL,CAAYF,SAAZ,EAAuB,CAAvB;AACA,eAAO,MAAMxS,GAAN,GAAY,GAAnB;AACH,KAvCM,CAuCJnC,IAvCI,CAAP;AAwCH,CAxDD,C;;;;;;;ACFa;;AACbxC,OAAOC,OAAP,GAAiB,SAASqX,iBAAT,CAA2BC,EAA3B,EAA+BC,QAA/B,EAAyCC,SAAzC,EAAoD;AACnE,MAAI9S,MAAM,EAAV;AACA,MAAI+S,SAASH,GAAGjS,MAAH,CAAUoS,MAAV,KAAqB,IAAlC;AAAA,MACEC,eAAeJ,GAAG9N,IAAH,CAAQ9H,oBAAR,CAA6B4V,GAAGjS,MAAhC,EAAwCiS,GAAGK,KAAH,CAASC,GAAjD,EAAsD,MAAtD,CADjB;AAAA,MAEEC,MAAMP,GAAGrK,IAAH,CAAQ1B,MAAR,CAAe+L,GAAGjS,MAAlB,CAFR;AAGA,MAAIiS,GAAGQ,KAAP,EAAc;AACZpT,WAAO,kBAAP;AACA,QAAI+S,MAAJ,EAAY;AACVH,SAAGlS,KAAH,GAAW,IAAX;AACAV,aAAO,QAAP;AACD;AACDA,WAAO,uFAAP;AACA,QAAImT,QAAQP,GAAGf,IAAH,CAAQwB,UAAR,IAAsBT,GAAGf,IAAH,CAAQyB,WAAtC,CAAJ,EAAwD;AACtDtT,aAAO,OAAO,oBAAoBmT,GAApB,GAA0B,KAAjC,IAA0C,GAAjD;AACD;AACF;AACD,MAAI,OAAOP,GAAGjS,MAAV,IAAoB,SAApB,IAAiC,EAAEqS,gBAAgBJ,GAAGjS,MAAH,CAAU6G,IAA5B,CAArC,EAAwE;AACtE,QAAIqL,WAAW,cAAf;AACA,QAAIU,OAAOX,GAAGY,KAAd;AACA,QAAIC,WAAWb,GAAGc,SAAlB;AACA,QAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,QAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,QAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,QAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,QAAIC,aAAJ;AACA,QAAI5S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,QAAIU,SAAS,UAAUZ,IAAvB;AACA,QAAIX,GAAGjS,MAAH,KAAc,KAAlB,EAAyB;AACvB,UAAIiS,GAAGQ,KAAP,EAAc;AACZY,wBAAgB,IAAhB;AACD,OAFD,MAEO;AACLhU,eAAO,UAAWmU,MAAX,GAAqB,YAA5B;AACD;AACD,UAAIC,aAAaA,cAAc,EAA/B;AACAA,iBAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,YAAM,EAAN,CARuB,CAQb;AACV,UAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,eAAO,oBAAoBkU,iBAAiB,cAArC,IAAuD,sCAAvD,GAAiGtB,GAAG0B,SAApG,GAAiH,iBAAjH,GAAsI1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAAtI,GAAgL,gBAAvL;AACA,YAAIlB,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,iBAAO,0CAAP;AACD;AACD,YAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,iBAAO,qDAAsD4S,GAAGiB,UAAzD,GAAuE,WAAvE,GAAsFvS,KAAtF,GAA+F,GAAtG;AACD;AACDtB,eAAO,KAAP;AACD,OATD,MASO;AACLA,eAAO,MAAP;AACD;AACD,UAAIyU,QAAQzU,GAAZ;AACAA,YAAMoU,WAAWM,GAAX,EAAN;AACA,UAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,YAAIpB,GAAGlS,KAAP,EAAc;AACZV,iBAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,SAFD,MAEO;AACLzU,iBAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,OAND,MAMO;AACLzU,eAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACF,KAhCD,MAgCO;AACL,UAAI7B,GAAGQ,KAAP,EAAc;AACZ,YAAIL,MAAJ,EAAY;AACV/S,iBAAO,gBAAP;AACD,SAFD,MAEO;AACLA,iBAAO,wCAAP;AACD;AACF,OAND,MAMO;AACLA,eAAO,UAAWmU,MAAX,GAAqB,WAA5B;AACD;AACF;AACD,QAAIvB,GAAGQ,KAAP,EAAc;AACZpT,aAAO,uBAAP;AACD;AACD,WAAOA,GAAP;AACD;AACD,MAAI4S,GAAGQ,KAAP,EAAc;AACZ,QAAIwB,OAAOhC,GAAGQ,KAAd;AAAA,QACEG,OAAOX,GAAGY,KAAH,GAAW,CADpB;AAAA,QAEEC,WAAWb,GAAGc,SAAH,GAAe,CAF5B;AAAA,QAGEpS,QAAQ,MAHV;AAIAsR,OAAGiC,MAAH,GAAYjC,GAAG3N,OAAH,CAAWE,QAAX,CAAoByN,GAAGrK,IAAH,CAAQ1B,MAAR,CAAe+L,GAAGhN,IAAH,CAAQjF,MAAvB,CAApB,CAAZ;AACAiS,OAAGpM,MAAH,GAAYoM,GAAGpM,MAAH,IAAaoM,GAAGiC,MAA5B;AACA,WAAOjC,GAAGQ,KAAV;AACAR,OAAGkC,WAAH,GAAiB,CAACpa,SAAD,CAAjB;AACAsF,WAAO,uBAAP;AACAA,WAAO,uBAAP;AACAA,WAAO,gDAAP;AACD,GAZD,MAYO;AACL,QAAIuT,OAAOX,GAAGY,KAAd;AAAA,QACEC,WAAWb,GAAGc,SADhB;AAAA,QAEEpS,QAAQ,UAAUmS,YAAY,EAAtB,CAFV;AAGA,QAAIN,GAAJ,EAASP,GAAGpM,MAAH,GAAYoM,GAAG3N,OAAH,CAAWI,GAAX,CAAeuN,GAAGpM,MAAlB,EAA0B2M,GAA1B,CAAZ;AACT,QAAIJ,UAAU,CAACH,GAAGlS,KAAlB,EAAyB,MAAM,IAAIgB,KAAJ,CAAU,6BAAV,CAAN;AACzB1B,WAAO,eAAgBuT,IAAhB,GAAwB,YAA/B;AACD;AACD,MAAIY,SAAS,UAAUZ,IAAvB;AAAA,MACES,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAD3B;AAAA,MAEEc,kBAAkB,EAFpB;AAAA,MAGEC,kBAAkB,EAHpB;AAIA,MAAId,aAAJ;AACA,MAAIe,cAAcrC,GAAGjS,MAAH,CAAUyC,IAA5B;AAAA,MACE8R,eAAenW,MAAMC,OAAN,CAAciW,WAAd,CADjB;AAEA,MAAIA,eAAerC,GAAGf,IAAH,CAAQsD,QAAvB,IAAmCvC,GAAGjS,MAAH,CAAUwU,QAAV,KAAuB,IAA9D,EAAoE;AAClE,QAAID,YAAJ,EAAkB;AAChB,UAAID,YAAYzH,OAAZ,CAAoB,MAApB,KAA+B,CAAC,CAApC,EAAuCyH,cAAcA,YAAYG,MAAZ,CAAmB,MAAnB,CAAd;AACxC,KAFD,MAEO,IAAIH,eAAe,MAAnB,EAA2B;AAChCA,oBAAc,CAACA,WAAD,EAAc,MAAd,CAAd;AACAC,qBAAe,IAAf;AACD;AACF;AACD,MAAIA,gBAAgBD,YAAY7W,MAAZ,IAAsB,CAA1C,EAA6C;AAC3C6W,kBAAcA,YAAY,CAAZ,CAAd;AACAC,mBAAe,KAAf;AACD;AACD,MAAItC,GAAGjS,MAAH,CAAU6G,IAAV,IAAkBwL,YAAtB,EAAoC;AAClC,QAAIJ,GAAGf,IAAH,CAAQwD,UAAR,IAAsB,MAA1B,EAAkC;AAChC,YAAM,IAAI3T,KAAJ,CAAU,uDAAuDkR,GAAGmB,aAA1D,GAA0E,2BAApF,CAAN;AACD,KAFD,MAEO,IAAInB,GAAGf,IAAH,CAAQwD,UAAR,KAAuB,IAA3B,EAAiC;AACtCrC,qBAAe,KAAf;AACAJ,SAAG0C,MAAH,CAAU3D,IAAV,CAAe,+CAA+CiB,GAAGmB,aAAlD,GAAkE,GAAjF;AACD;AACF;AACD,MAAInB,GAAGjS,MAAH,CAAU4U,QAAV,IAAsB3C,GAAGf,IAAH,CAAQ0D,QAAlC,EAA4C;AAC1CvV,WAAO,MAAO4S,GAAGK,KAAH,CAASC,GAAT,CAAaqC,QAAb,CAAsBlX,IAAtB,CAA2BuU,EAA3B,EAA+B,UAA/B,CAAd;AACD;AACD,MAAIqC,WAAJ,EAAiB;AACf,QAAIrC,GAAGf,IAAH,CAAQ2D,WAAZ,EAAyB;AACvB,UAAIC,iBAAiB7C,GAAG9N,IAAH,CAAQ1I,aAAR,CAAsBwW,GAAGf,IAAH,CAAQ2D,WAA9B,EAA2CP,WAA3C,CAArB;AACD;AACD,QAAIS,cAAc9C,GAAGK,KAAH,CAAS3U,KAAT,CAAe2W,WAAf,CAAlB;AACA,QAAIQ,kBAAkBP,YAAlB,IAAkCQ,gBAAgB,IAAlD,IAA2DA,eAAe,CAACC,gBAAgBD,WAAhB,CAA/E,EAA8G;AAC5G,UAAI9B,cAAchB,GAAGiB,UAAH,GAAgB,OAAlC;AAAA,UACEC,iBAAiBlB,GAAGmB,aAAH,GAAmB,OADtC;AAEA,UAAIH,cAAchB,GAAGiB,UAAH,GAAgB,OAAlC;AAAA,UACEC,iBAAiBlB,GAAGmB,aAAH,GAAmB,OADtC;AAAA,UAEE6B,UAAUV,eAAe,gBAAf,GAAkC,eAF9C;AAGAlV,aAAO,UAAW4S,GAAG9N,IAAH,CAAQ8Q,OAAR,EAAiBX,WAAjB,EAA8B3T,KAA9B,EAAqC,IAArC,CAAX,GAAyD,MAAhE;AACA,UAAImU,cAAJ,EAAoB;AAClB,YAAII,YAAY,aAAatC,IAA7B;AAAA,YACEuC,WAAW,YAAYvC,IADzB;AAEAvT,eAAO,UAAW6V,SAAX,GAAwB,YAAxB,GAAwCvU,KAAxC,GAAiD,IAAxD;AACA,YAAIsR,GAAGf,IAAH,CAAQ2D,WAAR,IAAuB,OAA3B,EAAoC;AAClCxV,iBAAO,UAAW6V,SAAX,GAAwB,kCAAxB,GAA8DvU,KAA9D,GAAuE,KAAvE,GAAgFuU,SAAhF,GAA6F,gBAApG;AACD;AACD7V,eAAO,UAAW8V,QAAX,GAAuB,gBAA9B;AACA,YAAIC,kBAAkB,EAAtB;AACA,YAAIC,OAAOP,cAAX;AACA,YAAIO,IAAJ,EAAU;AACR,cAAIC,KAAJ;AAAA,cAAWC,KAAK,CAAC,CAAjB;AAAA,cACEC,KAAKH,KAAK5X,MAAL,GAAc,CADrB;AAEA,iBAAO8X,KAAKC,EAAZ,EAAgB;AACdF,oBAAQD,KAAKE,MAAM,CAAX,CAAR;AACA,gBAAIA,EAAJ,EAAQ;AACNlW,qBAAO,UAAW8V,QAAX,GAAuB,oBAA9B;AACAC,iCAAmB,GAAnB;AACD;AACD,gBAAInD,GAAGf,IAAH,CAAQ2D,WAAR,IAAuB,OAAvB,IAAkCS,SAAS,OAA/C,EAAwD;AACtDjW,qBAAO,UAAW6V,SAAX,GAAwB,mBAAxB,GAA+CvU,KAA/C,GAAwD,kBAAxD,GAA8EwU,QAA9E,GAA0F,KAA1F,GAAmGxU,KAAnG,GAA4G,KAA5G,GAAqHA,KAArH,GAA8H,OAA9H,GAAyIuU,SAAzI,GAAsJ,YAAtJ,GAAsKvU,KAAtK,GAA+K,OAAtL;AACD;AACD,gBAAI2U,SAAS,QAAb,EAAuB;AACrBjW,qBAAO,UAAW6V,SAAX,GAAwB,oBAAxB,GAAgDA,SAAhD,GAA6D,mBAA7D,GAAoFC,QAApF,GAAgG,YAAhG,GAAgHxU,KAAhH,GAAyH,aAAzH,GAA0IA,KAA1I,GAAmJ,aAAnJ,GAAoKwU,QAApK,GAAgL,WAAvL;AACD,aAFD,MAEO,IAAIG,SAAS,QAAT,IAAqBA,SAAS,SAAlC,EAA6C;AAClDjW,qBAAO,UAAW6V,SAAX,GAAwB,qBAAxB,GAAiDvU,KAAjD,GAA0D,gBAA1D,GAA8EuU,SAA9E,GAA2F,oBAA3F,GAAmHvU,KAAnH,GAA4H,MAA5H,GAAsIA,KAAtI,GAA+I,OAA/I,GAA0JA,KAA1J,GAAmK,GAA1K;AACA,kBAAI2U,SAAS,SAAb,EAAwB;AACtBjW,uBAAO,WAAYsB,KAAZ,GAAqB,OAA5B;AACD;AACDtB,qBAAO,QAAS8V,QAAT,GAAqB,MAArB,GAA+BxU,KAA/B,GAAwC,IAA/C;AACD,aANM,MAMA,IAAI2U,SAAS,SAAb,EAAwB;AAC7BjW,qBAAO,UAAWsB,KAAX,GAAoB,oBAApB,GAA4CA,KAA5C,GAAqD,YAArD,GAAqEA,KAArE,GAA8E,aAA9E,GAA+FwU,QAA/F,GAA2G,qBAA3G,GAAoIxU,KAApI,GAA6I,mBAA7I,GAAoKA,KAApK,GAA6K,UAA7K,GAA2LwU,QAA3L,GAAuM,WAA9M;AACD,aAFM,MAEA,IAAIG,SAAS,MAAb,EAAqB;AAC1BjW,qBAAO,UAAWsB,KAAX,GAAoB,eAApB,GAAuCA,KAAvC,GAAgD,YAAhD,GAAgEA,KAAhE,GAAyE,cAAzE,GAA2FwU,QAA3F,GAAuG,WAA9G;AACD,aAFM,MAEA,IAAIlD,GAAGf,IAAH,CAAQ2D,WAAR,IAAuB,OAAvB,IAAkCS,SAAS,OAA/C,EAAwD;AAC7DjW,qBAAO,UAAW6V,SAAX,GAAwB,oBAAxB,GAAgDA,SAAhD,GAA6D,oBAA7D,GAAqFA,SAArF,GAAkG,qBAAlG,GAA2HvU,KAA3H,GAAoI,YAApI,GAAoJwU,QAApJ,GAAgK,MAAhK,GAA0KxU,KAA1K,GAAmL,KAA1L;AACD;AACF;AACF;AACDtB,eAAO,MAAO+V,eAAP,GAA0B,OAA1B,GAAqCD,QAArC,GAAiD,sBAAxD;AACA,YAAI1B,aAAaA,cAAc,EAA/B;AACAA,mBAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,cAAM,EAAN,CA1CkB,CA0CR;AACV,YAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,iBAAO,oBAAoBkU,iBAAiB,MAArC,IAA+C,sCAA/C,GAAyFtB,GAAG0B,SAA5F,GAAyG,iBAAzG,GAA8H1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAA9H,GAAwK,uBAA/K;AACA,cAAIoB,YAAJ,EAAkB;AAChBlV,mBAAO,KAAMiV,YAAYmB,IAAZ,CAAiB,GAAjB,CAAb;AACD,WAFD,MAEO;AACLpW,mBAAO,KAAMiV,WAAb;AACD;AACDjV,iBAAO,OAAP;AACA,cAAI4S,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,mBAAO,0BAAP;AACA,gBAAIkV,YAAJ,EAAkB;AAChBlV,qBAAO,KAAMiV,YAAYmB,IAAZ,CAAiB,GAAjB,CAAb;AACD,aAFD,MAEO;AACLpW,qBAAO,KAAMiV,WAAb;AACD;AACDjV,mBAAO,KAAP;AACD;AACD,cAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,mBAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,iBAAO,KAAP;AACD,SArBD,MAqBO;AACLA,iBAAO,MAAP;AACD;AACD,YAAIyU,QAAQzU,GAAZ;AACAA,cAAMoU,WAAWM,GAAX,EAAN;AACA,YAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,cAAIpB,GAAGlS,KAAP,EAAc;AACZV,mBAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,WAFD,MAEO;AACLzU,mBAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,SAND,MAMO;AACLzU,iBAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,eAAO,aAAP;AACA,YAAIqW,cAAc5C,WAAW,UAAWA,WAAW,CAAZ,IAAkB,EAA5B,CAAX,GAA6C,YAA/D;AAAA,YACE6C,sBAAsB7C,WAAWb,GAAGkC,WAAH,CAAerB,QAAf,CAAX,GAAsC,oBAD9D;AAEAzT,eAAO,MAAOsB,KAAP,GAAgB,KAAhB,GAAyBwU,QAAzB,GAAqC,IAA5C;AACA,YAAI,CAACrC,QAAL,EAAe;AACbzT,iBAAO,SAAUqW,WAAV,GAAyB,iBAAhC;AACD;AACDrW,eAAO,MAAOqW,WAAP,GAAsB,GAAtB,GAA6BC,mBAA7B,GAAoD,MAApD,GAA8DR,QAA9D,GAA0E,MAAjF;AACD,OAtFD,MAsFO;AACL,YAAI1B,aAAaA,cAAc,EAA/B;AACAA,mBAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,cAAM,EAAN,CAHK,CAGK;AACV,YAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,iBAAO,oBAAoBkU,iBAAiB,MAArC,IAA+C,sCAA/C,GAAyFtB,GAAG0B,SAA5F,GAAyG,iBAAzG,GAA8H1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAA9H,GAAwK,uBAA/K;AACA,cAAIoB,YAAJ,EAAkB;AAChBlV,mBAAO,KAAMiV,YAAYmB,IAAZ,CAAiB,GAAjB,CAAb;AACD,WAFD,MAEO;AACLpW,mBAAO,KAAMiV,WAAb;AACD;AACDjV,iBAAO,OAAP;AACA,cAAI4S,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,mBAAO,0BAAP;AACA,gBAAIkV,YAAJ,EAAkB;AAChBlV,qBAAO,KAAMiV,YAAYmB,IAAZ,CAAiB,GAAjB,CAAb;AACD,aAFD,MAEO;AACLpW,qBAAO,KAAMiV,WAAb;AACD;AACDjV,mBAAO,KAAP;AACD;AACD,cAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,mBAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,iBAAO,KAAP;AACD,SArBD,MAqBO;AACLA,iBAAO,MAAP;AACD;AACD,YAAIyU,QAAQzU,GAAZ;AACAA,cAAMoU,WAAWM,GAAX,EAAN;AACA,YAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,cAAIpB,GAAGlS,KAAP,EAAc;AACZV,mBAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,WAFD,MAEO;AACLzU,mBAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,SAND,MAMO;AACLzU,iBAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACF;AACDzU,aAAO,KAAP;AACD;AACF;AACD,MAAI4S,GAAGjS,MAAH,CAAU6G,IAAV,IAAkB,CAACwL,YAAvB,EAAqC;AACnChT,WAAO,MAAO4S,GAAGK,KAAH,CAASC,GAAT,CAAa1L,IAAb,CAAkBnJ,IAAlB,CAAuBuU,EAAvB,EAA2B,MAA3B,CAAP,GAA6C,GAApD;AACA,QAAIoB,aAAJ,EAAmB;AACjBhU,aAAO,oBAAP;AACA,UAAI4U,IAAJ,EAAU;AACR5U,eAAO,GAAP;AACD,OAFD,MAEO;AACLA,eAAO,UAAWuT,IAAlB;AACD;AACDvT,aAAO,MAAP;AACAgV,yBAAmB,GAAnB;AACD;AACF,GAZD,MAYO;AACL,QAAIuB,OAAO3D,GAAGK,KAAd;AACA,QAAIsD,IAAJ,EAAU;AACR,UAAIb,WAAJ;AAAA,UAAiBc,KAAK,CAAC,CAAvB;AAAA,UACEC,KAAKF,KAAKnY,MAAL,GAAc,CADrB;AAEA,aAAOoY,KAAKC,EAAZ,EAAgB;AACdf,sBAAca,KAAKC,MAAM,CAAX,CAAd;AACA,YAAIb,gBAAgBD,WAAhB,CAAJ,EAAkC;AAChC,cAAIA,YAAYtS,IAAhB,EAAsB;AACpBpD,mBAAO,UAAW4S,GAAG9N,IAAH,CAAQ5I,aAAR,CAAsBwZ,YAAYtS,IAAlC,EAAwC9B,KAAxC,CAAX,GAA6D,MAApE;AACD;AACD,cAAIsR,GAAGf,IAAH,CAAQ6E,WAAR,IAAuB,CAAC9D,GAAG+B,aAA/B,EAA8C;AAC5C,gBAAIe,YAAYtS,IAAZ,IAAoB,QAApB,IAAgCwP,GAAGjS,MAAH,CAAUgW,UAA9C,EAA0D;AACxD,kBAAIhD,UAAUf,GAAGjS,MAAH,CAAUgW,UAAxB;AAAA,kBACEC,cAAcjb,OAAOmL,IAAP,CAAY6M,OAAZ,CADhB;AAEA,kBAAIkD,OAAOD,WAAX;AACA,kBAAIC,IAAJ,EAAU;AACR,oBAAIC,YAAJ;AAAA,oBAAkBC,KAAK,CAAC,CAAxB;AAAA,oBACEC,KAAKH,KAAKzY,MAAL,GAAc,CADrB;AAEA,uBAAO2Y,KAAKC,EAAZ,EAAgB;AACdF,iCAAeD,KAAKE,MAAM,CAAX,CAAf;AACA,sBAAIE,OAAOtD,QAAQmD,YAAR,CAAX;AACA,sBAAIG,KAAKC,OAAL,KAAiBxc,SAArB,EAAgC;AAC9B,wBAAIyc,YAAY7V,QAAQsR,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBwa,YAApB,CAAxB;AACA9W,2BAAO,WAAYmX,SAAZ,GAAyB,kBAAzB,GAA+CA,SAA/C,GAA4D,KAAnE;AACA,wBAAIvE,GAAGf,IAAH,CAAQ6E,WAAR,IAAuB,QAA3B,EAAqC;AACnC1W,6BAAO,MAAO4S,GAAGwE,UAAH,CAAcH,KAAKC,OAAnB,CAAP,GAAsC,GAA7C;AACD,qBAFD,MAEO;AACLlX,6BAAO,MAAOsP,KAAKC,SAAL,CAAe0H,KAAKC,OAApB,CAAP,GAAuC,GAA9C;AACD;AACDlX,2BAAO,IAAP;AACD;AACF;AACF;AACF,aAtBD,MAsBO,IAAI0V,YAAYtS,IAAZ,IAAoB,OAApB,IAA+BrE,MAAMC,OAAN,CAAc4T,GAAGjS,MAAH,CAAU0W,KAAxB,CAAnC,EAAmE;AACxE,kBAAIC,OAAO1E,GAAGjS,MAAH,CAAU0W,KAArB;AACA,kBAAIC,IAAJ,EAAU;AACR,oBAAIL,IAAJ;AAAA,oBAAUf,KAAK,CAAC,CAAhB;AAAA,oBACEqB,KAAKD,KAAKlZ,MAAL,GAAc,CADrB;AAEA,uBAAO8X,KAAKqB,EAAZ,EAAgB;AACdN,yBAAOK,KAAKpB,MAAM,CAAX,CAAP;AACA,sBAAIe,KAAKC,OAAL,KAAiBxc,SAArB,EAAgC;AAC9B,wBAAIyc,YAAY7V,QAAQ,GAAR,GAAc4U,EAAd,GAAmB,GAAnC;AACAlW,2BAAO,WAAYmX,SAAZ,GAAyB,kBAAzB,GAA+CA,SAA/C,GAA4D,KAAnE;AACA,wBAAIvE,GAAGf,IAAH,CAAQ6E,WAAR,IAAuB,QAA3B,EAAqC;AACnC1W,6BAAO,MAAO4S,GAAGwE,UAAH,CAAcH,KAAKC,OAAnB,CAAP,GAAsC,GAA7C;AACD,qBAFD,MAEO;AACLlX,6BAAO,MAAOsP,KAAKC,SAAL,CAAe0H,KAAKC,OAApB,CAAP,GAAuC,GAA9C;AACD;AACDlX,2BAAO,IAAP;AACD;AACF;AACF;AACF;AACF;AACD,cAAIwX,OAAO9B,YAAY9U,KAAvB;AACA,cAAI4W,IAAJ,EAAU;AACR,gBAAIC,KAAJ;AAAA,gBAAWC,KAAK,CAAC,CAAjB;AAAA,gBACEC,KAAKH,KAAKpZ,MAAL,GAAc,CADrB;AAEA,mBAAOsZ,KAAKC,EAAZ,EAAgB;AACdF,sBAAQD,KAAKE,MAAM,CAAX,CAAR;AACA,kBAAIE,eAAeH,KAAf,CAAJ,EAA2B;AACzB,oBAAII,QAAQJ,MAAMpZ,IAAN,CAAWuU,EAAX,EAAe6E,MAAMK,OAArB,EAA8BpC,YAAYtS,IAA1C,CAAZ;AACA,oBAAIyU,KAAJ,EAAW;AACT7X,yBAAO,MAAO6X,KAAP,GAAgB,GAAvB;AACA,sBAAI7D,aAAJ,EAAmB;AACjBe,uCAAmB,GAAnB;AACD;AACF;AACF;AACF;AACF;AACD,cAAIf,aAAJ,EAAmB;AACjBhU,mBAAO,MAAO+U,eAAP,GAA0B,GAAjC;AACAA,8BAAkB,EAAlB;AACD;AACD,cAAIW,YAAYtS,IAAhB,EAAsB;AACpBpD,mBAAO,KAAP;AACA,gBAAIiV,eAAeA,gBAAgBS,YAAYtS,IAA3C,IAAmD,CAACqS,cAAxD,EAAwE;AACtEzV,qBAAO,UAAP;AACA,kBAAI4T,cAAchB,GAAGiB,UAAH,GAAgB,OAAlC;AAAA,kBACEC,iBAAiBlB,GAAGmB,aAAH,GAAmB,OADtC;AAEA,kBAAIK,aAAaA,cAAc,EAA/B;AACAA,yBAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,oBAAM,EAAN,CANsE,CAM5D;AACV,kBAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,uBAAO,oBAAoBkU,iBAAiB,MAArC,IAA+C,sCAA/C,GAAyFtB,GAAG0B,SAA5F,GAAyG,iBAAzG,GAA8H1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAA9H,GAAwK,uBAA/K;AACA,oBAAIoB,YAAJ,EAAkB;AAChBlV,yBAAO,KAAMiV,YAAYmB,IAAZ,CAAiB,GAAjB,CAAb;AACD,iBAFD,MAEO;AACLpW,yBAAO,KAAMiV,WAAb;AACD;AACDjV,uBAAO,OAAP;AACA,oBAAI4S,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,yBAAO,0BAAP;AACA,sBAAIkV,YAAJ,EAAkB;AAChBlV,2BAAO,KAAMiV,YAAYmB,IAAZ,CAAiB,GAAjB,CAAb;AACD,mBAFD,MAEO;AACLpW,2BAAO,KAAMiV,WAAb;AACD;AACDjV,yBAAO,KAAP;AACD;AACD,oBAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,yBAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,uBAAO,KAAP;AACD,eArBD,MAqBO;AACLA,uBAAO,MAAP;AACD;AACD,kBAAIyU,QAAQzU,GAAZ;AACAA,oBAAMoU,WAAWM,GAAX,EAAN;AACA,kBAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,oBAAIpB,GAAGlS,KAAP,EAAc;AACZV,yBAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,iBAFD,MAEO;AACLzU,yBAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,eAND,MAMO;AACLzU,uBAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,qBAAO,KAAP;AACD;AACF;AACD,cAAIgU,aAAJ,EAAmB;AACjBhU,mBAAO,kBAAP;AACA,gBAAI4U,IAAJ,EAAU;AACR5U,qBAAO,GAAP;AACD,aAFD,MAEO;AACLA,qBAAO,UAAWuT,IAAlB;AACD;AACDvT,mBAAO,MAAP;AACAgV,+BAAmB,GAAnB;AACD;AACF;AACF;AACF;AACF;AACD,MAAIhB,aAAJ,EAAmB;AACjBhU,WAAO,MAAOgV,eAAP,GAA0B,GAAjC;AACD;AACD,MAAIJ,IAAJ,EAAU;AACR,QAAI7B,MAAJ,EAAY;AACV/S,aAAO,4CAAP;AACAA,aAAO,4CAAP;AACD,KAHD,MAGO;AACLA,aAAO,8BAAP;AACAA,aAAO,8BAAP;AACD;AACDA,WAAO,sBAAP;AACD,GATD,MASO;AACLA,WAAO,UAAWmU,MAAX,GAAqB,qBAArB,GAA8CZ,IAA9C,GAAsD,GAA7D;AACD;AACDvT,QAAM4S,GAAG9N,IAAH,CAAQjI,WAAR,CAAoBmD,GAApB,CAAN;AACA,MAAI4U,IAAJ,EAAU;AACR5U,UAAM4S,GAAG9N,IAAH,CAAQhI,gBAAR,CAAyBkD,GAAzB,EAA8B+S,MAA9B,CAAN;AACD;;AAED,WAAS4C,eAAT,CAAyBD,WAAzB,EAAsC;AACpC,QAAI9U,QAAQ8U,YAAY9U,KAAxB;AACA,SAAK,IAAI5E,IAAI,CAAb,EAAgBA,IAAI4E,MAAMxC,MAA1B,EAAkCpC,GAAlC;AACE,UAAI4b,eAAehX,MAAM5E,CAAN,CAAf,CAAJ,EAA8B,OAAO,IAAP;AADhC;AAED;;AAED,WAAS4b,cAAT,CAAwBH,KAAxB,EAA+B;AAC7B,WAAO7E,GAAGjS,MAAH,CAAU8W,MAAMK,OAAhB,MAA6Bpd,SAA7B,IAA2C+c,MAAMM,UAAN,IAAoBC,2BAA2BP,KAA3B,CAAtE;AACD;;AAED,WAASO,0BAAT,CAAoCP,KAApC,EAA2C;AACzC,QAAIQ,OAAOR,MAAMM,UAAjB;AACA,SAAK,IAAI/b,IAAI,CAAb,EAAgBA,IAAIic,KAAK7Z,MAAzB,EAAiCpC,GAAjC;AACE,UAAI4W,GAAGjS,MAAH,CAAUsX,KAAKjc,CAAL,CAAV,MAAuBtB,SAA3B,EAAsC,OAAO,IAAP;AADxC;AAED;AACD,SAAOsF,GAAP;AACD,CAncD,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAAS4c,eAAT,CAAyBtF,EAAzB,EAA6BC,QAA7B,EAAuCC,SAAvC,EAAkD;AACjE,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAIC,aAAJ;AACA,MAAI5S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAI0E,UAAUvF,GAAGf,IAAH,CAAQvQ,KAAR,IAAiBqS,OAAjB,IAA4BA,QAAQrS,KAAlD;AAAA,MACE8W,YADF;AAEA,MAAID,OAAJ,EAAa;AACXnY,WAAO,gBAAiBuT,IAAjB,GAAyB,KAAzB,GAAkCX,GAAG9N,IAAH,CAAQ1H,OAAR,CAAgBuW,QAAQrS,KAAxB,EAA+BmS,QAA/B,EAAyCb,GAAGkC,WAA5C,CAAlC,GAA8F,IAArG;AACAsD,mBAAe,WAAW7E,IAA1B;AACD,GAHD,MAGO;AACL6E,mBAAezE,OAAf;AACD;AACD,MAAI0E,SAASxF,YAAY,SAAzB;AAAA,MACEyF,oBAAoBD,SAAS,kBAAT,GAA8B,kBADpD;AAAA,MAEEE,cAAc3F,GAAGjS,MAAH,CAAU2X,iBAAV,CAFhB;AAAA,MAGEE,cAAc5F,GAAGf,IAAH,CAAQvQ,KAAR,IAAiBiX,WAAjB,IAAgCA,YAAYjX,KAH5D;AAAA,MAIEmX,MAAMJ,SAAS,GAAT,GAAe,GAJvB;AAAA,MAKEK,SAASL,SAAS,GAAT,GAAe,GAL1B;AAAA,MAMEnE,gBAAgBxZ,SANlB;AAOA,MAAI8d,WAAJ,EAAiB;AACf,QAAIG,mBAAmB/F,GAAG9N,IAAH,CAAQ1H,OAAR,CAAgBmb,YAAYjX,KAA5B,EAAmCmS,QAAnC,EAA6Cb,GAAGkC,WAAhD,CAAvB;AAAA,QACE8D,aAAa,cAAcrF,IAD7B;AAAA,QAEEsF,YAAY,aAAatF,IAF3B;AAAA,QAGEuF,gBAAgB,iBAAiBvF,IAHnC;AAAA,QAIEwF,UAAU,OAAOxF,IAJnB;AAAA,QAKEyF,SAAS,UAAUD,OAAV,GAAoB,OAL/B;AAMA/Y,WAAO,oBAAqBuT,IAArB,GAA6B,KAA7B,GAAsCoF,gBAAtC,GAA0D,IAAjE;AACAA,uBAAmB,eAAepF,IAAlC;AACAvT,WAAO,UAAW4Y,UAAX,GAAyB,QAAzB,GAAqCC,SAArC,GAAkD,YAAlD,GAAkEF,gBAAlE,GAAsF,QAAtF,GAAkGE,SAAlG,GAA+G,qBAA/G,GAAwIA,SAAxI,GAAqJ,uBAArJ,GAAgLA,SAAhL,GAA6L,oBAApM;AACA,QAAI3E,gBAAgBoE,iBAApB;AACA,QAAIlE,aAAaA,cAAc,EAA/B;AACAA,eAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,UAAM,EAAN,CAbe,CAaL;AACV,QAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,aAAO,oBAAoBkU,iBAAiB,iBAArC,IAA0D,sCAA1D,GAAoGtB,GAAG0B,SAAvG,GAAoH,iBAApH,GAAyI1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAAzI,GAAmL,gBAA1L;AACA,UAAIlB,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,eAAO,mBAAoBsY,iBAApB,GAAyC,uBAAhD;AACD;AACD,UAAI1F,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,eAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,aAAO,KAAP;AACD,KATD,MASO;AACLA,aAAO,MAAP;AACD;AACD,QAAIyU,QAAQzU,GAAZ;AACAA,UAAMoU,WAAWM,GAAX,EAAN;AACA,QAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,UAAIpB,GAAGlS,KAAP,EAAc;AACZV,eAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,OAFD,MAEO;AACLzU,eAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,KAND,MAMO;AACLzU,aAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,WAAO,eAAP;AACA,QAAImY,OAAJ,EAAa;AACXnY,aAAO,OAAQoY,YAAR,GAAwB,2BAAxB,GAAuDA,YAAvD,GAAuE,qBAA9E;AACD;AACDpY,WAAO,MAAO6Y,SAAP,GAAoB,sBAApB,GAA8CD,UAA9C,GAA4D,KAA5D,GAAqER,YAArE,GAAqF,oBAArF,GAA6GO,gBAA7G,GAAiI,GAAjI,GAAwIF,GAAxI,GAA+I,IAA/I,GAAuJL,YAAvJ,GAAuK,MAAvK,GAAiL9W,KAAjL,GAA0L,GAA1L,GAAiMoX,MAAjM,GAA2M,IAA3M,GAAmNC,gBAAnN,GAAuO,KAAvO,GAAgPrX,KAAhP,GAAyP,GAAzP,GAAgQoX,MAAhQ,GAA0Q,GAA1Q,GAAiRN,YAAjR,GAAiS,UAAjS,GAA+SQ,UAA/S,GAA6T,KAA7T,GAAsUD,gBAAtU,GAA0V,eAA1V,GAA6WrX,KAA7W,GAAsX,GAAtX,GAA6XoX,MAA7X,GAAuY,IAAvY,GAA+YN,YAA/Y,GAA+Z,KAA/Z,GAAwa9W,KAAxa,GAAib,GAAjb,GAAwboX,MAAxb,GAAkc,GAAlc,GAAycN,YAAzc,GAAyd,QAAzd,GAAqe9W,KAAre,GAA8e,OAA9e,GAAyfA,KAAzf,GAAkgB,YAAlgB,GAAkhBiS,IAAlhB,GAA0hB,KAA1hB,GAAmiBqF,UAAniB,GAAijB,OAAjjB,GAA4jBH,GAA5jB,GAAmkB,SAAnkB,GAAglBA,GAAhlB,GAAulB,OAA9lB;AACA,QAAI9E,YAAYjZ,SAAhB,EAA2B;AACzBwZ,sBAAgBoE,iBAAhB;AACAxE,uBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBuE,iBAA1C;AACAF,qBAAeO,gBAAf;AACAR,gBAAUK,WAAV;AACD;AACF,GAhDD,MAgDO;AACL,QAAIM,gBAAgB,OAAOP,WAAP,IAAsB,QAA1C;AAAA,QACES,SAASP,GADX;AAEA,QAAIK,iBAAiBX,OAArB,EAA8B;AAC5B,UAAIY,UAAU,OAAOC,MAAP,GAAgB,IAA9B;AACAhZ,aAAO,QAAP;AACA,UAAImY,OAAJ,EAAa;AACXnY,eAAO,OAAQoY,YAAR,GAAwB,2BAAxB,GAAuDA,YAAvD,GAAuE,qBAA9E;AACD;AACDpY,aAAO,QAASoY,YAAT,GAAyB,oBAAzB,GAAiDG,WAAjD,GAAgE,GAAhE,GAAuEE,GAAvE,GAA8E,IAA9E,GAAsFL,YAAtF,GAAsG,KAAtG,GAA+G9W,KAA/G,GAAwH,GAAxH,GAA+HoX,MAA/H,GAAyI,IAAzI,GAAiJH,WAAjJ,GAAgK,KAAhK,GAAyKjX,KAAzK,GAAkL,GAAlL,GAAyLoX,MAAzL,GAAmM,GAAnM,GAA0MN,YAA1M,GAA0N,QAA1N,GAAsO9W,KAAtO,GAA+O,OAA/O,GAA0PA,KAA1P,GAAmQ,MAA1Q;AACD,KAPD,MAOO;AACL,UAAIwX,iBAAiBnF,YAAYjZ,SAAjC,EAA4C;AAC1Cke,qBAAa,IAAb;AACA1E,wBAAgBoE,iBAAhB;AACAxE,yBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBuE,iBAA1C;AACAF,uBAAeG,WAAf;AACAG,kBAAU,GAAV;AACD,OAND,MAMO;AACL,YAAII,aAAJ,EAAmBV,eAAetd,KAAKud,SAAS,KAAT,GAAiB,KAAtB,EAA6BE,WAA7B,EAA0C5E,OAA1C,CAAf;AACnB,YAAI4E,iBAAiBO,gBAAgBV,YAAhB,GAA+B,IAAhD,CAAJ,EAA2D;AACzDQ,uBAAa,IAAb;AACA1E,0BAAgBoE,iBAAhB;AACAxE,2BAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBuE,iBAA1C;AACAI,oBAAU,GAAV;AACD,SALD,MAKO;AACLE,uBAAa,KAAb;AACAI,oBAAU,GAAV;AACD;AACF;AACD,UAAID,UAAU,OAAOC,MAAP,GAAgB,IAA9B;AACAhZ,aAAO,QAAP;AACA,UAAImY,OAAJ,EAAa;AACXnY,eAAO,OAAQoY,YAAR,GAAwB,2BAAxB,GAAuDA,YAAvD,GAAuE,qBAA9E;AACD;AACDpY,aAAO,MAAOsB,KAAP,GAAgB,GAAhB,GAAuBoX,MAAvB,GAAiC,GAAjC,GAAwCN,YAAxC,GAAwD,MAAxD,GAAkE9W,KAAlE,GAA2E,OAA3E,GAAsFA,KAAtF,GAA+F,MAAtG;AACD;AACF;AACD4S,kBAAgBA,iBAAiBrB,QAAjC;AACA,MAAIuB,aAAaA,cAAc,EAA/B;AACAA,aAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,QAAM,EAAN,CAjHiE,CAiHvD;AACV,MAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,WAAO,oBAAoBkU,iBAAiB,QAArC,IAAiD,sCAAjD,GAA2FtB,GAAG0B,SAA9F,GAA2G,iBAA3G,GAAgI1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAAhI,GAA0K,2BAA1K,GAAyMiF,OAAzM,GAAoN,WAApN,GAAmOX,YAAnO,GAAmP,eAAnP,GAAsQQ,UAAtQ,GAAoR,KAA3R;AACA,QAAIhG,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,aAAO,6BAA8BgZ,MAA9B,GAAwC,GAA/C;AACA,UAAIb,OAAJ,EAAa;AACXnY,eAAO,UAAWoY,YAAlB;AACD,OAFD,MAEO;AACLpY,eAAO,KAAMoY,YAAN,GAAsB,IAA7B;AACD;AACF;AACD,QAAIxF,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,aAAO,cAAP;AACA,UAAImY,OAAJ,EAAa;AACXnY,eAAO,oBAAqB4T,WAA5B;AACD,OAFD,MAEO;AACL5T,eAAO,KAAM2T,OAAb;AACD;AACD3T,aAAO,6CAA8C4S,GAAGiB,UAAjD,GAA+D,WAA/D,GAA8EvS,KAA9E,GAAuF,GAA9F;AACD;AACDtB,WAAO,KAAP;AACD,GApBD,MAoBO;AACLA,WAAO,MAAP;AACD;AACD,MAAIyU,QAAQzU,GAAZ;AACAA,QAAMoU,WAAWM,GAAX,EAAN;AACA,MAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,QAAIpB,GAAGlS,KAAP,EAAc;AACZV,aAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,KAFD,MAEO;AACLzU,aAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,GAND,MAMO;AACLzU,WAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,SAAO,KAAP;AACA,MAAIgU,aAAJ,EAAmB;AACjBhU,WAAO,UAAP;AACD;AACD,SAAOA,GAAP;AACD,CAzJD,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAAS2d,oBAAT,CAA8BrG,EAA9B,EAAkCC,QAAlC,EAA4CC,SAA5C,EAAuD;AACtE,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAIC,aAAJ;AACA,MAAI5S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAI0E,UAAUvF,GAAGf,IAAH,CAAQvQ,KAAR,IAAiBqS,OAAjB,IAA4BA,QAAQrS,KAAlD;AAAA,MACE8W,YADF;AAEA,MAAID,OAAJ,EAAa;AACXnY,WAAO,gBAAiBuT,IAAjB,GAAyB,KAAzB,GAAkCX,GAAG9N,IAAH,CAAQ1H,OAAR,CAAgBuW,QAAQrS,KAAxB,EAA+BmS,QAA/B,EAAyCb,GAAGkC,WAA5C,CAAlC,GAA8F,IAArG;AACAsD,mBAAe,WAAW7E,IAA1B;AACD,GAHD,MAGO;AACL6E,mBAAezE,OAAf;AACD;AACD,MAAI8E,MAAM5F,YAAY,UAAZ,GAAyB,GAAzB,GAA+B,GAAzC;AACA7S,SAAO,OAAP;AACA,MAAImY,OAAJ,EAAa;AACXnY,WAAO,OAAQoY,YAAR,GAAwB,2BAAxB,GAAuDA,YAAvD,GAAuE,qBAA9E;AACD;AACDpY,SAAO,MAAOsB,KAAP,GAAgB,UAAhB,GAA8BmX,GAA9B,GAAqC,GAArC,GAA4CL,YAA5C,GAA4D,MAAnE;AACA,MAAIlE,gBAAgBrB,QAApB;AACA,MAAIuB,aAAaA,cAAc,EAA/B;AACAA,aAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,QAAM,EAAN,CA3BsE,CA2B5D;AACV,MAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,WAAO,oBAAoBkU,iBAAiB,aAArC,IAAsD,sCAAtD,GAAgGtB,GAAG0B,SAAnG,GAAgH,iBAAhH,GAAqI1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAArI,GAA+K,sBAA/K,GAAyMsE,YAAzM,GAAyN,KAAhO;AACA,QAAIxF,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,aAAO,gCAAP;AACA,UAAI6S,YAAY,UAAhB,EAA4B;AAC1B7S,eAAO,MAAP;AACD,OAFD,MAEO;AACLA,eAAO,OAAP;AACD;AACDA,aAAO,QAAP;AACA,UAAImY,OAAJ,EAAa;AACXnY,eAAO,UAAWoY,YAAX,GAA2B,OAAlC;AACD,OAFD,MAEO;AACLpY,eAAO,KAAM2T,OAAb;AACD;AACD3T,aAAO,WAAP;AACD;AACD,QAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,aAAO,cAAP;AACA,UAAImY,OAAJ,EAAa;AACXnY,eAAO,oBAAqB4T,WAA5B;AACD,OAFD,MAEO;AACL5T,eAAO,KAAM2T,OAAb;AACD;AACD3T,aAAO,6CAA8C4S,GAAGiB,UAAjD,GAA+D,WAA/D,GAA8EvS,KAA9E,GAAuF,GAA9F;AACD;AACDtB,WAAO,KAAP;AACD,GA3BD,MA2BO;AACLA,WAAO,MAAP;AACD;AACD,MAAIyU,QAAQzU,GAAZ;AACAA,QAAMoU,WAAWM,GAAX,EAAN;AACA,MAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,QAAIpB,GAAGlS,KAAP,EAAc;AACZV,aAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,KAFD,MAEO;AACLzU,aAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,GAND,MAMO;AACLzU,WAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,SAAO,IAAP;AACA,MAAIgU,aAAJ,EAAmB;AACjBhU,WAAO,UAAP;AACD;AACD,SAAOA,GAAP;AACD,CA1ED,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAAS4d,qBAAT,CAA+BtG,EAA/B,EAAmCC,QAAnC,EAA6CC,SAA7C,EAAwD;AACvE,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAIC,aAAJ;AACA,MAAI5S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAI0E,UAAUvF,GAAGf,IAAH,CAAQvQ,KAAR,IAAiBqS,OAAjB,IAA4BA,QAAQrS,KAAlD;AAAA,MACE8W,YADF;AAEA,MAAID,OAAJ,EAAa;AACXnY,WAAO,gBAAiBuT,IAAjB,GAAyB,KAAzB,GAAkCX,GAAG9N,IAAH,CAAQ1H,OAAR,CAAgBuW,QAAQrS,KAAxB,EAA+BmS,QAA/B,EAAyCb,GAAGkC,WAA5C,CAAlC,GAA8F,IAArG;AACAsD,mBAAe,WAAW7E,IAA1B;AACD,GAHD,MAGO;AACL6E,mBAAezE,OAAf;AACD;AACD,MAAI8E,MAAM5F,YAAY,WAAZ,GAA0B,GAA1B,GAAgC,GAA1C;AACA7S,SAAO,OAAP;AACA,MAAImY,OAAJ,EAAa;AACXnY,WAAO,OAAQoY,YAAR,GAAwB,2BAAxB,GAAuDA,YAAvD,GAAuE,qBAA9E;AACD;AACD,MAAIxF,GAAGf,IAAH,CAAQsH,OAAR,KAAoB,KAAxB,EAA+B;AAC7BnZ,WAAO,MAAOsB,KAAP,GAAgB,UAAvB;AACD,GAFD,MAEO;AACLtB,WAAO,iBAAkBsB,KAAlB,GAA2B,IAAlC;AACD;AACDtB,SAAO,MAAOyY,GAAP,GAAc,GAAd,GAAqBL,YAArB,GAAqC,MAA5C;AACA,MAAIlE,gBAAgBrB,QAApB;AACA,MAAIuB,aAAaA,cAAc,EAA/B;AACAA,aAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,QAAM,EAAN,CAhCuE,CAgC7D;AACV,MAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,WAAO,oBAAoBkU,iBAAiB,cAArC,IAAuD,sCAAvD,GAAiGtB,GAAG0B,SAApG,GAAiH,iBAAjH,GAAsI1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAAtI,GAAgL,sBAAhL,GAA0MsE,YAA1M,GAA0N,KAAjO;AACA,QAAIxF,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,aAAO,8BAAP;AACA,UAAI6S,YAAY,WAAhB,EAA6B;AAC3B7S,eAAO,QAAP;AACD,OAFD,MAEO;AACLA,eAAO,SAAP;AACD;AACDA,aAAO,QAAP;AACA,UAAImY,OAAJ,EAAa;AACXnY,eAAO,UAAWoY,YAAX,GAA2B,OAAlC;AACD,OAFD,MAEO;AACLpY,eAAO,KAAM2T,OAAb;AACD;AACD3T,aAAO,gBAAP;AACD;AACD,QAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,aAAO,cAAP;AACA,UAAImY,OAAJ,EAAa;AACXnY,eAAO,oBAAqB4T,WAA5B;AACD,OAFD,MAEO;AACL5T,eAAO,KAAM2T,OAAb;AACD;AACD3T,aAAO,6CAA8C4S,GAAGiB,UAAjD,GAA+D,WAA/D,GAA8EvS,KAA9E,GAAuF,GAA9F;AACD;AACDtB,WAAO,KAAP;AACD,GA3BD,MA2BO;AACLA,WAAO,MAAP;AACD;AACD,MAAIyU,QAAQzU,GAAZ;AACAA,QAAMoU,WAAWM,GAAX,EAAN;AACA,MAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,QAAIpB,GAAGlS,KAAP,EAAc;AACZV,aAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,KAFD,MAEO;AACLzU,aAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,GAND,MAMO;AACLzU,WAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,SAAO,IAAP;AACA,MAAIgU,aAAJ,EAAmB;AACjBhU,WAAO,UAAP;AACD;AACD,SAAOA,GAAP;AACD,CA/ED,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAAS8d,yBAAT,CAAmCxG,EAAnC,EAAuCC,QAAvC,EAAiDC,SAAjD,EAA4D;AAC3E,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAIC,aAAJ;AACA,MAAI5S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAI0E,UAAUvF,GAAGf,IAAH,CAAQvQ,KAAR,IAAiBqS,OAAjB,IAA4BA,QAAQrS,KAAlD;AAAA,MACE8W,YADF;AAEA,MAAID,OAAJ,EAAa;AACXnY,WAAO,gBAAiBuT,IAAjB,GAAyB,KAAzB,GAAkCX,GAAG9N,IAAH,CAAQ1H,OAAR,CAAgBuW,QAAQrS,KAAxB,EAA+BmS,QAA/B,EAAyCb,GAAGkC,WAA5C,CAAlC,GAA8F,IAArG;AACAsD,mBAAe,WAAW7E,IAA1B;AACD,GAHD,MAGO;AACL6E,mBAAezE,OAAf;AACD;AACD,MAAI8E,MAAM5F,YAAY,eAAZ,GAA8B,GAA9B,GAAoC,GAA9C;AACA7S,SAAO,OAAP;AACA,MAAImY,OAAJ,EAAa;AACXnY,WAAO,OAAQoY,YAAR,GAAwB,2BAAxB,GAAuDA,YAAvD,GAAuE,qBAA9E;AACD;AACDpY,SAAO,kBAAmBsB,KAAnB,GAA4B,WAA5B,GAA2CmX,GAA3C,GAAkD,GAAlD,GAAyDL,YAAzD,GAAyE,MAAhF;AACA,MAAIlE,gBAAgBrB,QAApB;AACA,MAAIuB,aAAaA,cAAc,EAA/B;AACAA,aAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,QAAM,EAAN,CA3B2E,CA2BjE;AACV,MAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,WAAO,oBAAoBkU,iBAAiB,kBAArC,IAA2D,sCAA3D,GAAqGtB,GAAG0B,SAAxG,GAAqH,iBAArH,GAA0I1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAA1I,GAAoL,sBAApL,GAA8MsE,YAA9M,GAA8N,KAArO;AACA,QAAIxF,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,aAAO,gCAAP;AACA,UAAI6S,YAAY,eAAhB,EAAiC;AAC/B7S,eAAO,MAAP;AACD,OAFD,MAEO;AACLA,eAAO,OAAP;AACD;AACDA,aAAO,QAAP;AACA,UAAImY,OAAJ,EAAa;AACXnY,eAAO,UAAWoY,YAAX,GAA2B,OAAlC;AACD,OAFD,MAEO;AACLpY,eAAO,KAAM2T,OAAb;AACD;AACD3T,aAAO,gBAAP;AACD;AACD,QAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,aAAO,cAAP;AACA,UAAImY,OAAJ,EAAa;AACXnY,eAAO,oBAAqB4T,WAA5B;AACD,OAFD,MAEO;AACL5T,eAAO,KAAM2T,OAAb;AACD;AACD3T,aAAO,6CAA8C4S,GAAGiB,UAAjD,GAA+D,WAA/D,GAA8EvS,KAA9E,GAAuF,GAA9F;AACD;AACDtB,WAAO,KAAP;AACD,GA3BD,MA2BO;AACLA,WAAO,MAAP;AACD;AACD,MAAIyU,QAAQzU,GAAZ;AACAA,QAAMoU,WAAWM,GAAX,EAAN;AACA,MAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,QAAIpB,GAAGlS,KAAP,EAAc;AACZV,aAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,KAFD,MAEO;AACLzU,aAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,GAND,MAMO;AACLzU,WAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,SAAO,IAAP;AACA,MAAIgU,aAAJ,EAAmB;AACjBhU,WAAO,UAAP;AACD;AACD,SAAOA,GAAP;AACD,CA1ED,C;;;;;;;ACDa;;;;;;;;;;IAEQ5E,Y;AAEnB,wBAAYlB,KAAZ,EAAmB;AAAA;;AACjB,SAAKC,MAAL,GAAcD,KAAd;AACA,SAAKE,KAAL,GAAa,IAAb;AACA,SAAKif,QAAL,GAAgB,IAAhB;AACD;;;;8BAMS;AACR,WAAKA,QAAL,GAAgB,KAAhB;AACD;;;2BAUM7e,M,EAAQ,CAEd;;;wBAlBa;AACZ,aAAO,KAAK6e,QAAZ;AACD;;;wBAMY;AACX,aAAO,KAAKlf,MAAZ;AACD;;;wBAEW;AACV,aAAO,KAAKC,KAAZ;AACD;;;;;;kBAtBkBgB,Y;;;;;;;ACFR;;AAEb;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEAC,OAAOC,OAAP,GAAkB;;AAEhBge,oBAAkB,0BAACC,QAAD,EAAc;AAC9BA,eAAWA,WAAWA,QAAX,GAAsB,IAAI5O,kBAAJ,EAAjC;AACA,QAAI6O,MAAM,IAAIC,oBAAJ,CAAeF,QAAf,CAAV;AACA,WAAOC,GAAP;AACD,GANe;;AAQhBE,sBAAoB,8BAAM;AACxB,WAAO,IAAI9J,sBAAJ,EAAP;AACD,GAVe;;AAYhB+J,aAAW,qBAAM;AACf,WAAO,IAAInL,kCAAJ,EAAP;AACD,GAde;;AAgBhBoL,kBAAgB,wBAACzO,IAAD,EAAU;AACxB,YAAOA,IAAP;AACE,WAAK,OAAL;AAAgB,eAAO,IAAI0O,uBAAJ,EAAP;AAChB,WAAK,IAAL;AAAgB,eAAO,IAAIC,oBAAJ,EAAP;AAChB,WAAK,OAAL;AAAgB,eAAO,IAAIC,uBAAJ,EAAP;AAChB,WAAK,MAAL;AAAgB,eAAO,IAAIC,sBAAJ,EAAP;AAChB;AAAgB,cAAM,qBAAqB7O,IAA3B;AALlB;AAOD;AAxBe,CAAlB,C;;;;;;;ACXa;;;;;;;;;;AAEb;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAEA;;;;IAIMsO,U;AACJ;;;;;;AAMA,sBAAYF,QAAZ,EAAsB;AAAA;;AACpB,SAAK7K,OAAL,GAAe,EAAf;AACA,SAAKuL,YAAL,GAAoB,EAApB;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACA,SAAKC,WAAL,GAAmB,EAAnB;AACA,SAAKC,iBAAL,GAAyB,EAAzB;AACA,SAAKC,mBAAL,GAA2B,EAA3B;AACA,SAAKC,YAAL,GAAoB,IAApB;AACA,SAAKC,kBAAL,GAA0B,IAA1B;AACA,SAAKC,eAAL,GAAuB,IAAvB;AACA,SAAKC,uBAAL,GAA+B,EAA/B;AACA,SAAKC,mBAAL,GAA2B,EAA3B;AACA,SAAKjP,SAAL,GAAiB8N,QAAjB;AACA,SAAKoB,UAAL,GAAkB,KAAlB;AACA,SAAKC,kBAAL,GAA0B,IAAIC,2BAAJ,EAA1B;AACA,SAAKlM,QAAL,GAAiB,IAAIpF,IAAJ,EAAD,CAAaE,OAAb,KAAyB3O,KAAKiW,KAAL,CAAWjW,KAAKkW,MAAL,KAAc,OAAzB,CAAzC;AACA,SAAK8J,IAAL,GAAY,0BAAW,KAAKnM,QAAhB,CAAZ;AACA,SAAKoM,gBAAL,GAAwB,CAAxB;AACA,SAAKC,yBAAL,GAAiC,EAAjC;AACA,SAAKC,qBAAL,GAA6B,EAA7B;AACA,SAAKC,iBAAL,GAAyB,EAAzB;AACA,SAAKC,gBAAL,GAAwB,EAAxB;AACA,SAAKC,gBAAL,GAAwB,EAAxB;AACA,SAAKC,YAAL,GAAoB,CAApB;AACA,SAAKC,UAAL,GAAkB,KAAlB;AACA,SAAKC,WAAL,GAAmB,IAAIC,oBAAJ,EAAnB;AACA,SAAKC,WAAL,GAAmB,CAAnB;AACA,SAAKC,aAAL,GAAqB,CAArB;AACA,SAAKC,gBAAL,GAAwB,MAAxB;AACA,SAAKC,QAAL,GAAgB,IAAIC,4BAAJ,EAAhB;AACA,SAAKD,QAAL,CAAcE,yBAAd,CAAwC,KAAKrB,uBAAL,GAA6B,KAAKM,gBAA1E;AACA,SAAKgB,eAAL,GAAuB9K,OAAO+K,SAA9B;AACA,SAAKC,eAAL,GAAuB,CAAvB;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACA,SAAKC,yBAAL,GAAiC,IAAI5N,kCAAJ,EAAjC;AACD;;AAED;;;;;;;;;;;;;;+BAUWM,I,EAAM;AACf,WAAKH,QAAL,GAAgBG,IAAhB;AACA,WAAKsN,yBAAL,CAA+BhM,UAA/B,CAA0CtB,IAA1C;AACA,WAAKgM,IAAL,GAAY,0BAAW,KAAKnM,QAAhB,CAAZ;AACD;;AAED;;;;;;iCAGa;AACX,aAAO,KAAKA,QAAZ;AACD;;AAED;;;;;;gCAGY;AACV,aAAO,KAAKmM,IAAL,EAAP;AACD;;AAED;;;;;;;;;yBAMKpO,K,EAAOE,M,EAAQ;AAClB,WAAK0N,YAAL,GAAoB,IAAI+B,qBAAJ,EAApB;AACA,WAAK/B,YAAL,CAAkBgC,OAAlB,CAA0B5P,KAA1B,EAAiCE,MAAjC;AACA,WAAK0N,YAAL,CAAkBiC,SAAlB,CAA4B,KAAKzB,IAAL,EAA5B;AACA,WAAKrP,SAAL,CAAe+Q,cAAf,CAA8B,KAAKlC,YAAnC;AACA,WAAKM,kBAAL,CAAwB6B,iBAAxB,CAA0C,KAAKnC,YAA/C;AACD;;AAED;;;;;;;;AA2CA;;;;;;4BAMQ;AACN,UAAG,KAAKJ,SAAL,CAAe9b,MAAf,IAAyB,CAA5B,EAA+B;AAC7B,cAAM,IAAIsD,KAAJ,CAAU,qDAAV,CAAN;AACD;AACD,WAAKiZ,UAAL,GAAkB,IAAlB;AACA,UAAI3e,UAAJ;AACA,UAAIuM,OAAO,IAAX;;AAEA,UAAG,KAAKiS,eAAR,EAAyB;AACvBkC,sBAAc,KAAKlC,eAAnB;AACA,aAAKA,eAAL,GAAuB,IAAvB;AACD;;AAED,WAAKmC,WAAL,CACE,YAAM;AACJpU,aAAKiS,eAAL,GAAuBoC,YAAY,YAAM;AACvCrU,eAAKsU,WAAL;AACD,SAFsB,EAEpBtU,KAAKmS,mBAFe,CAAvB;;AAIA,YAAGnS,KAAKgS,kBAAR,EAA4B;AAC1BuC,uBAAavU,KAAKgS,kBAAlB;AACD;AACDhS,aAAKqT,QAAL,CAAcmB,KAAd;AACA,aAAI/gB,IAAE,CAAN,EAASA,IAAIuM,KAAK6S,gBAAL,CAAsBhd,MAAnC,EAA2CpC,GAA3C;AAAgDuM,eAAK6S,gBAAL,CAAsBpf,CAAtB;AAAhD,SACAuM,KAAKyU,eAAL;AACD,OAZH,EAaE,UAACvN,GAAD,EAAS;AACPiC,gBAAQuL,KAAR,CAAcxN,GAAd;AACA,aAAIzT,IAAE,CAAN,EAASA,IAAIuM,KAAK4S,gBAAL,CAAsB/c,MAAnC,EAA2CpC,GAA3C;AAAgDuM,eAAK4S,gBAAL,CAAsBnf,CAAtB,EAAyByT,IAAItF,OAAJ,GAAcsF,IAAItF,OAAlB,GAA4B,yBAArD;AAAhD;AACD,OAhBH;AAkBD;;;sCAEiB;AAChB,WAAKyR,QAAL,CAAcsB,gBAAd;AACA,UAAIC,YAAa,IAAI5T,IAAJ,EAAD,CAAaE,OAAb,EAAhB;AACA,UAAIlB,OAAO,IAAX;AACA,UAAIvM,UAAJ;AACA,WAAKohB,YAAL;AACA,WAAKC,SAAL,CACE,YAAM;AACJ,YAAG9U,KAAKgS,kBAAR,EAA4B;AAC1BuC,uBAAavU,KAAKgS,kBAAlB;AACAhS,eAAKgS,kBAAL,GAA0B,IAA1B;AACD;AACD,YAAGhS,KAAK+U,aAAL,MAAwB,CAAxB,IAA6B/U,KAAK8S,YAAL,IAAqB9S,KAAK+S,UAA1D,EAAsE;AACpE/S,eAAKgV,IAAL;AACAhV,eAAK6U,YAAL;AACA7U,eAAKsU,WAAL;AACA,eAAI7gB,IAAE,CAAN,EAASA,IAAIuM,KAAK2S,iBAAL,CAAuB9c,MAApC,EAA4CpC,GAA5C;AAAiDuM,iBAAK2S,iBAAL,CAAuBlf,CAAvB;AAAjD;AACD;AACD,YAAGuM,KAAKoS,UAAR,EAAoB;AAClB,cAAI6C,iBAAkB,IAAIjU,IAAJ,EAAD,CAAaE,OAAb,KAAyB0T,SAA9C;AACA,cAAIM,KAAKlV,KAAKkS,uBAAL,GAA6BlS,KAAKwS,gBAAlC,GAAqDyC,cAA9D;AACAC,eAAK3iB,KAAKiW,KAAL,CAAW0M,EAAX,CAAL;AACA,eAAIzhB,IAAE,CAAN,EAASA,IAAIuM,KAAKyS,yBAAL,CAA+B5c,MAA5C,EAAoDpC,GAApD;AAAyDuM,iBAAKyS,yBAAL,CAA+Bhf,CAA/B;AAAzD,WACAuM,KAAK8S,YAAL,GAAoBvgB,KAAK4iB,GAAL,CAASnV,KAAK8S,YAAL,GAAoB9S,KAAKkS,uBAAlC,EAA2DlS,KAAK+S,UAAhE,CAApB;AACA,cAAGmC,KAAK,CAAR,EAAW;AACTlV,iBAAK0T,eAAL,GAAqB,CAArB;AACA1T,iBAAKgS,kBAAL,GAA0BoD,WAAWpV,KAAKyU,eAAL,CAAqBY,IAArB,CAA0BrV,IAA1B,CAAX,EAA4CkV,EAA5C,CAA1B;AACD,WAHD,MAGO,IAAGlV,KAAK0T,eAAL,IAAwB1T,KAAKwT,eAAhC,EAAiD;AACtDxT,iBAAKgS,kBAAL,GAA0BoD,WAAWpV,KAAKyU,eAAL,CAAqBY,IAArB,CAA0BrV,IAA1B,CAAX,EAA4C,CAA5C,CAA1B;AACD,WAFM,MAEA;AACLA,iBAAK0T,eAAL;AACA1T,iBAAKyU,eAAL;AACD;AACF;AACF,OA5BH,EA6BE,UAACvN,GAAD,EAAS;AACPiC,gBAAQuL,KAAR,CAAcxN,GAAd;AACA,aAAIzT,IAAE,CAAN,EAASA,IAAIuM,KAAK4S,gBAAL,CAAsB/c,MAAnC,EAA2CpC,GAA3C;AAAgDuM,eAAK4S,gBAAL,CAAsBnf,CAAtB,EAAyByT,IAAItF,OAAJ,GAAcsF,IAAItF,OAAlB,GAA4B,yBAArD;AAAhD;AACD,OAhCH;AAkCD;;AAED;;;;;;;;;4BAMQ0T,Y,EAAc;AACpB,UAAG,QAAOA,YAAP,yCAAOA,YAAP,MAAuB,QAA1B,EAAoC;AAClC,cAAM,iCAAN;AACD;AACD,UAAG,CAAC,KAAKvD,YAAT,EAAuB;AACrB,cAAM,4BAAN;AACD;AACD,UAAG,CAACuD,aAAapM,QAAjB,EAA2B;AACzB,cAAM,4BAAN;AACD;AACD,UAAIqM,YAAY,KAAKxD,YAAL,CAAkByD,YAAlB,EAAhB;AACA,UAAG,CAACD,SAAJ,EAAe;AACb,cAAM,kCAAN;AACD;AACD,WAAK1B,yBAAL,CAA+BzL,eAA/B,CAA+CkN,YAA/C;AACA,WAAKzB,yBAAL,CAA+B9L,WAA/B,CAA2C,KAAK0N,QAAL,EAA3C;AACA,UAAInT,OAAO,KAAKoT,WAAL,CAAiBJ,YAAjB,CAAX;AACAhT,WAAK0R,SAAL,CAAe,KAAK2B,SAAL,EAAf;AACArT,WAAKsT,MAAL,CAAYL,UAAUrjB,CAAtB,EAAyBqjB,UAAUnjB,CAAnC;AACA,WAAKuf,SAAL,CAAe7M,IAAf,CAAoBxC,IAApB;AACA,WAAKoP,YAAL,CAAkB5M,IAAlB,CAAuBxC,IAAvB;AACA,UAAG,KAAKoP,YAAL,CAAkB7b,MAAlB,GAA2B,CAA9B,EAAiC;AAC/B,aAAKkd,UAAL,IAAmB,IAAnB;AACD;;AAED,UAAG,CAAC,KAAKY,QAAL,CAAc2B,aAAapM,QAA3B,CAAJ,EAA0C;AACxC,aAAKyK,QAAL,CAAc2B,aAAapM,QAA3B,IAAuC,IAAI2M,cAAJ,CAASP,aAAapM,QAAtB,CAAvC;AACA,aAAK0K,SAAL,CAAe9O,IAAf,CAAoB,KAAK6O,QAAL,CAAc2B,aAAapM,QAA3B,CAApB;AACD;AACD,WAAKyK,QAAL,CAAc2B,aAAapM,QAA3B,EAAqC4M,OAArC,CAA6CxT,IAA7C;;AAEA,UAAIgE,KAAK,KAAKyP,gBAAL,CAAsBzT,IAAtB,EAA4BgT,YAA5B,CAAT;AACA,WAAKnP,OAAL,CAAarB,IAAb,CAAkBwB,EAAlB;;AAEA,aAAOA,EAAP;AACD;;AAED;;;;;;;;;6BAMStI,C,EAAG;AACV,WAAKwU,gBAAL,GAAwBjgB,KAAKyjB,GAAL,CAAS,IAAT,EAAetN,OAAO1K,CAAP,CAAf,CAAxB;AACA,WAAKqV,QAAL,CAAcE,yBAAd,CAAwC,KAAKrB,uBAAL,GAA6B,KAAKM,gBAA1E;AACA,WAAKtP,SAAL,CAAe+S,QAAf,CAAwBjY,CAAxB;AACD;;AAED;;;;;;;;;;;;uCASmBA,C,EAAG;AACpB,UAAGkY,MAAMlY,CAAN,KAAYA,KAAK,MAApB,EAA4B;AAC5B,UAAG,CAACkY,MAAMlY,CAAN,CAAJ,EAAc;AACZA,YAAIzL,KAAK4iB,GAAL,CAAS,CAAT,EAAY5iB,KAAKyjB,GAAL,CAAS,CAAT,EAAYhY,CAAZ,CAAZ,CAAJ;AACD;AACD,WAAKoV,gBAAL,GAAwBpV,CAAxB;AACD;;AAED;;;;;;;;;2BAMO;AACL,WAAKoU,UAAL,GAAkB,KAAlB;AACA,WAAKiB,QAAL,CAAc2B,IAAd;AACA,WAAK9R,SAAL,CAAe8R,IAAf;AACA,UAAG,KAAKhD,kBAAR,EAA4B;AAC1BuC,qBAAa,KAAKvC,kBAAlB;AACA,aAAKA,kBAAL,GAA0B,IAA1B;AACD;AACD,UAAG,KAAKC,eAAR,EAAyB;AACvBkC,sBAAc,KAAKlC,eAAnB;AACA,aAAKA,eAAL,GAAuB,IAAvB;AACD;AACD,UAAI3L,WAAJ;AAAA,UAAQ7S,UAAR;AACA,WAAIA,IAAE,CAAN,EAASA,IAAI,KAAK0S,OAAL,CAAatQ,MAA1B,EAAkCpC,GAAlC,EAAuC;AACrC6S,aAAK,KAAKH,OAAL,CAAa1S,CAAb,CAAL;AACA,YAAG,CAAC6S,EAAJ,EAAQ;AACRA,WAAG6P,UAAH;AACD;AACD,WAAKhQ,OAAL,GAAe,EAAf;AACD;;AAGD;;;;;;;;;;2BAOOiQ,Q,EAAU;AACf,WAAK3D,yBAAL,CAA+B3N,IAA/B,CAAoCsR,QAApC;AACD;;AAED;;;;;;;;;;;;;6BAUSA,Q,EAAU;AACjB,WAAK1D,qBAAL,CAA2B5N,IAA3B,CAAgCsR,QAAhC;AACD;;AAED;;;;;;;;;4BAMQA,Q,EAAU;AAChB,WAAKvD,gBAAL,CAAsB/N,IAAtB,CAA2BsR,QAA3B;AACD;;AAED;;;;;;;;6BAKSA,Q,EAAU;AACjB,WAAKzD,iBAAL,CAAuB7N,IAAvB,CAA4BsR,QAA5B;AACD;;AAED;;;;;;;;4BAKQA,Q,EAAU;AAChB,WAAKxD,gBAAL,CAAsB9N,IAAtB,CAA2BsR,QAA3B;AACD;;AAED;;;;;;;;qDAKiC;AAC/B,aAAO,KAAKvC,yBAAL,CAA+B1L,KAA/B,EAAP;AACD;;AAED;;;;;;+BAGW;AACT,aAAO,KAAKyL,SAAL,CAAe/d,MAAf,IAAyB,KAAK8b,SAAL,CAAe9b,MAA/C;AACD;;;gCAEW6O,I,EAAMgQ,K,EAAO;AACvB,WAAK2B,cAAL,CAAoB,KAAKlQ,OAAzB,EAAkC,UAAlC,EAA8C,KAAKoM,IAAL,EAA9C,EAA2D7N,IAA3D,EAAiEgQ,KAAjE;AACD;;;8BAEShQ,I,EAAMgQ,K,EAAO;AACrB,WAAK2B,cAAL,CAAoB,KAAKlQ,OAAzB,EAAkC,gBAAlC,EAAoD,IAApD,EAA0DzB,IAA1D,EAAgEgQ,KAAhE;AACD;;;mCAEc4B,U,EAAYC,U,EAAYC,Q,EAAU9R,I,EAAMgQ,K,EAAO;AAC5D,UAAG4B,WAAWzgB,MAAX,IAAqB,CAAxB,EAA2B;AACzB,eAAO6O,MAAP;AACD;AACD,eAAS+R,YAAT,GAAwB;AACtB,YAAIC,OAAO,EAAX;AACA,YAAIN,WAAWO,UAAU,CAAV,CAAf;AACA,YAAI3W,OAAO2W,UAAU,CAAV,CAAX;AACA,aAAI,IAAIljB,IAAE,CAAV,EAAaA,IAAIkjB,UAAU9gB,MAA3B,EAAmCpC,GAAnC,EAAwC;AACtCijB,eAAK5R,IAAL,CAAU6R,UAAUljB,CAAV,CAAV;AACD;AACD,eAAO,UAACmjB,KAAD,EAAW;AAChBR,mBAASS,KAAT,CAAe7W,IAAf,EAAqB0W,KAAK7J,MAAL,CAAY+J,KAAZ,CAArB;AACD,SAFD;AAGD;;AAED,UAAI5W,OAAO,IAAX;AACA,UAAI8W,cAAcL,aAAazW,IAAb,EAAmB0E,IAAnB,CAAlB;AACA,UAAIqS,eAAeN,aAAazW,IAAb,EAAmB0U,KAAnB,CAAnB;;AAEA,UAAIsC,UAAJ;AACA,UAAGR,QAAH,EAAa;AACXQ,YAAIP,aAAaH,WAAWA,WAAWzgB,MAAX,GAAkB,CAA7B,CAAb,EAA8CygB,WAAWA,WAAWzgB,MAAX,GAAkB,CAA7B,EAAgC0gB,UAAhC,CAA9C,EAA2FC,QAA3F,EAAqGM,WAArG,EAAkHC,YAAlH,CAAJ;AACD,OAFD,MAEO;AACLC,YAAIP,aAAaH,WAAWA,WAAWzgB,MAAX,GAAkB,CAA7B,CAAb,EAA8CygB,WAAWA,WAAWzgB,MAAX,GAAkB,CAA7B,EAAgC0gB,UAAhC,CAA9C,EAA2FO,WAA3F,EAAwGC,YAAxG,CAAJ;AACD;AACD,WAAI,IAAItjB,IAAE6iB,WAAWzgB,MAAX,GAAkB,CAA5B,EAA+BpC,KAAI,CAAnC,EAAsCA,GAAtC,EAA2C;AACzC,YAAG+iB,QAAH,EAAa;AACXQ,cAAIP,aAAaH,WAAW7iB,CAAX,CAAb,EAA4B6iB,WAAW7iB,CAAX,EAAc8iB,UAAd,CAA5B,EAAuDC,QAAvD,EAAiEQ,CAAjE,EAAoED,YAApE,CAAJ;AACD,SAFD,MAEO;AACLC,cAAIP,aAAaH,WAAW7iB,CAAX,CAAb,EAA4B6iB,WAAW7iB,CAAX,EAAc8iB,UAAd,CAA5B,EAAuDS,CAAvD,EAA0DD,YAA1D,CAAJ;AACD;AACF;AACDC;AACD;;;mCAEc;AACb,UAAIvjB,UAAJ;AAAA,UAAO6O,aAAP;AAAA,UAAaI,eAAb;AAAA,UAAqB4D,WAArB;;AAEA,WAAI7S,IAAE,CAAN,EAASA,IAAI,KAAKke,SAAL,CAAe9b,MAA5B,EAAoCpC,GAApC,EAAyC;AACvC6O,eAAO,KAAKqP,SAAL,CAAele,CAAf,CAAP;AACA,YAAG,CAAC6O,IAAJ,EAAU;AACVA,aAAK2U,cAAL,CAAoB,KAAK5E,kBAAzB;AACD;;AAED,UAAI6E,YAAY,CAAhB;AACA,WAAIzjB,IAAE,CAAN,EAASA,IAAI,KAAKke,SAAL,CAAe9b,MAA5B,EAAoCpC,GAApC,EAAyC;AACvC6O,eAAO,KAAKqP,SAAL,CAAele,CAAf,CAAP;AACA,YAAG,CAAC6O,IAAJ,EAAU;AACV,YAAGA,KAAKjI,MAAL,IAAe,CAAlB,EAAqB;AACnB6c;AACA,eAAKvF,SAAL,CAAele,CAAf,IAAoB,IAApB;AACA,eAAKoe,iBAAL,CAAuB/M,IAAvB,CAA4BxC,IAA5B;AACA,eAAK+P,kBAAL,CAAwB8E,UAAxB,CAAmC7U,IAAnC;AACA,eAAK0Q,WAAL,CAAiB7N,GAAjB,CAAqB,UAAU7C,KAAK9D,EAApC,EAAwC;AACtC3D,kBAAM,SADgC;AAEtCyH,kBAAMA;AAFgC,WAAxC;AAID;AACF;AACD,UAAI8U,YAAY,EAAhB;AACA,WAAI3jB,IAAE,CAAN,EAASA,IAAI,KAAK0S,OAAL,CAAatQ,MAA1B,EAAkCpC,GAAlC,EAAuC;AACrC6S,aAAK,KAAKH,OAAL,CAAa1S,CAAb,CAAL;AACA,YAAG,CAAC6S,EAAJ,EAAQ;AACR,YAAGA,GAAGhE,IAAH,CAAQjI,MAAR,IAAkB,CAArB,EAAwB;AACtB,eAAK8L,OAAL,CAAa1S,CAAb,IAAkB,IAAlB;AACA6S,aAAG6P,UAAH;AACA;AACD;AACDiB,kBAAUtS,IAAV,CAAewB,EAAf;AACD;AACD,WAAKH,OAAL,GAAeiR,SAAf;;AAEA,WAAI3jB,IAAE,CAAN,EAASA,IAAI,KAAKke,SAAL,CAAe9b,MAA5B,EAAoCpC,GAApC,EAAyC;AACvC6O,eAAO,KAAKqP,SAAL,CAAele,CAAf,CAAP;AACA,YAAG,CAAC6O,IAAJ,EAAU;AACV,YAAGA,KAAK+U,UAAR,EAAoB;AAClB,cAAItR,QAAQzD,KAAKgV,WAAL,EAAZ;AACA5U,mBAAS,KAAK6U,aAAL,CAAmBjV,IAAnB,EAAyByD,KAAzB,CAAT;AACA,eAAK6L,WAAL,CAAiB9M,IAAjB,CAAsBpC,MAAtB;AACA,eAAKsQ,WAAL,CAAiB7N,GAAjB,CAAqB,UAAU7C,KAAK9D,EAApC,EAAwC;AACtC3D,kBAAM,OADgC;AAEtCyH,kBAAMA,IAFgC;AAGtCI,oBAAQA;AAH8B,WAAxC;AAKD;AACF;AACD,WAAIjP,IAAE,CAAN,EAASA,IAAI,KAAKke,SAAL,CAAe9b,MAA5B,EAAoCpC,GAApC,EAAyC;AACvC6O,eAAO,KAAKqP,SAAL,CAAele,CAAf,CAAP;AACA,YAAG,CAAC6O,IAAJ,EAAU;AACV,aAAI,IAAIkV,IAAE,CAAV,EAAaA,IAAIN,SAAjB,EAA4BM,GAA5B,EAAiC;AAC/BlV,eAAKmV,cAAL;AACD;AACF;AACD,UAAIC,gBAAJ;AACA,WAAIjkB,IAAE,CAAN,EAASA,IAAI,KAAKme,WAAL,CAAiB/b,MAA9B,EAAsCpC,GAAtC,EAA2C;AACzCiP,iBAAS,KAAKkP,WAAL,CAAiBne,CAAjB,CAAT;AACA,YAAG,CAACiP,MAAJ,EAAY;AACZA,eAAOuU,cAAP;AACAS,kBAAU,KAAKrF,kBAAL,CAAwBsF,aAAxB,CAAsCjV,MAAtC,CAAV;AACA,YAAGgV,OAAH,EAAY;AACV,eAAK9F,WAAL,CAAiBne,CAAjB,IAAsB,IAAtB;AACA,eAAKqe,mBAAL,CAAyBhN,IAAzB,CAA8BpC,MAA9B;AACA,eAAK2P,kBAAL,CAAwBuF,YAAxB,CAAqClV,MAArC;AACA,eAAKsQ,WAAL,CAAiB7N,GAAjB,CAAqB,YAAYzC,OAAOlE,EAAxC,EAA4C;AAC1C3D,kBAAM,SADoC;AAE1C6H,oBAAQA;AAFkC,WAA5C;AAID;AACF;AACD,WAAIjP,CAAJ,IAAS,KAAKkgB,QAAd,EAAwB;AACtB,aAAKA,QAAL,CAAclgB,CAAd,EAAiBokB,eAAjB;AACD;AACF;;;kCAEa;AACZ,UAAG,KAAKzE,gBAAL,IAAyB,MAA5B,EAAoC;AAClC,aAAKlQ,SAAL,CAAe4U,OAAf,GAAyB,KAAKzE,QAAL,CAAc0E,YAAvC;AACD,OAFD,MAEO;AACL,aAAK7U,SAAL,CAAe4U,OAAf,GAAyB,KAAK1E,gBAA9B;AACD;AACD,UAAI3f,UAAJ;AAAA,UAAO6O,aAAP;AAAA,UAAaI,eAAb;AACA,WAAKQ,SAAL,CAAe8U,SAAf;AACA,WAAK9U,SAAL,CAAe+U,WAAf,CAA2B,KAAKnF,YAAhC,EAA8C,KAAKC,UAAnD;AACA,WAAItf,IAAE,CAAN,EAASA,IAAI,KAAKke,SAAL,CAAe9b,MAA5B,EAAoCpC,GAApC,EAAyC;AACvC6O,eAAO,KAAKqP,SAAL,CAAele,CAAf,CAAP;AACA,YAAG,CAAC6O,IAAJ,EAAU;AACV,aAAKY,SAAL,CAAegV,UAAf,CAA0B5V,IAA1B,EAAgC,KAAK0Q,WAAL,CAAiBzf,GAAjB,CAAqB,UAAU+O,KAAK9D,EAApC,CAAhC;AACD;AACD,WAAI/K,IAAE,CAAN,EAASA,IAAI,KAAKme,WAAL,CAAiB/b,MAA9B,EAAsCpC,GAAtC,EAA2C;AACzCiP,iBAAS,KAAKkP,WAAL,CAAiBne,CAAjB,CAAT;AACA,YAAG,CAACiP,MAAJ,EAAY;AACZ,aAAKQ,SAAL,CAAeiV,YAAf,CAA4BzV,MAA5B,EAAoC,KAAKsQ,WAAL,CAAiBzf,GAAjB,CAAqB,YAAYmP,OAAOlE,EAAxC,CAApC;AACD;AACD,aAAM,KAAKqT,iBAAL,CAAuBhc,MAA7B,EAAqC;AACnCyM,eAAO,KAAKuP,iBAAL,CAAuB1F,GAAvB,EAAP;AACA,aAAKjJ,SAAL,CAAegV,UAAf,CAA0B5V,IAA1B,EAAgC,KAAK0Q,WAAL,CAAiBzf,GAAjB,CAAqB,UAAU+O,KAAK9D,EAApC,CAAhC;AACD;AACD,aAAM,KAAKsT,mBAAL,CAAyBjc,MAA/B,EAAuC;AACrC6M,iBAAS,KAAKoP,mBAAL,CAAyB3F,GAAzB,EAAT;AACA,aAAKjJ,SAAL,CAAeiV,YAAf,CAA4BzV,MAA5B,EAAoC,KAAKsQ,WAAL,CAAiBzf,GAAjB,CAAqB,YAAYmP,OAAOlE,EAAxC,CAApC;AACD;AACD,WAAK0E,SAAL,CAAekV,eAAf,CAA+B,KAAK1G,YAApC;AACA,WAAKxO,SAAL,CAAemV,UAAf;AACA,WAAI5kB,IAAE,CAAN,EAASA,IAAI,KAAKif,qBAAL,CAA2B7c,MAAxC,EAAgDpC,GAAhD;AAAqD,aAAKif,qBAAL,CAA2Bjf,CAA3B;AAArD,OACA,KAAKuf,WAAL,CAAiBsF,KAAjB;AACD;;;oCAEe;AACd,UAAIC,YAAY,CAAhB;AACA,WAAI,IAAI9kB,CAAR,IAAa,KAAKkgB,QAAlB,EAA4B;AAC1B,YAAG,CAAC,KAAKA,QAAL,CAAclgB,CAAd,EAAiB+R,OAArB,EAA8B;AAC9B+S;AACD;AACD,aAAOA,SAAP;AACD;;;qCAEgBjW,I,EAAMgT,Y,EAAc;AACnC,aAAO,IAAIkD,mBAAJ,CAAclW,IAAd,EAAoBgT,YAApB,CAAP;AACD;;;gCAEWA,Y,EAAc;AACxB,UAAIhT,OAAO,IAAImW,cAAJ,CAASnD,YAAT,EAAuB,KAAKpC,WAAL,EAAvB,CAAX;AACA,aAAO5Q,IAAP;AACD;;;kCAEaoW,K,EAAO3S,K,EAAO;AAC1B,UAAIrD,SAAS,IAAIiW,gBAAJ,CAAWD,KAAX,EAAkB,KAAKvF,aAAL,EAAlB,EAAwCpN,KAAxC,CAAb;AACA,aAAOrD,MAAP;AACD;;;wBAndc;AACb,aAAO,KAAKgP,YAAZ;AACD;;AAED;;;;;;wBAGe;AACb,aAAO,KAAKkC,SAAZ;AACD;;AAED;;;;;;wBAGe;AACb,aAAO,KAAK1Q,SAAZ;AACD;;;wBAEiB;AAChB,aAAO,KAAK6O,YAAZ;AACD;;AAED;;;;;;wBAGkB;AAChB,aAAO,KAAKe,YAAZ;AACD;;AAED;;;;;;wBAGgB;AACd,aAAO,KAAKC,UAAZ;AACD,K;sBAEa/U,C,EAAG;AACf,WAAK+U,UAAL,GAAkB/U,CAAlB;AACD;;;;;;kBAgbYkT,U;;;;;;;ACnkBF;;;;;;;;;;AAEb;;;;;;;;AAEA,SAAS0H,cAAT,CAAwBrf,CAAxB,EAA2B;AACzB,SAAMA,IAAI,GAAV;AAAeA,SAAK,GAAL;AAAf,GACA,OAAMA,IAAI,CAAC,GAAX;AAAgBA,SAAK,GAAL;AAAhB,GACA,OAAOA,CAAP;AACD;;AAED;;;;IAGMkf,I;;AAEJ;;;;;;;AAOA,gBAAYnD,YAAZ,EAA0B9W,EAA1B,EAA8B;AAAA;;AAC5B,QAAG,QAAO8W,YAAP,yCAAOA,YAAP,MAAuB,QAA1B,EAAoC;AAClC,YAAM,iCAAN;AACD;AACD,SAAKuD,GAAL,GAAWra,EAAX;AACA,SAAKqE,KAAL,GAAayS,aAAa1S,IAA1B;AACA,SAAK+F,KAAL,GAAc,IAAd;AACA,SAAKmQ,UAAL,GAAkB,GAAlB;AACA,SAAKC,OAAL,GAAe,KAAKD,UAApB;AACA,SAAKE,EAAL,GAAU,CAAV;AACA,SAAKC,EAAL,GAAU,CAAV;AACA,SAAKC,MAAL,GAAc,CAAd;AACA,SAAKC,MAAL,GAAc,CAAd;AACA,SAAKC,MAAL,GAAc,CAAd;AACA,SAAKC,SAAL,GAAiB,CAAjB;AACA,SAAKC,WAAL,GAAmB,CAAnB;AACA,SAAKC,SAAL,GAAiB,CAAjB;AACA,SAAKC,eAAL,GAAuB,CAAvB;AACA,SAAKC,MAAL,GAAc,CAAd;AACA,SAAKC,KAAL,GAAa,CAAb;AACA,SAAKC,QAAL,GAAgB,CAAhB;AACA,SAAKC,UAAL,GAAkB,CAAlB;AACA,SAAKC,QAAL,GAAgB,KAAhB;AACA,SAAKC,SAAL,GAAiB,KAAjB;AACA,SAAKC,QAAL,GAAgB,KAAhB;AACA,SAAKC,YAAL,GAAoB,KAApB;AACA,SAAKC,WAAL,GAAmB,GAAnB;AACA,SAAKC,WAAL,GAAmB,CAAnB;AACA,SAAKC,UAAL,GAAkB,IAAlB;AACA,SAAKC,SAAL,GAAiB,IAAjB;AACA,SAAKC,YAAL,GAAoB,EAApB;AACA,SAAKC,cAAL,GAAsB,EAAtB;AACA,SAAKC,SAAL,GAAiB,CAAjB;AACA,SAAKC,cAAL,GAAsB,CAAtB;AACA,SAAKC,oBAAL,GAA4B,CAA5B;AACA,SAAKC,UAAL,GAAkB,EAAlB;AACA,SAAKC,MAAL,GAAc,CAAd;AACA,SAAKC,MAAL,GAAc,IAAd;AACA,SAAKC,SAAL,GAAiB,KAAjB;AACA,SAAKC,SAAL,GAAiB,GAAjB;AACA,SAAKC,MAAL,GAAc,KAAKD,SAAnB;AACA,SAAKE,aAAL,GAAqB,IAArB;AACA,SAAKC,KAAL,GAAa,OAAb;AACD;;AAED;;;;;;;oCAkCgBC,M,EAAQ;AACtB,WAAKP,MAAL,IAAeO,MAAf;AACD;;;uCAEkB;AACjB,WAAKP,MAAL,IAAe,EAAf;AACD;;;qCAEgB;AACf,WAAKA,MAAL,IAAe,EAAf;AACD;;AAED;;;;;;gCA2HY3c,C,EAAG;AACb,WAAKub,SAAL,GAAiBhnB,KAAK4iB,GAAL,CAAS,CAAT,EAAY5iB,KAAKyjB,GAAL,CAAS,CAAC,CAAV,EAAahY,CAAb,CAAZ,CAAjB;AACD;;;4BAEOA,C,EAAG;AACT,WAAK0b,KAAL,GAAannB,KAAK4iB,GAAL,CAAS,CAAT,EAAY5iB,KAAKyjB,GAAL,CAAS,CAAC,CAAV,EAAahY,CAAb,CAAZ,CAAb;AACD;;;+BAEUA,C,EAAG;AACZ,WAAK2b,QAAL,GAAgBpnB,KAAK4iB,GAAL,CAAS,CAAT,EAAY5iB,KAAKyjB,GAAL,CAAS,CAAC,CAAV,EAAahY,CAAb,CAAZ,CAAhB;AACD;;;iCAEYA,C,EAAG;AACd,WAAK4b,UAAL,GAAkBrnB,KAAK4iB,GAAL,CAAS,CAAT,EAAY5iB,KAAKyjB,GAAL,CAAS,CAAC,CAAV,EAAahY,CAAb,CAAZ,CAAlB;AACD;;;6BAEQA,C,EAAG;AACV,WAAK6c,SAAL,GAAiB7c,IAAI,IAAJ,GAAW,KAA5B;AACD;;;iCAEYA,C,EAAG;AACd,WAAK0c,UAAL,GAAkB1c,CAAlB;AACD;;;gCAEW;AACV,WAAK6b,QAAL,GAAgB,IAAhB;AACA,WAAKsB,QAAL,CAAc,GAAd;AACD;;;iCAEY;AACX,WAAKrB,SAAL,GAAiB,IAAjB;AACA,WAAKqB,QAAL,CAAc,GAAd;AACD;;;gCAEW;AACV,WAAKpB,QAAL,GAAgB,IAAhB;AACA,WAAKoB,QAAL,CAAc,GAAd;AACD;;;+BAEUC,K,EAAO;AAChB,WAAKpB,YAAL,GAAoB,IAApB;AACA,WAAKmB,QAAL,CAAc,MAAM5oB,KAAKiW,KAAL,CAAW4S,QAAM,CAAjB,IAAoB,GAAxC;AACD;;;gCAEWC,K,EAAO;AACjB,WAAKlB,UAAL,GAAkBkB,KAAlB;AACD;;;+BAEUC,I,EAAM;AACf,WAAKlB,SAAL,GAAiBkB,IAAjB;AACD;;;iCAEY5Y,M,EAAQ;AACnB,WAAK2X,YAAL,CAAkBvV,IAAlB,CAAuBpC,MAAvB;AACD;;;+BAEU6Y,Q,EAAU;AACnB,WAAKP,aAAL,GAAqBO,QAArB;AACD;;;uCAEkB;AACjB,WAAKd,oBAAL,GAA4B,CAA5B;AACD;;;2BAEMnY,I,EAAM;AACX,UAAG,CAAC,KAAKqG,KAAT,EAAgB,OAAO,KAAP;AAChB,UAAG,CAACrG,KAAK0G,IAAT,EAAe,OAAO,KAAP;AACf,aAAO,KAAKL,KAAL,CAAW/F,IAAX,IAAmBN,KAAK0G,IAAL,CAAUpG,IAApC;AACD;;AAED;;;;;;6BAOSsY,M,EAAQ;AACf,WAAKnC,OAAL,GAAexmB,KAAKyjB,GAAL,CAAS,CAAT,EAAY,KAAK+C,OAAL,GAAemC,MAA3B,CAAf;AACD;;;2BAEMM,S,EAAWC,S,EAAW;AAC3B,WAAKzC,EAAL,GAAUwC,SAAV;AACA,WAAKvC,EAAL,GAAUwC,SAAV;AACA,WAAKvC,MAAL,GAAcsC,SAAd;AACA,WAAKrC,MAAL,GAAcsC,SAAd;AACD;;AAED;;;;;;kCAec;AACZ,UAAI7R,QAAQ,KAAK4Q,cAAjB;AACA,WAAKA,cAAL,GAAsB,CAAtB;AACA,aAAO5Q,KAAP;AACD;;;0BAMKA,K,EAAO;AACXA,cAAQrX,KAAKyjB,GAAL,CAAS,GAAT,EAAczjB,KAAK4iB,GAAL,CAAS,CAAT,EAAYvL,KAAZ,CAAd,CAAR;AACA,UAAG,CAAC,KAAK8R,WAAT,EAAsB;AACpB,aAAKnB,SAAL,GAAiBhoB,KAAKiW,KAAL,CAAWoB,QAAM,KAAK0Q,cAAtB,CAAjB;AACA,aAAKE,cAAL,GAAsB5Q,KAAtB;AACD;AACF;;;8BAESrD,I,EAAM;AACd,UAAGA,SAASpU,SAAZ,EAAuB;AACrBoU,eAAQ,IAAIvF,IAAJ,EAAD,CAAaE,OAAb,KAAyB3O,KAAKiW,KAAL,CAAWjW,KAAKkW,MAAL,KAAc,OAAzB,CAAhC;AACD;AACD,UAAIkT,MAAM,0BAAWpV,IAAX,CAAV;AACA,WAAK6S,MAAL,GAAc7mB,KAAKiW,KAAL,CAAW,MAAImT,KAAf,IAAsB,GAApC;AACD;;;yBAEIC,Q,EAAU;AACb,UAAGA,YAAYA,SAASC,IAAxB,EAA8B;AAC5B,aAAKZ,KAAL,GAAaW,SAASC,IAAtB;AACD;AACF;;;mCAEcC,iB,EAAmB;AAChC,UAAI9b,OAAO,IAAX;;AAEA,UAAGA,KAAK+Y,OAAL,IAAgB,CAAnB,EAAsB;AACpB;AACD;;AAED,UAAG/Y,KAAK6a,SAAL,IAAkB7a,KAAK+a,MAAL,GAAc,CAAnC,EAAsC;AACpC/a,aAAK+a,MAAL;AACD;;AAED,UAAIgB,OAAO/b,KAAKgZ,EAAhB;AACA,UAAIgD,OAAOhc,KAAKiZ,EAAhB;;AAEA,UAAIgD,WAAWjc,KAAKuZ,SAAL,IAAkBvZ,KAAKkc,QAAL,GAAgB,CAAhB,GAAoB,CAAtC,CAAf;AACA,UAAIC,qBAAsBnc,KAAKkc,QAAL,GAAgB,EAAhB,GAAqB,EAA/C;AACAlc,WAAKwZ,eAAL,IAAwB,CAACyC,WAAWjc,KAAKwZ,eAAjB,IAAkC2C,kBAA1D;;AAEA,UAAIne,IAAIgC,KAAKwZ,eAAb;AACA,UAAIlnB,WAAW0N,KAAKoZ,MAAL,IAAa7mB,KAAKC,EAAL,GAAQ,GAArB,CAAf;AACAwN,WAAKgZ,EAAL,IAAWhb,IAAEzL,KAAK6pB,GAAL,CAAS9pB,QAAT,CAAb;AACA0N,WAAKiZ,EAAL,IAAWjb,IAAEzL,KAAK8pB,GAAL,CAAS/pB,QAAT,CAAb;AACA0N,WAAK6Z,QAAL,GAAgB,KAAhB;AACA7Z,WAAK8Z,SAAL,GAAiB,KAAjB;AACA9Z,WAAK+Z,QAAL,GAAgB,KAAhB;AACA,UAAIrC,UAAU,CAACoE,kBAAkBQ,SAAlB,CAA4Btc,IAA5B,CAAf;AACA,UAAG0X,OAAH,EAAY;AACV1X,aAAKgZ,EAAL,GAAU+C,IAAV;AACA/b,aAAKiZ,EAAL,GAAU+C,IAAV;AACAhc,aAAKwZ,eAAL,GAAuB,CAAvB;AACD;AACD,UAAG,KAAKQ,YAAR,EAAsB;AACpB;AACA;AACA;AACA;AACAha,aAAK8Z,SAAL,GAAiB,IAAjB;AACA,aAAKE,YAAL,GAAoB,KAApB;AACD;;AAEDha,WAAKoZ,MAAL,IAAe,IAAEpZ,KAAK0Z,KAAtB;AACA1Z,WAAKsZ,WAAL,IAAoB,IAAEtZ,KAAK4Z,UAA3B;AACA5Z,WAAKqZ,SAAL,IAAkB,IAAErZ,KAAK2Z,QAAzB;;AAEA3Z,WAAKoZ,MAAL,GAAcR,eAAe5Y,KAAKoZ,MAApB,CAAd;AACApZ,WAAKsZ,WAAL,GAAmBV,eAAe5Y,KAAKsZ,WAApB,CAAnB;AACAtZ,WAAKqZ,SAAL,GAAiBT,eAAe5Y,KAAKqZ,SAApB,CAAjB;AACAyC,wBAAkBS,UAAlB,CAA6Bvc,IAA7B;;AAEAA,WAAKma,UAAL,GAAkB,IAAlB;AACAna,WAAKoa,SAAL,GAAiB,IAAjB;AACApa,WAAKgb,aAAL,GAAqB,IAArB;AACAhb,WAAKya,oBAAL,GAA4BloB,KAAKyjB,GAAL,CAAS,CAAT,EAAYhW,KAAKya,oBAAL,GAA0B,CAAtC,CAA5B;AACAqB,wBAAkBU,SAAlB,CAA4Bxc,IAA5B;AACA8b,wBAAkBW,WAAlB,CAA8Bzc,IAA9B;AACA8b,wBAAkBY,SAAlB,CAA4B1c,IAA5B;;AAEA,UAAGA,KAAKua,SAAL,GAAiB,CAApB,EAAuB;AACrBva,aAAKua,SAAL;AACD;;AAED,UAAIoC,YAAY,IAAhB;AACA,UAAIC,WAAW,IAAf;AACA,UAAIC,cAAc,EAAlB;AACA,aAAM7c,KAAKqa,YAAL,CAAkBxkB,MAAxB,EAAgC;AAC9B,YAAI6M,SAAS1C,KAAKqa,YAAL,CAAkByC,KAAlB,EAAb;AACAD,oBAAY/X,IAAZ,CAAiB;AACftG,cAAIkE,OAAOlE,EADI;AAEftM,aAAGwQ,OAAOxQ,CAFK;AAGfE,aAAGsQ,OAAOtQ,CAHK;AAIfC,iBAAOqQ,OAAOrQ,KAJC;AAKf+oB,iBAAO1Y,OAAO0Y,KALC;AAMfF,kBAAQxY,OAAOwY;AANA,SAAjB;AAQD;;AAED,UAAGlb,KAAKma,UAAR,EAAoB;AAClBwC,oBAAY;AACVne,cAAIwB,KAAKma,UAAL,CAAgB3b,EADV;AAEVtM,aAAG8N,KAAKma,UAAL,CAAgBjoB,CAFT;AAGVE,aAAG4N,KAAKma,UAAL,CAAgB/nB,CAHT;AAIVC,iBAAO2N,KAAKma,UAAL,CAAgB9nB,KAJb;AAKV+oB,iBAAOpb,KAAKma,UAAL,CAAgBiB,KALb;AAMV/gB,kBAAQ2F,KAAKma,UAAL,CAAgB9f;AANd,SAAZ;AAQD;AACD,UAAG2F,KAAKoa,SAAR,EAAmB;AACjBwC,mBAAW;AACTpe,cAAIwB,KAAKoa,SAAL,CAAe5b,EADV;AAETtM,aAAG8N,KAAKoa,SAAL,CAAeloB,CAFT;AAGTE,aAAG4N,KAAKoa,SAAL,CAAehoB,CAHT;AAITC,iBAAO2N,KAAKoa,SAAL,CAAe/nB,KAJb;AAKT+oB,iBAAOpb,KAAKoa,SAAL,CAAegB,KALb;AAMT/gB,kBAAQ2F,KAAKoa,SAAL,CAAe/f;AANd,SAAX;AAQD;;AAED,UAAI0iB,KAAK/c,KAAKgZ,EAAL,GAAUhZ,KAAKkZ,MAAxB;AACA,UAAI8D,KAAKhd,KAAKiZ,EAAL,GAAUjZ,KAAKmZ,MAAxB;AACAnZ,WAAKyZ,MAAL,GAAclnB,KAAK0qB,IAAL,CAAUF,KAAGA,EAAH,GAAQC,KAAGA,EAArB,CAAd;;AAEAhd,WAAKkZ,MAAL,GAAclZ,KAAKgZ,EAAnB;AACAhZ,WAAKmZ,MAAL,GAAcnZ,KAAKiZ,EAAnB;;AAEAjZ,WAAK4a,MAAL,GAAc;AACZ1oB,WAAG8N,KAAKgZ,EADI;AAEZ5mB,WAAG4N,KAAKiZ,EAFI;AAGZ5mB,eAAO2N,KAAKoZ,MAHA;AAIZ/e,gBAAQ2F,KAAK+Y,OAJD;AAKZmE,eAAOld,KAAK+a,MALA;AAMZoC,oBAAY;AACVC,gBAAMpd,KAAK6Z,QADD;AAEVwB,iBAAOrb,KAAK8Z,SAFF;AAGVwB,gBAAMtb,KAAK+Z;AAHD,SANA;AAWZ9f,eAAO;AACL5H,iBAAO2N,KAAKsZ,WADP;AAEL+D,0BAAgBrd,KAAKqd,cAFhB;AAGLC,wBAActd,KAAKgb,aAHd;AAILK,iBAAOsB,SAJF;AAKLrB,gBAAMsB,QALD;AAMLW,mBAASV;AANJ,SAXK;AAmBZ9iB,aAAK;AACH1H,iBAAO2N,KAAKqZ,SADT;AAEHmE,qBAAWxd,KAAK0b;AAFb,SAnBO;AAuBZ+B,eAAO;AACLC,iBAAO1d,KAAKgJ,IAAL,GAAYhJ,KAAKgJ,IAAL,CAAU2U,WAAV,CAAsB3d,KAAKxB,EAA3B,CAAZ,GAA6C;AAD/C;AAvBK,OAAd;AA2BD;;;wBAhbQ;AACP,aAAO,KAAKqa,GAAZ;AACD;AACD;;;;;;wBAGW;AACT,aAAO,KAAKoC,KAAZ;AACD;;AAED;;;;;;wBAGY;AACV,aAAO,KAAKL,MAAZ;AACD;;AAED;;;;;;wBAGa;AACX,aAAO,KAAK7B,OAAZ;AACD;;AAED;;;;;;wBAGY;AACV,aAAO,KAAK4B,MAAZ;AACD;;;wBAiBe;AACd,aAAO,KAAK7B,UAAZ;AACD;;AAED;;;;;;wBAGiB;AACf,aAAO,KAAKmB,WAAZ;AACD;;AAED;;;;;;wBAGiB;AACf,aAAO,KAAKC,WAAZ;AACD;;AAED;;;;;;wBAGW;AACT,aAAO,KAAKrX,KAAZ;AACD;;AAED;;;;;;wBAGe;AACb,aAAO,KAAKA,KAAL,GAAa,IAAb,GAAoB,KAAKgW,GAAhC;AACD;;AAED;;;;;;wBAGW;AACT,aAAO,KAAKlQ,KAAZ;AACD;;AAED;;;;;;wBAGQ;AACN,aAAO,KAAKqQ,EAAZ;AACD;;AAED;;;;;;wBAGQ;AACN,aAAO,KAAKC,EAAZ;AACD;;AAED;;;;;;wBAGY;AACV,aAAO,KAAKQ,MAAZ;AACD;;;wBAEe;AACd,aAAO,EAAP;AACD;;AAED;;;;;;wBAGY;AACV,aAAO,KAAKL,MAAZ;AACD;;AAED;;;;;;wBAGe;AACb,aAAO,KAAKG,SAAZ;AACD;AACD;;;;;;wBAGe;AACb,aAAQ,KAAKsB,SAAL,IAAkB,KAAKE,MAAL,GAAc,CAAxC;AACD;;AAED;;;;;;wBAGY;AACV,aAAO,KAAKA,MAAZ;AACD;;AAED;;;;;;wBAGe;AACb,aAAO,KAAKD,SAAZ;AACD;;AAED;;;;;;wBAGe;AACb,aAAO,KAAKzB,SAAZ;AACD;;AAED;;;;;;wBAGiB;AACf,aAAO,KAAKC,WAAZ;AACD;;;wBAEe;AACd,aAAO,KAAKa,UAAZ;AACD;;;wBAEc;AACb,aAAO,KAAKC,SAAZ;AACD;;;wBA2EoB;AACnB,aAAO,KAAKK,oBAAL,GAA4B,CAAnC;AACD;;;wBAgBe;AACd,aAAO,KAAKC,UAAZ;AACD;;;wBAEgB;AACf,aAAO,KAAKF,cAAL,GAAsB,CAA7B;AACD;;;wBAEmB;AAClB,aAAO,KAAKA,cAAZ;AACD;;;wBAQiB;AAChB,aAAO,KAAKD,SAAL,GAAiB,CAAxB;AACD;;;;;;kBA8JY9B,I;;;;;;;;;;;ACzff;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAIA,CAAC,UAASmF,MAAT,EAAiB9qB,MAAjB,EAAyB+qB,MAAzB,EAAiC;;AAElC,WAASC,IAAT,CAAcvX,IAAd,EAAoB;AAClB,QAAIwX,KAAK,IAAT;AAAA,QAAeC,OAAOC,MAAtB;;AAEAF,OAAGG,IAAH,GAAU,YAAW;AACnB,UAAI7nB,IAAI,UAAU0nB,GAAGI,EAAb,GAAkBJ,GAAG/G,CAAH,GAAO,sBAAjC,CADmB,CACsC;AACzD+G,SAAGI,EAAH,GAAQJ,GAAGK,EAAX;AACAL,SAAGK,EAAH,GAAQL,GAAGM,EAAX;AACA,aAAON,GAAGM,EAAH,GAAQhoB,KAAK0nB,GAAG/G,CAAH,GAAO3gB,IAAI,CAAhB,CAAf;AACD,KALD;;AAOA;AACA0nB,OAAG/G,CAAH,GAAO,CAAP;AACA+G,OAAGI,EAAH,GAAQH,KAAK,GAAL,CAAR;AACAD,OAAGK,EAAH,GAAQJ,KAAK,GAAL,CAAR;AACAD,OAAGM,EAAH,GAAQL,KAAK,GAAL,CAAR;AACAD,OAAGI,EAAH,IAASH,KAAKzX,IAAL,CAAT;AACA,QAAIwX,GAAGI,EAAH,GAAQ,CAAZ,EAAe;AAAEJ,SAAGI,EAAH,IAAS,CAAT;AAAa;AAC9BJ,OAAGK,EAAH,IAASJ,KAAKzX,IAAL,CAAT;AACA,QAAIwX,GAAGK,EAAH,GAAQ,CAAZ,EAAe;AAAEL,SAAGK,EAAH,IAAS,CAAT;AAAa;AAC9BL,OAAGM,EAAH,IAASL,KAAKzX,IAAL,CAAT;AACA,QAAIwX,GAAGM,EAAH,GAAQ,CAAZ,EAAe;AAAEN,SAAGM,EAAH,IAAS,CAAT;AAAa;AAC9BL,WAAO,IAAP;AACD;;AAED,WAAStqB,IAAT,CAAc+V,CAAd,EAAiBpT,CAAjB,EAAoB;AAClBA,MAAE2gB,CAAF,GAAMvN,EAAEuN,CAAR;AACA3gB,MAAE8nB,EAAF,GAAO1U,EAAE0U,EAAT;AACA9nB,MAAE+nB,EAAF,GAAO3U,EAAE2U,EAAT;AACA/nB,MAAEgoB,EAAF,GAAO5U,EAAE4U,EAAT;AACA,WAAOhoB,CAAP;AACD;;AAED,WAASqZ,IAAT,CAAcnJ,IAAd,EAAoB+C,IAApB,EAA0B;AACxB,QAAIgV,KAAK,IAAIR,IAAJ,CAASvX,IAAT,CAAT;AAAA,QACIgY,QAAQjV,QAAQA,KAAKiV,KADzB;AAAA,QAEIC,OAAOF,GAAGJ,IAFd;AAGAM,SAAKC,KAAL,GAAa,YAAW;AAAE,aAAQH,GAAGJ,IAAH,KAAY,WAAb,GAA4B,CAAnC;AAAuC,KAAjE;AACAM,SAAKE,MAAL,GAAc,YAAW;AACvB,aAAOF,SAAS,CAACA,SAAS,QAAT,GAAoB,CAArB,IAA0B,sBAA1C,CADuB,CAC2C;AACnE,KAFD;AAGAA,SAAKG,KAAL,GAAaH,IAAb;AACA,QAAID,KAAJ,EAAW;AACT,UAAI,QAAOA,KAAP,yCAAOA,KAAP,MAAiB,QAArB,EAA+B7qB,KAAK6qB,KAAL,EAAYD,EAAZ;AAC/BE,WAAKD,KAAL,GAAa,YAAW;AAAE,eAAO7qB,KAAK4qB,EAAL,EAAS,EAAT,CAAP;AAAsB,OAAhD;AACD;AACD,WAAOE,IAAP;AACD;;AAED,WAASP,IAAT,GAAgB;AACd,QAAIW,IAAI,UAAR;;AAEA,QAAIZ,OAAO,SAAPA,IAAO,CAAS1oB,IAAT,EAAe;AACxBA,aAAOA,KAAK+L,QAAL,EAAP;AACA,WAAK,IAAI5N,IAAI,CAAb,EAAgBA,IAAI6B,KAAKO,MAAzB,EAAiCpC,GAAjC,EAAsC;AACpCmrB,aAAKtpB,KAAKupB,UAAL,CAAgBprB,CAAhB,CAAL;AACA,YAAIqrB,IAAI,sBAAsBF,CAA9B;AACAA,YAAIE,MAAM,CAAV;AACAA,aAAKF,CAAL;AACAE,aAAKF,CAAL;AACAA,YAAIE,MAAM,CAAV;AACAA,aAAKF,CAAL;AACAA,aAAKE,IAAI,WAAT,CARoC,CAQd;AACvB;AACD,aAAO,CAACF,MAAM,CAAP,IAAY,sBAAnB,CAZwB,CAYmB;AAC5C,KAbD;;AAeA,WAAOZ,IAAP;AACD;;AAGD,MAAIlrB,UAAUA,OAAOC,OAArB,EAA8B;AAC5BD,WAAOC,OAAP,GAAiB2c,IAAjB;AACD,GAFD,MAEO,IAAImO,sBAAMA,IAAIA,sBAAd,EAA0B;AAC/BA,uCAAO,YAAW;AAAE,aAAOnO,IAAP;AAAc,KAAlC;AAAA;AACD,GAFM,MAEA;AACL,SAAK3T,IAAL,GAAY2T,IAAZ;AACD;AAEA,CAhFD,aAkFE,CAAC,MAAD,yBAAQ5c,MAAR,MAAmB,QAAnB,IAA+BA,MAlFjC,EAkF4C;AACzC,sBAnFH,CAmF4C;AAnF5C,E;;;;;;;;;;;;AC3BA;AACA;;AAEA,CAAC,UAAS8qB,MAAT,EAAiB9qB,MAAjB,EAAyB+qB,MAAzB,EAAiC;;AAElC,WAASkB,MAAT,CAAgBxY,IAAhB,EAAsB;AACpB,QAAIwX,KAAK,IAAT;AAAA,QAAeiB,UAAU,EAAzB;;AAEAjB,OAAG7rB,CAAH,GAAO,CAAP;AACA6rB,OAAG3rB,CAAH,GAAO,CAAP;AACA2rB,OAAGkB,CAAH,GAAO,CAAP;AACAlB,OAAGmB,CAAH,GAAO,CAAP;;AAEA;AACAnB,OAAGG,IAAH,GAAU,YAAW;AACnB,UAAI7nB,IAAI0nB,GAAG7rB,CAAH,GAAQ6rB,GAAG7rB,CAAH,IAAQ,EAAxB;AACA6rB,SAAG7rB,CAAH,GAAO6rB,GAAG3rB,CAAV;AACA2rB,SAAG3rB,CAAH,GAAO2rB,GAAGkB,CAAV;AACAlB,SAAGkB,CAAH,GAAOlB,GAAGmB,CAAV;AACA,aAAOnB,GAAGmB,CAAH,IAASnB,GAAGmB,CAAH,KAAS,EAAV,GAAgB7oB,CAAhB,GAAqBA,MAAM,CAA1C;AACD,KAND;;AAQA,QAAIkQ,UAAUA,OAAO,CAAjB,CAAJ,EAAyB;AACvB;AACAwX,SAAG7rB,CAAH,GAAOqU,IAAP;AACD,KAHD,MAGO;AACL;AACAyY,iBAAWzY,IAAX;AACD;;AAED;AACA,SAAK,IAAI4Y,IAAI,CAAb,EAAgBA,IAAIH,QAAQnpB,MAAR,GAAiB,EAArC,EAAyCspB,GAAzC,EAA8C;AAC5CpB,SAAG7rB,CAAH,IAAQ8sB,QAAQH,UAAR,CAAmBM,CAAnB,IAAwB,CAAhC;AACApB,SAAGG,IAAH;AACD;AACF;;AAED,WAASxqB,IAAT,CAAc+V,CAAd,EAAiBpT,CAAjB,EAAoB;AAClBA,MAAEnE,CAAF,GAAMuX,EAAEvX,CAAR;AACAmE,MAAEjE,CAAF,GAAMqX,EAAErX,CAAR;AACAiE,MAAE4oB,CAAF,GAAMxV,EAAEwV,CAAR;AACA5oB,MAAE6oB,CAAF,GAAMzV,EAAEyV,CAAR;AACA,WAAO7oB,CAAP;AACD;;AAED,WAASqZ,IAAT,CAAcnJ,IAAd,EAAoB+C,IAApB,EAA0B;AACxB,QAAIgV,KAAK,IAAIS,MAAJ,CAAWxY,IAAX,CAAT;AAAA,QACIgY,QAAQjV,QAAQA,KAAKiV,KADzB;AAAA,QAEIC,OAAO,SAAPA,IAAO,GAAW;AAAE,aAAO,CAACF,GAAGJ,IAAH,OAAc,CAAf,IAAoB,WAA3B;AAAyC,KAFjE;AAGAM,SAAKE,MAAL,GAAc,YAAW;AACvB,SAAG;AACD,YAAIU,MAAMd,GAAGJ,IAAH,OAAc,EAAxB;AAAA,YACImB,MAAM,CAACf,GAAGJ,IAAH,OAAc,CAAf,IAAoB,WAD9B;AAAA,YAEItW,SAAS,CAACwX,MAAMC,GAAP,KAAe,KAAK,EAApB,CAFb;AAGD,OAJD,QAISzX,WAAW,CAJpB;AAKA,aAAOA,MAAP;AACD,KAPD;AAQA4W,SAAKC,KAAL,GAAaH,GAAGJ,IAAhB;AACAM,SAAKG,KAAL,GAAaH,IAAb;AACA,QAAID,KAAJ,EAAW;AACT,UAAI,QAAOA,KAAP,yCAAOA,KAAP,MAAiB,QAArB,EAA+B7qB,KAAK6qB,KAAL,EAAYD,EAAZ;AAC/BE,WAAKD,KAAL,GAAa,YAAW;AAAE,eAAO7qB,KAAK4qB,EAAL,EAAS,EAAT,CAAP;AAAsB,OAAhD;AACD;AACD,WAAOE,IAAP;AACD;;AAED,MAAI1rB,UAAUA,OAAOC,OAArB,EAA8B;AAC5BD,WAAOC,OAAP,GAAiB2c,IAAjB;AACD,GAFD,MAEO,IAAImO,sBAAMA,IAAIA,sBAAd,EAA0B;AAC/BA,uCAAO,YAAW;AAAE,aAAOnO,IAAP;AAAc,KAAlC;AAAA;AACD,GAFM,MAEA;AACL,SAAK1T,MAAL,GAAc0T,IAAd;AACD;AAEA,CAvED,aAyEE,CAAC,MAAD,yBAAQ5c,MAAR,MAAmB,QAAnB,IAA+BA,MAzEjC,EAyE4C;AACzC,sBA1EH,CA0E4C;AA1E5C,E;;;;;;;;;;;;ACHA;AACA;;AAEA,CAAC,UAAS8qB,MAAT,EAAiB9qB,MAAjB,EAAyB+qB,MAAzB,EAAiC;;AAElC,WAASkB,MAAT,CAAgBxY,IAAhB,EAAsB;AACpB,QAAIwX,KAAK,IAAT;AAAA,QAAeiB,UAAU,EAAzB;;AAEA;AACAjB,OAAGG,IAAH,GAAU,YAAW;AACnB,UAAI7nB,IAAK0nB,GAAG7rB,CAAH,GAAQ6rB,GAAG7rB,CAAH,KAAS,CAA1B;AACA6rB,SAAG7rB,CAAH,GAAO6rB,GAAG3rB,CAAV,CAAa2rB,GAAG3rB,CAAH,GAAO2rB,GAAGkB,CAAV,CAAalB,GAAGkB,CAAH,GAAOlB,GAAGmB,CAAV,CAAanB,GAAGmB,CAAH,GAAOnB,GAAG/f,CAAV;AACvC,aAAO,CAAC+f,GAAGuB,CAAH,GAAQvB,GAAGuB,CAAH,GAAO,MAAP,GAAgB,CAAzB,KACHvB,GAAG/f,CAAH,GAAQ+f,GAAG/f,CAAH,GAAQ+f,GAAG/f,CAAH,IAAQ,CAAjB,IAAwB3H,IAAKA,KAAK,CAAlC,CADJ,IAC6C,CADpD;AAED,KALD;;AAOA0nB,OAAG7rB,CAAH,GAAO,CAAP;AACA6rB,OAAG3rB,CAAH,GAAO,CAAP;AACA2rB,OAAGkB,CAAH,GAAO,CAAP;AACAlB,OAAGmB,CAAH,GAAO,CAAP;AACAnB,OAAG/f,CAAH,GAAO,CAAP;;AAEA,QAAIuI,UAAUA,OAAO,CAAjB,CAAJ,EAAyB;AACvB;AACAwX,SAAG7rB,CAAH,GAAOqU,IAAP;AACD,KAHD,MAGO;AACL;AACAyY,iBAAWzY,IAAX;AACD;;AAED;AACA,SAAK,IAAI4Y,IAAI,CAAb,EAAgBA,IAAIH,QAAQnpB,MAAR,GAAiB,EAArC,EAAyCspB,GAAzC,EAA8C;AAC5CpB,SAAG7rB,CAAH,IAAQ8sB,QAAQH,UAAR,CAAmBM,CAAnB,IAAwB,CAAhC;AACA,UAAIA,KAAKH,QAAQnpB,MAAjB,EAAyB;AACvBkoB,WAAGuB,CAAH,GAAOvB,GAAG7rB,CAAH,IAAQ,EAAR,GAAa6rB,GAAG7rB,CAAH,KAAS,CAA7B;AACD;AACD6rB,SAAGG,IAAH;AACD;AACF;;AAED,WAASxqB,IAAT,CAAc+V,CAAd,EAAiBpT,CAAjB,EAAoB;AAClBA,MAAEnE,CAAF,GAAMuX,EAAEvX,CAAR;AACAmE,MAAEjE,CAAF,GAAMqX,EAAErX,CAAR;AACAiE,MAAE4oB,CAAF,GAAMxV,EAAEwV,CAAR;AACA5oB,MAAE6oB,CAAF,GAAMzV,EAAEyV,CAAR;AACA7oB,MAAE2H,CAAF,GAAMyL,EAAEzL,CAAR;AACA3H,MAAEipB,CAAF,GAAM7V,EAAE6V,CAAR;AACA,WAAOjpB,CAAP;AACD;;AAED,WAASqZ,IAAT,CAAcnJ,IAAd,EAAoB+C,IAApB,EAA0B;AACxB,QAAIgV,KAAK,IAAIS,MAAJ,CAAWxY,IAAX,CAAT;AAAA,QACIgY,QAAQjV,QAAQA,KAAKiV,KADzB;AAAA,QAEIC,OAAO,SAAPA,IAAO,GAAW;AAAE,aAAO,CAACF,GAAGJ,IAAH,OAAc,CAAf,IAAoB,WAA3B;AAAyC,KAFjE;AAGAM,SAAKE,MAAL,GAAc,YAAW;AACvB,SAAG;AACD,YAAIU,MAAMd,GAAGJ,IAAH,OAAc,EAAxB;AAAA,YACImB,MAAM,CAACf,GAAGJ,IAAH,OAAc,CAAf,IAAoB,WAD9B;AAAA,YAEItW,SAAS,CAACwX,MAAMC,GAAP,KAAe,KAAK,EAApB,CAFb;AAGD,OAJD,QAISzX,WAAW,CAJpB;AAKA,aAAOA,MAAP;AACD,KAPD;AAQA4W,SAAKC,KAAL,GAAaH,GAAGJ,IAAhB;AACAM,SAAKG,KAAL,GAAaH,IAAb;AACA,QAAID,KAAJ,EAAW;AACT,UAAI,QAAOA,KAAP,yCAAOA,KAAP,MAAiB,QAArB,EAA+B7qB,KAAK6qB,KAAL,EAAYD,EAAZ;AAC/BE,WAAKD,KAAL,GAAa,YAAW;AAAE,eAAO7qB,KAAK4qB,EAAL,EAAS,EAAT,CAAP;AAAsB,OAAhD;AACD;AACD,WAAOE,IAAP;AACD;;AAED,MAAI1rB,UAAUA,OAAOC,OAArB,EAA8B;AAC5BD,WAAOC,OAAP,GAAiB2c,IAAjB;AACD,GAFD,MAEO,IAAImO,sBAAMA,IAAIA,sBAAd,EAA0B;AAC/BA,uCAAO,YAAW;AAAE,aAAOnO,IAAP;AAAc,KAAlC;AAAA;AACD,GAFM,MAEA;AACL,SAAKzT,MAAL,GAAcyT,IAAd;AACD;AAEA,CA5ED,aA8EE,CAAC,MAAD,yBAAQ5c,MAAR,MAAmB,QAAnB,IAA+BA,MA9EjC,EA8E4C;AACzC,sBA/EH,CA+E4C;AA/E5C,E;;;;;;;;;;;;ACHA;AACA;AACA;AACA;;AAEA,CAAC,UAAS8qB,MAAT,EAAiB9qB,MAAjB,EAAyB+qB,MAAzB,EAAiC;;AAElC,WAASkB,MAAT,CAAgBxY,IAAhB,EAAsB;AACpB,QAAIwX,KAAK,IAAT;;AAEA;AACAA,OAAGG,IAAH,GAAU,YAAW;AACnB;AACA,UAAIqB,IAAIxB,GAAG7rB,CAAX;AAAA,UAAcuB,IAAIsqB,GAAGtqB,CAArB;AAAA,UAAwB4C,CAAxB;AAAA,UAA2B2H,CAA3B;AAAA,UAA8BkhB,CAA9B;AACA7oB,UAAIkpB,EAAE9rB,CAAF,CAAJ,CAAU4C,KAAMA,MAAM,CAAZ,CAAgB2H,IAAI3H,IAAKA,KAAK,EAAd;AAC1BA,UAAIkpB,EAAG9rB,IAAI,CAAL,GAAU,CAAZ,CAAJ,CAAoBuK,KAAK3H,IAAKA,MAAM,EAAhB;AACpBA,UAAIkpB,EAAG9rB,IAAI,CAAL,GAAU,CAAZ,CAAJ,CAAoBuK,KAAK3H,IAAKA,MAAM,CAAhB;AACpBA,UAAIkpB,EAAG9rB,IAAI,CAAL,GAAU,CAAZ,CAAJ,CAAoBuK,KAAK3H,IAAKA,KAAK,CAAf;AACpBA,UAAIkpB,EAAG9rB,IAAI,CAAL,GAAU,CAAZ,CAAJ,CAAoB4C,IAAIA,IAAKA,KAAK,EAAd,CAAmB2H,KAAK3H,IAAKA,KAAK,CAAf;AACvCkpB,QAAE9rB,CAAF,IAAOuK,CAAP;AACA+f,SAAGtqB,CAAH,GAAQA,IAAI,CAAL,GAAU,CAAjB;AACA,aAAOuK,CAAP;AACD,KAXD;;AAaA,aAASwhB,IAAT,CAAczB,EAAd,EAAkBxX,IAAlB,EAAwB;AACtB,UAAIiR,CAAJ;AAAA,UAAO0H,CAAP;AAAA,UAAUK,IAAI,EAAd;;AAEA,UAAIhZ,UAAUA,OAAO,CAAjB,CAAJ,EAAyB;AACvB;AACA2Y,YAAIK,EAAE,CAAF,IAAOhZ,IAAX;AACD,OAHD,MAGO;AACL;AACAA,eAAO,KAAKA,IAAZ;AACA,aAAKiR,IAAI,CAAT,EAAYA,IAAIjR,KAAK1Q,MAArB,EAA6B,EAAE2hB,CAA/B,EAAkC;AAChC+H,YAAE/H,IAAI,CAAN,IAAY+H,EAAE/H,IAAI,CAAN,KAAY,EAAb,GACNjR,KAAKsY,UAAL,CAAgBrH,CAAhB,IAAqB+H,EAAG/H,IAAI,CAAL,GAAU,CAAZ,CAArB,IAAuC,EAD5C;AAED;AACF;AACD;AACA,aAAO+H,EAAE1pB,MAAF,GAAW,CAAlB;AAAqB0pB,UAAEza,IAAF,CAAO,CAAP;AAArB,OACA,KAAK0S,IAAI,CAAT,EAAYA,IAAI,CAAJ,IAAS+H,EAAE/H,CAAF,MAAS,CAA9B,EAAiC,EAAEA,CAAnC;AACA,UAAIA,KAAK,CAAT,EAAY0H,IAAIK,EAAE,CAAF,IAAO,CAAC,CAAZ,CAAZ,KAAgCL,IAAIK,EAAE/H,CAAF,CAAJ;;AAEhCuG,SAAG7rB,CAAH,GAAOqtB,CAAP;AACAxB,SAAGtqB,CAAH,GAAO,CAAP;;AAEA;AACA,WAAK+jB,IAAI,GAAT,EAAcA,IAAI,CAAlB,EAAqB,EAAEA,CAAvB,EAA0B;AACxBuG,WAAGG,IAAH;AACD;AACF;;AAEDsB,SAAKzB,EAAL,EAASxX,IAAT;AACD;;AAED,WAAS7S,IAAT,CAAc+V,CAAd,EAAiBpT,CAAjB,EAAoB;AAClBA,MAAEnE,CAAF,GAAMuX,EAAEvX,CAAF,CAAI4M,KAAJ,EAAN;AACAzI,MAAE5C,CAAF,GAAMgW,EAAEhW,CAAR;AACA,WAAO4C,CAAP;AACD;;AAED,WAASqZ,IAAT,CAAcnJ,IAAd,EAAoB+C,IAApB,EAA0B;AACxB,QAAI/C,QAAQ,IAAZ,EAAkBA,OAAO,CAAE,IAAIvF,IAAJ,EAAT;AAClB,QAAIsd,KAAK,IAAIS,MAAJ,CAAWxY,IAAX,CAAT;AAAA,QACIgY,QAAQjV,QAAQA,KAAKiV,KADzB;AAAA,QAEIC,OAAO,SAAPA,IAAO,GAAW;AAAE,aAAO,CAACF,GAAGJ,IAAH,OAAc,CAAf,IAAoB,WAA3B;AAAyC,KAFjE;AAGAM,SAAKE,MAAL,GAAc,YAAW;AACvB,SAAG;AACD,YAAIU,MAAMd,GAAGJ,IAAH,OAAc,EAAxB;AAAA,YACImB,MAAM,CAACf,GAAGJ,IAAH,OAAc,CAAf,IAAoB,WAD9B;AAAA,YAEItW,SAAS,CAACwX,MAAMC,GAAP,KAAe,KAAK,EAApB,CAFb;AAGD,OAJD,QAISzX,WAAW,CAJpB;AAKA,aAAOA,MAAP;AACD,KAPD;AAQA4W,SAAKC,KAAL,GAAaH,GAAGJ,IAAhB;AACAM,SAAKG,KAAL,GAAaH,IAAb;AACA,QAAID,KAAJ,EAAW;AACT,UAAIA,MAAMrsB,CAAV,EAAawB,KAAK6qB,KAAL,EAAYD,EAAZ;AACbE,WAAKD,KAAL,GAAa,YAAW;AAAE,eAAO7qB,KAAK4qB,EAAL,EAAS,EAAT,CAAP;AAAsB,OAAhD;AACD;AACD,WAAOE,IAAP;AACD;;AAED,MAAI1rB,UAAUA,OAAOC,OAArB,EAA8B;AAC5BD,WAAOC,OAAP,GAAiB2c,IAAjB;AACD,GAFD,MAEO,IAAImO,sBAAMA,IAAIA,sBAAd,EAA0B;AAC/BA,uCAAO,YAAW;AAAE,aAAOnO,IAAP;AAAc,KAAlC;AAAA;AACD,GAFM,MAEA;AACL,SAAKxT,SAAL,GAAiBwT,IAAjB;AACD;AAEA,CAtFD,aAwFE,CAAC,MAAD,yBAAQ5c,MAAR,MAAmB,QAAnB,IAA+BA,MAxFjC,EAwF4C;AACzC,sBAzFH,CAyF4C;AAzF5C,E;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,UAAS8qB,MAAT,EAAiB9qB,MAAjB,EAAyB+qB,MAAzB,EAAiC;;AAElC,WAASkB,MAAT,CAAgBxY,IAAhB,EAAsB;AACpB,QAAIwX,KAAK,IAAT;;AAEA;AACAA,OAAGG,IAAH,GAAU,YAAW;AACnB,UAAIgB,IAAInB,GAAGmB,CAAX;AAAA,UACIK,IAAIxB,GAAGwB,CADX;AAAA,UACc9rB,IAAIsqB,GAAGtqB,CADrB;AAAA,UACwB4C,CADxB;AAAA,UAC2B2H,CAD3B;AAEA;AACA+f,SAAGmB,CAAH,GAAOA,IAAKA,IAAI,UAAL,GAAmB,CAA9B;AACA;AACAlhB,UAAIuhB,EAAG9rB,IAAI,EAAL,GAAW,GAAb,CAAJ;AACA4C,UAAIkpB,EAAE9rB,IAAMA,IAAI,CAAL,GAAU,GAAjB,CAAJ;AACAuK,WAAKA,KAAK,EAAV;AACA3H,WAAKA,KAAK,EAAV;AACA2H,WAAKA,MAAM,EAAX;AACA3H,WAAKA,MAAM,EAAX;AACA;AACA2H,UAAIuhB,EAAE9rB,CAAF,IAAOuK,IAAI3H,CAAf;AACA0nB,SAAGtqB,CAAH,GAAOA,CAAP;AACA;AACA,aAAQuK,KAAKkhB,IAAKA,MAAM,EAAhB,CAAD,GAAyB,CAAhC;AACD,KAjBD;;AAmBA,aAASM,IAAT,CAAczB,EAAd,EAAkBxX,IAAlB,EAAwB;AACtB,UAAIlQ,CAAJ;AAAA,UAAO2H,CAAP;AAAA,UAAUvK,CAAV;AAAA,UAAa+jB,CAAb;AAAA,UAAgB0H,CAAhB;AAAA,UAAmBK,IAAI,EAAvB;AAAA,UAA2BpgB,QAAQ,GAAnC;AACA,UAAIoH,UAAUA,OAAO,CAAjB,CAAJ,EAAyB;AACvB;AACAvI,YAAIuI,IAAJ;AACAA,eAAO,IAAP;AACD,OAJD,MAIO;AACL;AACAA,eAAOA,OAAO,IAAd;AACAvI,YAAI,CAAJ;AACAmB,gBAAQ5M,KAAKyjB,GAAL,CAAS7W,KAAT,EAAgBoH,KAAK1Q,MAArB,CAAR;AACD;AACD;AACA,WAAKpC,IAAI,CAAJ,EAAO+jB,IAAI,CAAC,EAAjB,EAAqBA,IAAIrY,KAAzB,EAAgC,EAAEqY,CAAlC,EAAqC;AACnC;AACA,YAAIjR,IAAJ,EAAUvI,KAAKuI,KAAKsY,UAAL,CAAgB,CAACrH,IAAI,EAAL,IAAWjR,KAAK1Q,MAAhC,CAAL;AACV;AACA,YAAI2hB,MAAM,CAAV,EAAa0H,IAAIlhB,CAAJ;AACbA,aAAKA,KAAK,EAAV;AACAA,aAAKA,MAAM,EAAX;AACAA,aAAKA,KAAK,CAAV;AACAA,aAAKA,MAAM,EAAX;AACA,YAAIwZ,KAAK,CAAT,EAAY;AACV0H,cAAKA,IAAI,UAAL,GAAmB,CAAvB,CADU,CACoB;AAC9B7oB,cAAKkpB,EAAE/H,IAAI,GAAN,KAAexZ,IAAIkhB,CAAxB,CAFU,CAEoB;AAC9BzrB,cAAK,KAAK4C,CAAN,GAAW5C,IAAI,CAAf,GAAmB,CAAvB,CAHU,CAGoB;AAC/B;AACF;AACD;AACA,UAAIA,KAAK,GAAT,EAAc;AACZ8rB,UAAE,CAAChZ,QAAQA,KAAK1Q,MAAb,IAAuB,CAAxB,IAA6B,GAA/B,IAAsC,CAAC,CAAvC;AACD;AACD;AACA;AACA;AACApC,UAAI,GAAJ;AACA,WAAK+jB,IAAI,IAAI,GAAb,EAAkBA,IAAI,CAAtB,EAAyB,EAAEA,CAA3B,EAA8B;AAC5BxZ,YAAIuhB,EAAG9rB,IAAI,EAAL,GAAW,GAAb,CAAJ;AACA4C,YAAIkpB,EAAE9rB,IAAMA,IAAI,CAAL,GAAU,GAAjB,CAAJ;AACAuK,aAAKA,KAAK,EAAV;AACA3H,aAAKA,KAAK,EAAV;AACA2H,aAAKA,MAAM,EAAX;AACA3H,aAAKA,MAAM,EAAX;AACAkpB,UAAE9rB,CAAF,IAAOuK,IAAI3H,CAAX;AACD;AACD;AACA0nB,SAAGmB,CAAH,GAAOA,CAAP;AACAnB,SAAGwB,CAAH,GAAOA,CAAP;AACAxB,SAAGtqB,CAAH,GAAOA,CAAP;AACD;;AAED+rB,SAAKzB,EAAL,EAASxX,IAAT;AACD;;AAED,WAAS7S,IAAT,CAAc+V,CAAd,EAAiBpT,CAAjB,EAAoB;AAClBA,MAAE5C,CAAF,GAAMgW,EAAEhW,CAAR;AACA4C,MAAE6oB,CAAF,GAAMzV,EAAEyV,CAAR;AACA7oB,MAAEkpB,CAAF,GAAM9V,EAAE8V,CAAF,CAAIzgB,KAAJ,EAAN;AACA,WAAOzI,CAAP;AACD;;AAED,WAASqZ,IAAT,CAAcnJ,IAAd,EAAoB+C,IAApB,EAA0B;AACxB,QAAI/C,QAAQ,IAAZ,EAAkBA,OAAO,CAAE,IAAIvF,IAAJ,EAAT;AAClB,QAAIsd,KAAK,IAAIS,MAAJ,CAAWxY,IAAX,CAAT;AAAA,QACIgY,QAAQjV,QAAQA,KAAKiV,KADzB;AAAA,QAEIC,OAAO,SAAPA,IAAO,GAAW;AAAE,aAAO,CAACF,GAAGJ,IAAH,OAAc,CAAf,IAAoB,WAA3B;AAAyC,KAFjE;AAGAM,SAAKE,MAAL,GAAc,YAAW;AACvB,SAAG;AACD,YAAIU,MAAMd,GAAGJ,IAAH,OAAc,EAAxB;AAAA,YACImB,MAAM,CAACf,GAAGJ,IAAH,OAAc,CAAf,IAAoB,WAD9B;AAAA,YAEItW,SAAS,CAACwX,MAAMC,GAAP,KAAe,KAAK,EAApB,CAFb;AAGD,OAJD,QAISzX,WAAW,CAJpB;AAKA,aAAOA,MAAP;AACD,KAPD;AAQA4W,SAAKC,KAAL,GAAaH,GAAGJ,IAAhB;AACAM,SAAKG,KAAL,GAAaH,IAAb;AACA,QAAID,KAAJ,EAAW;AACT,UAAIA,MAAMgB,CAAV,EAAa7rB,KAAK6qB,KAAL,EAAYD,EAAZ;AACbE,WAAKD,KAAL,GAAa,YAAW;AAAE,eAAO7qB,KAAK4qB,EAAL,EAAS,EAAT,CAAP;AAAsB,OAAhD;AACD;AACD,WAAOE,IAAP;AACD;;AAED,MAAI1rB,UAAUA,OAAOC,OAArB,EAA8B;AAC5BD,WAAOC,OAAP,GAAiB2c,IAAjB;AACD,GAFD,MAEO,IAAImO,sBAAMA,IAAIA,sBAAd,EAA0B;AAC/BA,uCAAO,YAAW;AAAE,aAAOnO,IAAP;AAAc,KAAlC;AAAA;AACD,GAFM,MAEA;AACL,SAAKvT,OAAL,GAAeuT,IAAf;AACD;AAEA,CApHD,aAqH4C;AAC1C,CAAC,MAAD,yBAAQ5c,MAAR,MAAmB,QAAnB,IAA+BA,MAtHjC,EAsH4C;AACzC,sBAvHH,CAuH4C;AAvH5C,E;;;;;;;;;;;;ACzBA;AACA;AACA;;AAEA,CAAC,UAAS8qB,MAAT,EAAiB9qB,MAAjB,EAAyB+qB,MAAzB,EAAiC;;AAElC,WAASkB,MAAT,CAAgBxY,IAAhB,EAAsB;AACpB,QAAIwX,KAAK,IAAT;AAAA,QAAeiB,UAAU,EAAzB;;AAEA;AACAjB,OAAGG,IAAH,GAAU,YAAW;AACnB,UAAI1kB,IAAIukB,GAAGvkB,CAAX;AAAA,UAAcwd,IAAI+G,GAAG/G,CAArB;AAAA,UAAwBsI,IAAIvB,GAAGuB,CAA/B;AAAA,UAAkC/lB,IAAIwkB,GAAGxkB,CAAzC;AACAC,UAAKA,KAAK,EAAN,GAAaA,MAAM,CAAnB,GAAwBwd,CAA5B;AACAA,UAAKA,IAAIsI,CAAL,GAAU,CAAd;AACAA,UAAKA,KAAK,EAAN,GAAaA,MAAM,CAAnB,GAAwB/lB,CAA5B;AACAA,UAAKA,IAAIC,CAAL,GAAU,CAAd;AACAukB,SAAGvkB,CAAH,GAAOA,IAAKA,KAAK,EAAN,GAAaA,MAAM,EAAnB,GAAyBwd,CAApC;AACA+G,SAAG/G,CAAH,GAAOA,IAAKA,IAAIsI,CAAL,GAAU,CAArB;AACAvB,SAAGuB,CAAH,GAAQA,KAAK,EAAN,GAAatI,MAAM,EAAnB,GAAyBzd,CAAhC;AACA,aAAOwkB,GAAGxkB,CAAH,GAAQA,IAAIC,CAAL,GAAU,CAAxB;AACD,KAVD;;AAYA;;;;;;;;;;;;;;;;AAgBAukB,OAAGxkB,CAAH,GAAO,CAAP;AACAwkB,OAAGvkB,CAAH,GAAO,CAAP;AACAukB,OAAG/G,CAAH,GAAO,aAAa,CAApB;AACA+G,OAAGuB,CAAH,GAAO,UAAP;;AAEA,QAAI/Y,SAAShU,KAAKktB,KAAL,CAAWlZ,IAAX,CAAb,EAA+B;AAC7B;AACAwX,SAAGxkB,CAAH,GAAQgN,OAAO,WAAR,GAAuB,CAA9B;AACAwX,SAAGvkB,CAAH,GAAO+M,OAAO,CAAd;AACD,KAJD,MAIO;AACL;AACAyY,iBAAWzY,IAAX;AACD;;AAED;AACA,SAAK,IAAI4Y,IAAI,CAAb,EAAgBA,IAAIH,QAAQnpB,MAAR,GAAiB,EAArC,EAAyCspB,GAAzC,EAA8C;AAC5CpB,SAAGvkB,CAAH,IAAQwlB,QAAQH,UAAR,CAAmBM,CAAnB,IAAwB,CAAhC;AACApB,SAAGG,IAAH;AACD;AACF;;AAED,WAASxqB,IAAT,CAAc+V,CAAd,EAAiBpT,CAAjB,EAAoB;AAClBA,MAAEkD,CAAF,GAAMkQ,EAAElQ,CAAR;AACAlD,MAAEmD,CAAF,GAAMiQ,EAAEjQ,CAAR;AACAnD,MAAE2gB,CAAF,GAAMvN,EAAEuN,CAAR;AACA3gB,MAAEipB,CAAF,GAAM7V,EAAE6V,CAAR;AACA,WAAOjpB,CAAP;AACD;;AAED,WAASqZ,IAAT,CAAcnJ,IAAd,EAAoB+C,IAApB,EAA0B;AACxB,QAAIgV,KAAK,IAAIS,MAAJ,CAAWxY,IAAX,CAAT;AAAA,QACIgY,QAAQjV,QAAQA,KAAKiV,KADzB;AAAA,QAEIC,OAAO,SAAPA,IAAO,GAAW;AAAE,aAAO,CAACF,GAAGJ,IAAH,OAAc,CAAf,IAAoB,WAA3B;AAAyC,KAFjE;AAGAM,SAAKE,MAAL,GAAc,YAAW;AACvB,SAAG;AACD,YAAIU,MAAMd,GAAGJ,IAAH,OAAc,EAAxB;AAAA,YACImB,MAAM,CAACf,GAAGJ,IAAH,OAAc,CAAf,IAAoB,WAD9B;AAAA,YAEItW,SAAS,CAACwX,MAAMC,GAAP,KAAe,KAAK,EAApB,CAFb;AAGD,OAJD,QAISzX,WAAW,CAJpB;AAKA,aAAOA,MAAP;AACD,KAPD;AAQA4W,SAAKC,KAAL,GAAaH,GAAGJ,IAAhB;AACAM,SAAKG,KAAL,GAAaH,IAAb;AACA,QAAID,KAAJ,EAAW;AACT,UAAI,QAAOA,KAAP,yCAAOA,KAAP,MAAiB,QAArB,EAA+B7qB,KAAK6qB,KAAL,EAAYD,EAAZ;AAC/BE,WAAKD,KAAL,GAAa,YAAW;AAAE,eAAO7qB,KAAK4qB,EAAL,EAAS,EAAT,CAAP;AAAsB,OAAhD;AACD;AACD,WAAOE,IAAP;AACD;;AAED,MAAI1rB,UAAUA,OAAOC,OAArB,EAA8B;AAC5BD,WAAOC,OAAP,GAAiB2c,IAAjB;AACD,GAFD,MAEO,IAAImO,sBAAMA,IAAIA,sBAAd,EAA0B;AAC/BA,uCAAO,YAAW;AAAE,aAAOnO,IAAP;AAAc,KAAlC;AAAA;AACD,GAFM,MAEA;AACL,SAAKtT,MAAL,GAAcsT,IAAd;AACD;AAEA,CA5FD,aA8FE,CAAC,MAAD,yBAAQ5c,MAAR,MAAmB,QAAnB,IAA+BA,MA9FjC,EA8F4C;AACzC,sBA/FH,CA+F4C;AA/F5C,E;;;;;;;;;;;;ACJA;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,CAAC,UAAU4sB,IAAV,EAAgBC,IAAhB,EAAsB;AACvB;AACA;AACA;;AAEA;AACA;AACA,MAAI/B,SAAS,CAAC,GAAGgC,IAAJ,EAAU,MAAV,CAAb;AAAA,MACIzb,QAAQ,GADZ;AAAA,MACwB;AACpB0b,WAAS,CAFb;AAAA,MAEwB;AACpBC,WAAS,EAHb;AAAA,MAGwB;AACpBC,YAAU,QAJd;AAAA,MAIwB;AACpBC,eAAaL,KAAKM,GAAL,CAAS9b,KAAT,EAAgB0b,MAAhB,CALjB;AAAA,MAMIK,eAAeP,KAAKM,GAAL,CAAS,CAAT,EAAYH,MAAZ,CANnB;AAAA,MAOIK,WAAWD,eAAe,CAP9B;AAAA,MAQIE,OAAOjc,QAAQ,CARnB;AAAA,MASIkc,UATJ,CAPuB,CAgBC;;AAExB;AACA;AACA;AACA;AACA,WAASC,UAAT,CAAoB/Z,IAApB,EAA0Bga,OAA1B,EAAmCnK,QAAnC,EAA6C;AAC3C,QAAIhhB,MAAM,EAAV;AACAmrB,cAAWA,WAAW,IAAZ,GAAoB,EAAEC,SAAS,IAAX,EAApB,GAAyCD,WAAW,EAA9D;;AAEA;AACA,QAAIE,YAAYC,OAAOC,QACrBJ,QAAQC,OAAR,GAAkB,CAACja,IAAD,EAAOqa,SAASlB,IAAT,CAAP,CAAlB,GACCnZ,QAAQ,IAAT,GAAiBsa,UAAjB,GAA8Bta,IAFT,EAEe,CAFf,CAAP,EAE0BnR,GAF1B,CAAhB;;AAIA;AACA,QAAI0rB,OAAO,IAAIC,IAAJ,CAAS3rB,GAAT,CAAX;;AAEA;AACA;AACA,QAAIopB,OAAO,SAAPA,IAAO,GAAW;AACpB,UAAII,IAAIkC,KAAKE,CAAL,CAAOnB,MAAP,CAAR;AAAA,UAAoC;AAChCP,UAAIU,UADR;AAAA,UACoC;AAChC9tB,UAAI,CAFR,CADoB,CAGgB;AACpC,aAAO0sB,IAAIsB,YAAX,EAAyB;AAAW;AAClCtB,YAAI,CAACA,IAAI1sB,CAAL,IAAUiS,KAAd,CADuB,CACW;AAClCmb,aAAKnb,KAAL,CAFuB,CAEW;AAClCjS,YAAI4uB,KAAKE,CAAL,CAAO,CAAP,CAAJ,CAHuB,CAGW;AACnC;AACD,aAAOpC,KAAKuB,QAAZ,EAAsB;AAAc;AAClCvB,aAAK,CAAL,CADoB,CACc;AAClCU,aAAK,CAAL,CAFoB,CAEc;AAClCptB,eAAO,CAAP,CAHoB,CAGc;AACnC;AACD,aAAO,CAAC0sB,IAAI1sB,CAAL,IAAUotB,CAAjB,CAdoB,CAcgB;AACrC,KAfD;;AAiBAd,SAAKC,KAAL,GAAa,YAAW;AAAE,aAAOqC,KAAKE,CAAL,CAAO,CAAP,IAAY,CAAnB;AAAuB,KAAjD;AACAxC,SAAKG,KAAL,GAAa,YAAW;AAAE,aAAOmC,KAAKE,CAAL,CAAO,CAAP,IAAY,WAAnB;AAAiC,KAA3D;AACAxC,SAAKE,MAAL,GAAcF,IAAd;;AAEA;AACAkC,WAAOE,SAASE,KAAKG,CAAd,CAAP,EAAyBvB,IAAzB;;AAEA;AACA,WAAO,CAACa,QAAQW,IAAR,IAAgB9K,QAAhB,IACJ,UAASoI,IAAT,EAAejY,IAAf,EAAqB4a,YAArB,EAAmC5C,KAAnC,EAA0C;AACxC,UAAIA,KAAJ,EAAW;AACT;AACA,YAAIA,MAAM0C,CAAV,EAAa;AAAEvtB,eAAK6qB,KAAL,EAAYuC,IAAZ;AAAoB;AACnC;AACAtC,aAAKD,KAAL,GAAa,YAAW;AAAE,iBAAO7qB,KAAKotB,IAAL,EAAW,EAAX,CAAP;AAAwB,SAAlD;AACD;;AAED;AACA;AACA,UAAIK,YAAJ,EAAkB;AAAExB,aAAKI,OAAL,IAAgBvB,IAAhB,CAAsB,OAAOjY,IAAP;AAAc;;AAExD;AACA;AAHA,WAIK,OAAOiY,IAAP;AACN,KAhBE,EAiBPA,IAjBO,EAkBPiC,SAlBO,EAmBP,YAAYF,OAAZ,GAAsBA,QAAQ3C,MAA9B,GAAwC,QAAQ+B,IAnBzC,EAoBPY,QAAQhC,KApBD,CAAP;AAqBD;AACDoB,OAAK,SAASI,OAAd,IAAyBO,UAAzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAASS,IAAT,CAAc3rB,GAAd,EAAmB;AACjB,QAAIiB,CAAJ;AAAA,QAAO+qB,SAAShsB,IAAIS,MAApB;AAAA,QACIkoB,KAAK,IADT;AAAA,QACetqB,IAAI,CADnB;AAAA,QACsB+jB,IAAIuG,GAAGtqB,CAAH,GAAOsqB,GAAGvG,CAAH,GAAO,CADxC;AAAA,QAC2C6J,IAAItD,GAAGkD,CAAH,GAAO,EADtD;;AAGA;AACA,QAAI,CAACG,MAAL,EAAa;AAAEhsB,YAAM,CAACgsB,QAAD,CAAN;AAAmB;;AAElC;AACA,WAAO3tB,IAAI0Q,KAAX,EAAkB;AAChBkd,QAAE5tB,CAAF,IAAOA,GAAP;AACD;AACD,SAAKA,IAAI,CAAT,EAAYA,IAAI0Q,KAAhB,EAAuB1Q,GAAvB,EAA4B;AAC1B4tB,QAAE5tB,CAAF,IAAO4tB,EAAE7J,IAAI4I,OAAQ5I,IAAIpiB,IAAI3B,IAAI2tB,MAAR,CAAJ,IAAuB/qB,IAAIgrB,EAAE5tB,CAAF,CAA3B,CAAd,CAAP;AACA4tB,QAAE7J,CAAF,IAAOnhB,CAAP;AACD;;AAED;AACA,KAAC0nB,GAAGiD,CAAH,GAAO,UAASzhB,KAAT,EAAgB;AACtB;AACA,UAAIlJ,CAAJ;AAAA,UAAOirB,IAAI,CAAX;AAAA,UACI7tB,IAAIsqB,GAAGtqB,CADX;AAAA,UACc+jB,IAAIuG,GAAGvG,CADrB;AAAA,UACwB6J,IAAItD,GAAGkD,CAD/B;AAEA,aAAO1hB,OAAP,EAAgB;AACdlJ,YAAIgrB,EAAE5tB,IAAI2sB,OAAQ3sB,IAAI,CAAlB,CAAJ;AACA6tB,YAAIA,IAAInd,KAAJ,GAAYkd,EAAEjB,OAAQ,CAACiB,EAAE5tB,CAAF,IAAO4tB,EAAE7J,IAAI4I,OAAQ5I,IAAInhB,CAAlB,CAAR,KAAkCgrB,EAAE7J,CAAF,IAAOnhB,CAAzC,CAAV,CAAhB;AACD;AACD0nB,SAAGtqB,CAAH,GAAOA,CAAP,CAAUsqB,GAAGvG,CAAH,GAAOA,CAAP;AACV,aAAO8J,CAAP;AACA;AACA;AACA;AACD,KAbD,EAaGnd,KAbH;AAcD;;AAED;AACA;AACA;AACA;AACA,WAASzQ,IAAT,CAAc+V,CAAd,EAAiBpT,CAAjB,EAAoB;AAClBA,MAAE5C,CAAF,GAAMgW,EAAEhW,CAAR;AACA4C,MAAEmhB,CAAF,GAAM/N,EAAE+N,CAAR;AACAnhB,MAAE4qB,CAAF,GAAMxX,EAAEwX,CAAF,CAAIniB,KAAJ,EAAN;AACA,WAAOzI,CAAP;AACD;;AAED;AACA;AACA;AACA;AACA,WAASsqB,OAAT,CAAiBtX,GAAjB,EAAsBkY,KAAtB,EAA6B;AAC3B,QAAI3Z,SAAS,EAAb;AAAA,QAAiB4Z,aAAcnY,GAAd,yCAAcA,GAAd,CAAjB;AAAA,QAAqCzQ,IAArC;AACA,QAAI2oB,SAASC,OAAO,QAApB,EAA8B;AAC5B,WAAK5oB,IAAL,IAAayQ,GAAb,EAAkB;AAChB,YAAI;AAAEzB,iBAAO9C,IAAP,CAAY6b,QAAQtX,IAAIzQ,IAAJ,CAAR,EAAmB2oB,QAAQ,CAA3B,CAAZ;AAA6C,SAAnD,CAAoD,OAAOE,CAAP,EAAU,CAAE;AACjE;AACF;AACD,WAAQ7Z,OAAO/R,MAAP,GAAgB+R,MAAhB,GAAyB4Z,OAAO,QAAP,GAAkBnY,GAAlB,GAAwBA,MAAM,IAA/D;AACD;;AAED;AACA;AACA;AACA;AACA;AACA,WAASqX,MAAT,CAAgBna,IAAhB,EAAsBnR,GAAtB,EAA2B;AACzB,QAAIssB,aAAanb,OAAO,EAAxB;AAAA,QAA4Bob,KAA5B;AAAA,QAAmCnK,IAAI,CAAvC;AACA,WAAOA,IAAIkK,WAAW7rB,MAAtB,EAA8B;AAC5BT,UAAIgrB,OAAO5I,CAAX,IACE4I,OAAQ,CAACuB,SAASvsB,IAAIgrB,OAAO5I,CAAX,IAAgB,EAA1B,IAAgCkK,WAAW7C,UAAX,CAAsBrH,GAAtB,CAD1C;AAED;AACD,WAAOoJ,SAASxrB,GAAT,CAAP;AACD;;AAED;AACA;AACA;AACA;AACA;AACA,WAASyrB,QAAT,GAAoB;AAClB,QAAI;AACF,UAAIppB,GAAJ;AACA,UAAI4oB,eAAe5oB,MAAM4oB,WAAWuB,WAAhC,CAAJ,EAAkD;AAChD;AACAnqB,cAAMA,IAAI0M,KAAJ,CAAN;AACD,OAHD,MAGO;AACL1M,cAAM,IAAIoqB,UAAJ,CAAe1d,KAAf,CAAN;AACA,SAACyZ,OAAOkE,MAAP,IAAiBlE,OAAOmE,QAAzB,EAAmCC,eAAnC,CAAmDvqB,GAAnD;AACD;AACD,aAAOmpB,SAASnpB,GAAT,CAAP;AACD,KAVD,CAUE,OAAOgqB,CAAP,EAAU;AACV,UAAIQ,UAAUrE,OAAOsE,SAArB;AAAA,UACIC,UAAUF,WAAWA,QAAQE,OADjC;AAEA,aAAO,CAAC,CAAC,IAAInhB,IAAJ,EAAF,EAAY4c,MAAZ,EAAoBuE,OAApB,EAA6BvE,OAAOwE,MAApC,EAA4CxB,SAASlB,IAAT,CAA5C,CAAP;AACD;AACF;;AAED;AACA;AACA;AACA;AACA,WAASkB,QAAT,CAAkBrnB,CAAlB,EAAqB;AACnB,WAAO8oB,OAAOC,YAAP,CAAoBzL,KAApB,CAA0B,CAA1B,EAA6Btd,CAA7B,CAAP;AACD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACAmnB,SAAOf,KAAKlX,MAAL,EAAP,EAAsBiX,IAAtB;;AAEA;AACA;AACA;AACA;AACA,MAAI,CAAC,MAAD,yBAAQ5sB,MAAR,MAAmB,QAAnB,IAA+BA,OAAOC,OAA1C,EAAmD;AACjDD,WAAOC,OAAP,GAAiButB,UAAjB;AACA;AACA,QAAI;AACFD,mBAAansB,mBAAOA,CAAC,EAAR,CAAb;AACD,KAFD,CAEE,OAAOquB,EAAP,EAAW,CAAE;AAChB,GAND,MAMO,IAAK,IAAL,EAAiD;AACtD1E,uCAAO,YAAW;AAAE,aAAOyC,UAAP;AAAoB,KAAxC;AAAA;AACD;;AAED;AACC,CA9ND,EA+NE,EA/NF,EA+NU;AACR/tB,IAhOF,CAgOU;AAhOV,E;;;;;;;ACxBA,e;;;;;;;ACAa;;;;;;;;;;IAEPsjB,I;AACJ,gBAAYjT,IAAZ,EAAkB;AAAA;;AAChB,SAAKC,KAAL,GAAaD,IAAb;AACA,SAAK4f,QAAL,GAAgB,EAAhB;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACA,SAAKC,UAAL,GAAkB,EAAlB;AACD;;;;4BAEOpgB,I,EAAM;AACZ,UAAGA,KAAK0G,IAAR,EAAc,MAAM,UAAU1G,KAAK7H,QAAf,GAA0B,+BAA1B,GAA4D6H,KAAK0G,IAAL,CAAUpG,IAA5E;AACd,WAAI,IAAInP,CAAR,IAAa,KAAK+uB,QAAlB,EAA4B;AAC1B,YAAG,KAAKA,QAAL,CAAc/uB,CAAd,EAAiB+K,EAAjB,IAAuB8D,KAAK9D,EAA/B,EAAmC;AACpC;AACD,WAAKgkB,QAAL,CAAc1d,IAAd,CAAmBxC,IAAnB;AACAA,WAAKqG,KAAL,GAAa,IAAb;AACA,WAAK8Z,SAAL,CAAengB,KAAK9D,EAApB,IAA0B,EAA1B;AACA,WAAKkkB,UAAL,CAAgBpgB,KAAK9D,EAArB,IAA2B,EAA3B;AACD;;;gCAoDWmkB,U,EAAY;AACtB,aAAO,KAAKD,UAAL,CAAgBC,UAAhB,CAAP;AACD;;;iCAEYC,Q,EAAU5W,Q,EAAU;AAC/B,WAAI,IAAIvY,CAAR,IAAa,KAAKgvB,SAAlB,EAA6B;AAC3B,YAAGhvB,KAAKmvB,QAAR,EAAkB;AAClB,aAAKH,SAAL,CAAehvB,CAAf,IAAoB,KAAKgvB,SAAL,CAAehvB,CAAf,EAAkBoZ,MAAlB,CAAyBb,QAAzB,CAApB;AACD;AACF;;;sCAEiB;AAChB,UAAIvY,UAAJ;AACA,WAAIA,CAAJ,IAAS,KAAKgvB,SAAd,EAAyB;AACvB,aAAKC,UAAL,CAAgBjvB,CAAhB,IAAqB,KAAKgvB,SAAL,CAAehvB,CAAf,CAArB;AACA,aAAKgvB,SAAL,CAAehvB,CAAf,IAAoB,EAApB;AACD;AACF;;;wBAnEU;AACT,aAAO,KAAK+uB,QAAL,CAAc3sB,MAArB;AACD;;;wBAEU;AACT,aAAO,KAAKgN,KAAZ;AACD;;;wBAEgB;AACf,UAAItD,QAAQ,CAAZ;AACA,WAAI,IAAI9L,IAAE,CAAV,EAAaA,IAAI,KAAK+uB,QAAL,CAAc3sB,MAA/B,EAAuCpC,GAAvC,EAA6C;AAC3C,YAAG,KAAK+uB,QAAL,CAAc/uB,CAAd,EAAiB4G,MAAjB,GAA0B,CAA7B,EAAgC;AAC9BkF;AACD;AACF;AACD,aAAOA,KAAP;AACD;;;wBAEW;AACV,UAAIsjB,MAAM,CAAV;AACA,WAAI,IAAIpvB,IAAE,CAAV,EAAaA,IAAI,KAAK+uB,QAAL,CAAc3sB,MAA/B,EAAuCpC,GAAvC,EAA6C;AAC3CovB,eAAO,KAAKL,QAAL,CAAc/uB,CAAd,EAAiBqvB,KAAxB;AACD;AACD,aAAOD,GAAP;AACD;;;wBAEY;AACX,UAAIA,MAAM,CAAV;AACA,WAAI,IAAIpvB,IAAE,CAAV,EAAaA,IAAI,KAAK+uB,QAAL,CAAc3sB,MAA/B,EAAuCpC,GAAvC,EAA6C;AAC3CovB,eAAO,KAAKL,QAAL,CAAc/uB,CAAd,EAAiB4G,MAAxB;AACD;AACD,aAAOwoB,GAAP;AACD;;;wBAEe;AACd,UAAIA,MAAM,CAAV;AACA,WAAI,IAAIpvB,IAAE,CAAV,EAAaA,IAAI,KAAK+uB,QAAL,CAAc3sB,MAA/B,EAAuCpC,GAAvC,EAA6C;AAC3CovB,eAAO,KAAKL,QAAL,CAAc/uB,CAAd,EAAiB6G,SAAxB;AACD;AACD,aAAOuoB,GAAP;AACD;;;wBAEa;AACZ,aAAO,KAAKE,UAAL,GAAkB,CAAzB;AACD;;;wBAEa;AACZ,aAAO,KAAKP,QAAZ;AACD;;;;;;kBAuBY3M,I;;;;;;;AC5FF;;;;;;;;;;IAEQ8C,M;AAEnB,kBAAYD,KAAZ,EAAmBla,EAAnB,EAAuBuH,KAAvB,EAA8B;AAAA;;AAC5B,SAAK8S,GAAL,GAAWra,EAAX;AACA,SAAKwkB,MAAL,GAActK,KAAd;AACA,SAAKU,MAAL,GAAcV,MAAMrmB,KAAN,GAAcqmB,MAAM1e,QAAlC;AACA,WAAM,KAAKof,MAAL,GAAc,GAApB;AAAyB,WAAKA,MAAL,IAAe,GAAf;AAAzB,KACA,OAAM,KAAKA,MAAL,GAAc,CAAC,GAArB;AAA0B,WAAKA,MAAL,IAAe,GAAf;AAA1B,KACA,KAAKJ,EAAL,GAAUN,MAAMxmB,CAAN,GAAUwmB,MAAMuK,SAAN,GAAgB1wB,KAAK6pB,GAAL,CAAS,KAAKhD,MAAL,IAAa7mB,KAAKC,EAAL,GAAQ,GAArB,CAAT,CAApC;AACA,SAAKymB,EAAL,GAAUP,MAAMtmB,CAAN,GAAUsmB,MAAMuK,SAAN,GAAgB1wB,KAAK8pB,GAAL,CAAS,KAAKjD,MAAL,IAAa7mB,KAAKC,EAAL,GAAQ,GAArB,CAAT,CAApC;AACA,SAAKinB,MAAL,GAAc,CAAd;AACA,SAAKyJ,MAAL,GAAcnd,KAAd;AACA,SAAKod,OAAL,GAAe5wB,KAAKiW,KAAL,CAAW,OAAOzC,KAAP,GAAe,MAAMA,KAAN,GAAcA,KAAxC,IAAiD,IAAhE;AACA,SAAKqd,SAAL,GAAiB,KAAjB;AACD;;;;gCAqCW;AACV,WAAKA,SAAL,GAAiB,IAAjB;AACD;;;+BAEU/H,K,EAAO;AAChB,WAAK+H,SAAL,GAAiB,IAAjB;AACA/H,YAAMF,QAAN,CAAe,KAAKgI,OAApB;AACD;;;qCAEgB;AACf,WAAKnK,EAAL,IAAW,KAAKS,MAAL,GAAYlnB,KAAK6pB,GAAL,CAAS,KAAKhD,MAAL,IAAa7mB,KAAKC,EAAL,GAAQ,GAArB,CAAT,CAAvB;AACA,WAAKymB,EAAL,IAAW,KAAKQ,MAAL,GAAYlnB,KAAK8pB,GAAL,CAAS,KAAKjD,MAAL,IAAa7mB,KAAKC,EAAL,GAAQ,GAArB,CAAT,CAAvB;AACD;;;wBA/CQ;AACP,aAAO,KAAKqmB,GAAZ;AACD;;;wBAEO;AACN,aAAO,KAAKG,EAAZ;AACD;;;wBAEO;AACN,aAAO,KAAKC,EAAZ;AACD;;;wBAEW;AACV,aAAO,KAAKG,MAAZ;AACD;;;wBAEW;AACV,aAAO,KAAKK,MAAZ;AACD;;;wBAEY;AACX,aAAO,KAAK0J,OAAZ;AACD;;;wBAEW;AACV,aAAO,KAAKD,MAAZ;AACD;;;wBACW;AACV,aAAO,KAAKF,MAAZ;AACD;;;wBAEc;AACb,aAAO,KAAKI,SAAZ;AACD;;;;;;kBAjDkBzK,M;;;;;;;ACFR;;;;;;;;AAEb;;;;;;;;IAEqB7E,W;AAEnB,uBAAY3P,KAAZ,EAAmBE,MAAnB,EAA2B;AAAA;;AACzB,SAAKgf,MAAL,GAAc,IAAd;AACA,SAAKC,OAAL,GAAe,IAAf;AACA,SAAKC,cAAL,GAAsB,EAAtB;AACA,SAAKC,QAAL,GAAgB,CAAhB;AACA,SAAKC,QAAL,GAAgB,CAAhB;AACD;;;;4BAEOtf,K,EAAOE,M,EAAQ;AACrB,WAAKgf,MAAL,GAAclf,QAAM,KAAKC,MAAL,GAAY,CAAhC;AACA,WAAKkf,OAAL,GAAejf,SAAO,KAAKD,MAAL,GAAY,CAAlC;AAGD;;;8BAESmC,I,EAAM;AAAE;AAChB,UAAGA,SAASpU,SAAZ,EAAuB;AACrBoU,eAAQ,IAAIvF,IAAJ,EAAD,CAAaE,OAAb,KAAyB3O,KAAKiW,KAAL,CAAWjW,KAAKkW,MAAL,KAAc,OAAzB,CAAhC;AACD;AACD,UAAIkT,MAAM,0BAAWpV,IAAX,CAAV;;AAEA,WAAKid,QAAL,GAAgBjxB,KAAKiW,KAAL,CAAWmT,QAAM,KAAN,GAAY,IAAvB,CAAhB;AACA,WAAK8H,QAAL,GAAgBlxB,KAAKiW,KAAL,CAAWmT,QAAM,KAAN,GAAY,IAAvB,CAAhB;;AAEA;AACA,WAAK4H,cAAL,GAAsB,EAAtB;AACA,UAAIG,WAAW,EAAf;AACA,WAAI,IAAIxxB,IAAI,KAAKyxB,IAAL,GAAYD,QAAxB,EAAkCxxB,IAAI,KAAK0xB,IAAL,GAAYF,QAAlD,EAA4DxxB,KAAKwxB,QAAjE,EAA2E;AACzE,aAAI,IAAItxB,IAAI,KAAKyxB,IAAL,GAAYH,QAAxB,EAAkCtxB,IAAI,KAAK0xB,IAAL,GAAYJ,QAAlD,EAA4DtxB,KAAKsxB,QAAjE,EAA2E;AACzE,eAAKH,cAAL,CAAoBze,IAApB,CAAyB,EAAC5S,GAAGA,CAAJ,EAAOE,GAAGA,CAAV,EAAzB;AACD;AACF;AACD;AACA,UAAI2xB,eAAe,KAAKR,cAAL,CAAoB1tB,MAAvC;AAAA,UAA+CmuB,uBAA/C;AAAA,UAA+DC,oBAA/D;AACA,aAAO,MAAMF,YAAb,EAA2B;AACzBE,sBAAc1xB,KAAKktB,KAAL,CAAW9D,QAAQoI,YAAnB,CAAd;AACAA,wBAAgB,CAAhB;AACAC,yBAAiB,KAAKT,cAAL,CAAoBQ,YAApB,CAAjB;AACA,aAAKR,cAAL,CAAoBQ,YAApB,IAAoC,KAAKR,cAAL,CAAoBU,WAApB,CAApC;AACA,aAAKV,cAAL,CAAoBU,WAApB,IAAmCD,cAAnC;AACD;AACF;;;mCAsCc;AACb,UAAG,KAAKT,cAAL,CAAoB1tB,MAAvB,EAA+B;AAC7B,eAAO,KAAK0tB,cAAL,CAAoBpX,GAApB,EAAP;AACD;AACD,aAAO,IAAP;AACD;;;wBAzCW;AACV,aAAO,KAAKkX,MAAZ;AACD;;;wBAEY;AACX,aAAO,KAAKC,OAAZ;AACD;;;wBAEY;AACX,aAAO,EAAP;AACD;;;wBAEU;AACT,aAAO,KAAKE,QAAL,GAAgB,KAAKpf,MAA5B;AACD;;;wBAEU;AACT,aAAO,KAAKqf,QAAL,GAAgB,KAAKrf,MAA5B;AACD;;;wBAEU;AACT,aAAO,KAAKof,QAAL,GAAgB,KAAKH,MAArB,GAA8B,KAAKjf,MAA1C;AACD;;;wBAEU;AACT,aAAO,KAAKqf,QAAL,GAAgB,KAAKH,OAArB,GAA+B,KAAKlf,MAA3C;AACD;;;wBAEa;AACZ,aAAO,KAAKof,QAAZ;AACD;;;wBAEa;AACZ,aAAO,KAAKC,QAAZ;AACD;;;;;;kBA/EkB3P,W;;;;;;;ACJR;;;;;;;;;;IAEQb,U;AAEnB,wBAAc;AAAA;;AACZ,SAAKiR,KAAL,GAAa,EAAb;AACD;;;;wBAEGC,K,EAAOvpB,K,EAAO;AAChB,UAAG,CAAC,KAAKspB,KAAL,CAAWC,KAAX,CAAJ,EAAuB;AACrB,aAAKD,KAAL,CAAWC,KAAX,IAAoB,EAApB;AACD;AACD,WAAKD,KAAL,CAAWC,KAAX,EAAkBrf,IAAlB,CAAuBlK,KAAvB;AACD;;;wBAEGupB,K,EAAO;AACT,UAAG,CAAC,KAAKD,KAAL,CAAWC,KAAX,CAAJ,EAAuB;AACrB,aAAKD,KAAL,CAAWC,KAAX,IAAoB,EAApB;AACD;AACD,aAAO,KAAKD,KAAL,CAAWC,KAAX,CAAP;AACD;;;0BAEKA,K,EAAO;AACX,WAAKD,KAAL,GAAa,EAAb;AACD;;;;;;kBAtBkBjR,U;;;;;;;ACFR;;;;;;;;AAEb;;;;;;;;IAEqBX,iB;AAEnB,+BAAc;AAAA;;AACZ,SAAK8R,SAAL,GAAiB,EAAjB;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACA,SAAKC,UAAL,GAAkB,EAAlB;AACA,SAAKC,aAAL,GAAqB,EAArB;AACA,SAAKxS,YAAL,GAAoB,IAApB;AACD;;;;sCAEiB1P,W,EAAa;AAC7B,WAAK0P,YAAL,GAAoB;AAClB4R,cAAMthB,YAAYshB,IADA;AAElBE,cAAMxhB,YAAYwhB,IAFA;AAGlBD,cAAMvhB,YAAYuhB,IAHA;AAIlBE,cAAMzhB,YAAYyhB;AAJA,OAApB;AAMA,UAAI1G,aAAJ;AACAA,aAAQ,IAAIoH,cAAIC,GAAR,CAAY,IAAID,cAAIE,MAAR,CAAeriB,YAAYshB,IAAZ,GAAiB,EAAhC,EAAoCthB,YAAYwhB,IAAhD,CAAZ,EAAmE,EAAnE,EAAuExhB,YAAYgC,MAAnF,CAAD,CAA6FsgB,SAA7F,EAAP;AACA,WAAKP,SAAL,CAAetf,IAAf,CAAoBsY,IAApB;AACAA,aAAQ,IAAIoH,cAAIC,GAAR,CAAY,IAAID,cAAIE,MAAR,CAAeriB,YAAYshB,IAA3B,EAAiCthB,YAAYwhB,IAAZ,GAAiB,EAAlD,CAAZ,EAAmExhB,YAAY8B,KAA/E,EAAsF,EAAtF,CAAD,CAA4FwgB,SAA5F,EAAP;AACA,WAAKP,SAAL,CAAetf,IAAf,CAAoBsY,IAApB;AACAA,aAAQ,IAAIoH,cAAIC,GAAR,CAAY,IAAID,cAAIE,MAAR,CAAeriB,YAAYuhB,IAA3B,EAAiCvhB,YAAYwhB,IAA7C,CAAZ,EAAgE,EAAhE,EAAoExhB,YAAYgC,MAAhF,CAAD,CAA0FsgB,SAA1F,EAAP;AACA,WAAKP,SAAL,CAAetf,IAAf,CAAoBsY,IAApB;AACAA,aAAQ,IAAIoH,cAAIC,GAAR,CAAY,IAAID,cAAIE,MAAR,CAAeriB,YAAYshB,IAA3B,EAAiCthB,YAAYyhB,IAA7C,CAAZ,EAAgEzhB,YAAY8B,KAA5E,EAAmF,EAAnF,CAAD,CAAyFwgB,SAAzF,EAAP;AACA,WAAKP,SAAL,CAAetf,IAAf,CAAoBsY,IAApB;AACD;;;+BAEU9a,I,EAAM;AACf,UAAIsiB,YAAa,KAAKC,aAAL,CAAmBviB,IAAnB,CAAjB;AACAsiB,gBAAUE,GAAV,CAAc5yB,CAAd,GAAkBoQ,KAAKpQ,CAAvB;AACA0yB,gBAAUE,GAAV,CAAc1yB,CAAd,GAAkBkQ,KAAKlQ,CAAvB;AACD;;;iCAEYsQ,M,EAAQ;AACnB,WAAK4hB,UAAL,CAAgB5hB,OAAOlE,EAAvB,IAA6B,IAA7B;AACD;;;+BAGU8D,I,EAAM;AACf,WAAK+hB,QAAL,CAAc/hB,KAAK9D,EAAnB,IAAyB,IAAzB;AACA,WAAK+lB,aAAL,CAAmBjiB,KAAK9D,EAAxB,IAA8B,IAA9B;AACD;;;kCAEakE,M,EAAQ;AACpB,UAAIqiB,cAAe,KAAKC,eAAL,CAAqBtiB,MAArB,CAAnB;AACA,UAAIkiB,YAAaliB,OAAOgW,KAAP,CAAare,MAAb,GAAsB,KAAKwqB,aAAL,CAAmBniB,OAAOgW,KAA1B,CAAtB,GAAyD,IAA1E;;AAEAqM,kBAAYD,GAAZ,CAAgB5yB,CAAhB,GAAoBwQ,OAAOxQ,CAA3B;AACA6yB,kBAAYD,GAAZ,CAAgB1yB,CAAhB,GAAoBsQ,OAAOtQ,CAA3B;;AAEA,UAAIqB,UAAJ;AACA,UAAIikB,gBAAJ;AACA,UAAI0F,aAAJ;AACA,WAAI3pB,CAAJ,IAAS,KAAK2wB,SAAd,EAA0B;AACxBhH,eAAO,KAAKgH,SAAL,CAAe3wB,CAAf,CAAP;AACAikB,kBAAU8M,cAAIS,iBAAJ,CAAsBF,WAAtB,EAAmC3H,IAAnC,CAAV;AACA,YAAG1F,OAAH,EAAY;AACVhV,iBAAOwiB,SAAP;AACA,iBAAO,IAAP;AACD;AACF;AACD,UAAIC,mBAAJ;AACA,WAAI1xB,CAAJ,IAAS,KAAK4wB,QAAd,EAAyB;AACvBc,qBAAa,KAAKd,QAAL,CAAc5wB,CAAd,CAAb;AACA,YAAG,CAAC0xB,UAAJ,EAAgB;AAChB,YAAGA,cAAcP,SAAjB,EAA4B;AAC1B;AACD;AACDlN,kBAAU8M,cAAIY,gBAAJ,CAAqBL,WAArB,EAAkCI,UAAlC,CAAV;AACA,YAAGzN,OAAH,EAAY;AACV,cAAI2N,eAAeF,WAAW7iB,IAAX,CAAgBjI,MAAnC;AACAqI,iBAAO4iB,UAAP,CAAkBH,WAAW7iB,IAA7B;AACA,cAAIijB,YAAY7iB,OAAOgW,KAAP,CAAa8M,MAAb,CAAoBL,WAAW7iB,IAA/B,CAAhB;AACA,cAAG,CAACijB,SAAJ,EAAe;AACb7iB,mBAAOgW,KAAP,CAAa+M,eAAb,CAA6BJ,eAAeF,WAAW7iB,IAAX,CAAgBjI,MAA5D;AACD;AACD,cAAG8qB,WAAW7iB,IAAX,CAAgBjI,MAAhB,IAA0B,CAA7B,EAAgC;AAC9BqI,mBAAOgW,KAAP,CAAagN,gBAAb;AACD;AACD,iBAAO,IAAP;AACD;AACF;AACD,aAAO,KAAP;AACD;;;8BAESpjB,I,EAAM;AACd,UAAIsiB,YAAa,KAAKC,aAAL,CAAmBviB,IAAnB,CAAjB;;AAEAsiB,gBAAUE,GAAV,CAAc5yB,CAAd,GAAkBoQ,KAAKpQ,CAAvB;AACA0yB,gBAAUE,GAAV,CAAc1yB,CAAd,GAAkBkQ,KAAKlQ,CAAvB;;AAEA,UAAIqB,UAAJ;AACA,UAAIikB,gBAAJ;AACA,UAAI0F,aAAJ;AACA,WAAI3pB,CAAJ,IAAS,KAAK2wB,SAAd,EAA0B;AACxBhH,eAAO,KAAKgH,SAAL,CAAe3wB,CAAf,CAAP;AACAikB,kBAAU8M,cAAIS,iBAAJ,CAAsBL,SAAtB,EAAiCxH,IAAjC,CAAV;AACA,YAAG1F,OAAH,EAAY;AACVpV,eAAK4iB,SAAL;AACA,iBAAO,KAAP;AACD;AACF;AACD,UAAIC,mBAAJ;AACA,WAAI1xB,CAAJ,IAAS,KAAK4wB,QAAd,EAAyB;AACvBc,qBAAa,KAAKd,QAAL,CAAc5wB,CAAd,CAAb;AACA,YAAG,CAAC0xB,UAAJ,EAAgB;AAChB,YAAGA,cAAcP,SAAjB,EAA4B;AAC1B;AACD;AACDlN,kBAAU8M,cAAIY,gBAAJ,CAAqBR,SAArB,EAAgCO,UAAhC,CAAV;AACA,YAAII,YAAYjjB,KAAKkjB,MAAL,CAAYL,WAAW7iB,IAAvB,CAAhB;AACA,YAAGoV,OAAH,EAAY;AACV,cAAG,CAAC6N,SAAJ,EAAe;AACb,gBAAIF,eAAeF,WAAW7iB,IAAX,CAAgBjI,MAAnC;AACAiI,iBAAKgjB,UAAL;AACAH,uBAAW7iB,IAAX,CAAgBqjB,UAAhB,CAA2BrjB,KAAK8Y,KAAhC;AACA9Y,iBAAKmjB,eAAL,CAAqBJ,eAAeF,WAAW7iB,IAAX,CAAgBjI,MAApD;AACA,mBAAO,KAAP;AACD,WAND,MAMO;AACLiI,iBAAKsjB,SAAL;AACA,mBAAO,KAAP;AACD;AACF;AACF;AACD,aAAO,IAAP;AACD;;;8BAEStjB,I,EAAM;AACd,UAAIujB,iBAAkB,KAAKC,kBAAL,CAAwBxjB,IAAxB,CAAtB;AACA,UAAIsiB,YAAa,KAAKC,aAAL,CAAmBviB,IAAnB,CAAjB;AACAujB,qBAAeE,QAAf,CAAwB,CAACzjB,KAAKjQ,KAAL,GAAaiQ,KAAKpI,UAAnB,IAA+B3H,KAAKC,EAApC,GAAuC,GAA/D;AACAqzB,qBAAef,GAAf,CAAmB5yB,CAAnB,GAAuBoQ,KAAKpQ,CAA5B;AACA2zB,qBAAef,GAAf,CAAmB1yB,CAAnB,GAAuBkQ,KAAKlQ,CAA5B;;AAEA,UAAIqB,UAAJ;AACA,UAAI0xB,mBAAJ;AACA,UAAIzN,gBAAJ;AACA,UAAIsO,UAAU,EAAd;;AAEA,WAAIvyB,CAAJ,IAAS,KAAK4wB,QAAd,EAAyB;AACvBc,qBAAa,KAAKd,QAAL,CAAc5wB,CAAd,CAAb;AACA,YAAG,CAAC0xB,UAAJ,EAAgB;AAChB,YAAGA,cAAcP,SAAjB,EAA4B;AAC1B;AACD;AACDlN,kBAAU8M,cAAIyB,iBAAJ,CAAsBJ,cAAtB,EAAsCV,UAAtC,CAAV;AACA,YAAGzN,OAAH,EAAY;AACVsO,kBAAQlhB,IAAR,CAAaqgB,WAAW7iB,IAAxB;AACD;AACF;AACD,UAAG0jB,QAAQnwB,MAAR,IAAkB,CAArB,EAAwB;AACtB,eAAO,KAAP;AACD;AACD,UAAIqwB,eAAe,IAAnB;AACA,UAAIC,uBAAuB7jB,KAAK8jB,UAAhC;AACA,UAAIC,cAAc,IAAlB;AACA,UAAIC,sBAAsBhkB,KAAK8jB,UAA/B;AACA,UAAI9G,UAAJ;AAAA,UAAOvC,WAAP;AAAA,UAAWC,WAAX;AAAA,UAAe1B,aAAf;AACA,WAAI7nB,CAAJ,IAASuyB,OAAT,EAAmB;AACjBjJ,aAAKiJ,QAAQvyB,CAAR,EAAWvB,CAAX,GAAeoQ,KAAKpQ,CAAzB;AACA8qB,aAAKgJ,QAAQvyB,CAAR,EAAWrB,CAAX,GAAekQ,KAAKlQ,CAAzB;AACAktB,YAAI/sB,KAAK0qB,IAAL,CAAUF,KAAGA,EAAH,GAAQC,KAAGA,EAArB,CAAJ;AACA1B,eAAO0K,QAAQvyB,CAAR,EAAW+xB,MAAX,CAAkBljB,IAAlB,CAAP;AACA,YAAG,CAACgZ,IAAD,KAAU,CAAC4K,YAAD,IAAiB5G,IAAI6G,oBAA/B,CAAH,EAAyD;AACvDD,yBAAeF,QAAQvyB,CAAR,CAAf;AACA0yB,iCAAuB7G,CAAvB;AACD,SAHD,MAGO,IAAGhE,SAAS,CAAC+K,WAAD,IAAgB/G,IAAIgH,mBAA7B,CAAH,EAAsD;AAC3DD,wBAAcL,QAAQvyB,CAAR,CAAd;AACA6yB,gCAAsBhH,CAAtB;AACD;AACF;AACD,UAAG+G,WAAH,EAAgB;AACd/jB,aAAKikB,UAAL,CAAgBF,WAAhB;AACD;AACD,UAAGH,YAAH,EAAiB;AACf5jB,aAAKkkB,WAAL,CAAiBN,YAAjB;AACAA,qBAAaO,gBAAb;AACD;;AAGD,aAAO,IAAP;AACD;;;gCAEWnkB,I,EAAM;AAChB,UAAIujB,iBAAkB,KAAKC,kBAAL,CAAwBxjB,IAAxB,CAAtB;AACAujB,qBAAeE,QAAf,CAAwB,CAACzjB,KAAKjQ,KAAL,GAAaiQ,KAAKpI,UAAnB,IAA+B3H,KAAKC,EAApC,GAAuC,GAA/D;AACAqzB,qBAAef,GAAf,CAAmB5yB,CAAnB,GAAuBoQ,KAAKpQ,CAA5B;AACA2zB,qBAAef,GAAf,CAAmB1yB,CAAnB,GAAuBkQ,KAAKlQ,CAA5B;;AAEA,UAAIqB,UAAJ;AACA,UAAIikB,gBAAJ;AACA,UAAIqN,oBAAJ;AACA,UAAI2B,iBAAiB,KAArB;;AAEA,WAAIjzB,CAAJ,IAAS,KAAK6wB,UAAd,EAA0B;AACxBS,sBAAc,KAAKT,UAAL,CAAgB7wB,CAAhB,CAAd;AACA,YAAG,CAACsxB,WAAJ,EAAiB;AACjB,YAAGA,YAAYriB,MAAZ,CAAmBgW,KAAnB,IAA4BpW,IAA/B,EAAqC;AACrCoV,kBAAU8M,cAAIS,iBAAJ,CAAsBF,WAAtB,EAAmCc,cAAnC,CAAV;AACA,YAAGnO,OAAH,EAAY;AACVpV,eAAKqkB,YAAL,CAAkB5B,YAAYriB,MAA9B;AACAgkB,2BAAiB,IAAjB;AACD;AACF;;AAED,aAAOA,cAAP;AACD;;;8BAGSpkB,I,EAAM;AACd,UAAIiZ,WAAW,KAAKqL,gBAAL,CAAsBtkB,IAAtB,CAAf;AACA,UAAGiZ,WAAWjZ,KAAK8jB,UAAnB,EAA+B;AAC7B9jB,aAAKukB,UAAL,CAAgBtL,QAAhB;AACA,eAAO,IAAP;AACD;AACD,aAAO,KAAP;AACD;;;qCAEgBjZ,I,EAAM;AACrB,UAAIjQ,QAAQiQ,KAAKjQ,KAAL,GAAaiQ,KAAKpI,UAA9B;AACA,aAAM7H,QAAQ,GAAd;AAAmBA,iBAAS,GAAT;AAAnB,OACA,OAAMA,QAAQ,CAAC,GAAf;AAAoBA,iBAAS,GAAT;AAApB,OAEA,IAAIy0B,gBAAgBxkB,KAAKlQ,CAAL,GAAS,KAAK2f,YAAL,CAAkB8R,IAA/C;AACA,UAAIkD,gBAAgB,KAAKhV,YAAL,CAAkB+R,IAAlB,GAAyBxhB,KAAKlQ,CAAlD;AACA,UAAI40B,eAAe1kB,KAAKpQ,CAAL,GAAS,KAAK6f,YAAL,CAAkB4R,IAA9C;AACA,UAAIsD,eAAe,KAAKlV,YAAL,CAAkB6R,IAAlB,GAAyBthB,KAAKpQ,CAAjD;;AAEA,UAAGG,SAAS,CAAC,GAAV,IAAiBA,SAAS,GAA7B,EAAkC;AAAE;AAClC,eAAO20B,YAAP;AACD,OAFD,MAEO,IAAG30B,SAAS,CAAZ,EAAe;AAAE;AACtB,eAAO40B,YAAP;AACD,OAFM,MAEA,IAAG50B,SAAS,CAAC,EAAb,EAAiB;AAAE;AACxB,eAAOy0B,aAAP;AACD,OAFM,MAEA,IAAGz0B,SAAS,EAAZ,EAAgB;AAAE;AACvB,eAAQ00B,aAAR;AACD;;AAED,UAAIG,WAAJ;AAAA,UAAQC,WAAR;;AAEA,UAAG90B,QAAQ,CAAC,GAAT,IAAgBA,QAAQ,CAAC,EAA5B,EAAgC;AAAE;AAChC60B,aAAKF,eAAez0B,KAAK6pB,GAAL,CAAS,CAAC/pB,QAAM,GAAP,KAAaE,KAAKC,EAAL,GAAQ,GAArB,CAAT,CAApB;AACA20B,aAAKL,gBAAgBv0B,KAAK8pB,GAAL,CAAS,CAAChqB,QAAM,GAAP,KAAaE,KAAKC,EAAL,GAAQ,GAArB,CAAT,CAArB;AACD,OAHD,MAGO,IAAGH,QAAQ,CAAC,EAAT,IAAeA,QAAQ,CAA1B,EAA6B;AAAE;AACpC60B,aAAKD,eAAe10B,KAAK6pB,GAAL,CAAU,CAAC/pB,KAAF,IAAUE,KAAKC,EAAL,GAAQ,GAAlB,CAAT,CAApB;AACA20B,aAAKL,gBAAgBv0B,KAAK8pB,GAAL,CAAU,CAAChqB,KAAF,IAAUE,KAAKC,EAAL,GAAQ,GAAlB,CAAT,CAArB;AACD,OAHM,MAGA,IAAGH,QAAQ,CAAR,IAAaA,QAAQ,EAAxB,EAA4B;AAAE;AACnC60B,aAAKD,eAAe10B,KAAK6pB,GAAL,CAAU/pB,KAAD,IAASE,KAAKC,EAAL,GAAQ,GAAjB,CAAT,CAApB;AACA20B,aAAKJ,gBAAgBx0B,KAAK8pB,GAAL,CAAUhqB,KAAD,IAASE,KAAKC,EAAL,GAAQ,GAAjB,CAAT,CAArB;AACD,OAHM,MAGA;AAAE;AACP00B,aAAKF,eAAez0B,KAAK6pB,GAAL,CAAS,CAAC,MAAI/pB,KAAL,KAAaE,KAAKC,EAAL,GAAQ,GAArB,CAAT,CAApB;AACA20B,aAAKJ,gBAAgBx0B,KAAK8pB,GAAL,CAAS,CAAC,MAAIhqB,KAAL,KAAaE,KAAKC,EAAL,GAAQ,GAArB,CAAT,CAArB;AACD;;AAED,aAAOD,KAAK4iB,GAAL,CAAS+R,EAAT,EAAaC,EAAb,CAAP;AACD;;;kCAEa7kB,I,EAAM;AAClB,UAAG,CAAC,KAAK+hB,QAAL,CAAc/hB,KAAK9D,EAAnB,CAAJ,EAA4B;AAC1B,YAAG8D,KAAKjI,MAAL,IAAe,CAAlB,EAAqB;AACnB,gBAAM,wCAAN;AACD;AACD,YAAI+sB,QAAQ,IAAI5C,cAAI6C,MAAR,CAAe,IAAI7C,cAAIE,MAAR,CAAepiB,KAAKpQ,CAApB,EAAsBoQ,KAAKlQ,CAA3B,CAAf,EAA8C,EAA9C,CAAZ;AACA,aAAKiyB,QAAL,CAAc/hB,KAAK9D,EAAnB,IAAyB4oB,KAAzB;AACAA,cAAM9kB,IAAN,GAAaA,IAAb;AACD;AACD,aAAO,KAAK+hB,QAAL,CAAc/hB,KAAK9D,EAAnB,CAAP;AACD;;;oCAEekE,M,EAAQ;AACtB,UAAG,CAAC,KAAK4hB,UAAL,CAAgB5hB,OAAOlE,EAAvB,CAAJ,EAAgC;AAC9B,YAAGkE,OAAOsD,QAAV,EAAoB;AAClB,gBAAM,yCAAN;AACD;AACD,YAAIohB,QAAQ,IAAI5C,cAAI6C,MAAR,CAAe,IAAI7C,cAAIE,MAAR,CAAehiB,OAAOxQ,CAAtB,EAAwBwQ,OAAOtQ,CAA/B,CAAf,EAAkD,CAAlD,CAAZ;AACA,aAAKkyB,UAAL,CAAgB5hB,OAAOlE,EAAvB,IAA6B4oB,KAA7B;AACAA,cAAM1kB,MAAN,GAAeA,MAAf;AACD;AACD,aAAO,KAAK4hB,UAAL,CAAgB5hB,OAAOlE,EAAvB,CAAP;AACD;;;uCAEkB8D,I,EAAM;AACvB,UAAG,CAAC,KAAKiiB,aAAL,CAAmBjiB,KAAK9D,EAAxB,CAAJ,EAAiC;AAC/B,YAAG8D,KAAKjI,MAAL,IAAe,CAAlB,EAAqB;AACnB,gBAAM,mDAAN;AACD;AACD,YAAI8J,QAAQ7B,KAAK8jB,UAAL,GAAkB7zB,KAAK+0B,GAAL,CAAShlB,KAAKilB,UAAL,IAAiBh1B,KAAKC,EAAL,GAAQ,GAAzB,CAAT,CAAlB,GAA0D,CAAtE;AACA,YAAI40B,QAAQ,IAAI5C,cAAIgD,OAAR,CAAgB,IAAIhD,cAAIE,MAAR,CAAepiB,KAAKpQ,CAApB,EAAuBoQ,KAAKlQ,CAA5B,CAAhB,EAAgD,CAC1D,IAAIoyB,cAAIE,MAAR,CAAe,CAAf,EAAkB,CAAlB,CAD0D,EAE1D,IAAIF,cAAIE,MAAR,CAAe,CAAf,EAAkB,CAAC,CAAnB,CAF0D,EAG1D,IAAIF,cAAIE,MAAR,CAAepiB,KAAK8jB,UAApB,EAA+B,CAACjiB,KAAhC,CAH0D,EAI1D,IAAIqgB,cAAIE,MAAR,CAAepiB,KAAK8jB,UAApB,EAA+BjiB,KAA/B,CAJ0D,CAAhD,CAAZ;;AAOA,aAAKogB,aAAL,CAAmBjiB,KAAK9D,EAAxB,IAA8B4oB,KAA9B;AACAA,cAAM9kB,IAAN,GAAaA,IAAb;AACD;AACD,aAAO,KAAKiiB,aAAL,CAAmBjiB,KAAK9D,EAAxB,CAAP;AACD;;;;;;kBA3SkB8T,iB;;;;;;;;;;;ACJrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIC,WAAUjV,IAAV,EAAgBoqB,OAAhB,EAAyB;AACxB;;AACA,MAAI,IAAJ,EAAmD;AACjD5J,wCAAO4J,OAAP;AAAA;AAAA;AAAA;AAAA;AACD,GAFD,MAEO,IAAI,QAAO10B,OAAP,yCAAOA,OAAP,OAAmB,QAAvB,EAAiC;AACtCD,WAAO,SAAP,IAAoB20B,SAApB;AACD,GAFM,MAEA;AACLpqB,SAAK,KAAL,IAAcoqB,SAAd;AACD;AACF,CATA,aASO,YAAY;AAClB;;AAEA,MAAIjD,MAAM,EAAV;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;;;AAKA,WAASE,MAAT,CAAgBxyB,CAAhB,EAAmBE,CAAnB,EAAsB;AACpB,SAAK,GAAL,IAAYF,KAAK,CAAjB;AACA,SAAK,GAAL,IAAYE,KAAK,CAAjB;AACD;AACDoyB,MAAI,QAAJ,IAAgBE,MAAhB;AACA;AACAF,MAAI,GAAJ,IAAWE,MAAX;;AAGA;AACA;;;;AAIAA,SAAO/jB,SAAP,CAAiB,MAAjB,IAA2B+jB,OAAO/jB,SAAP,CAAiBjN,IAAjB,GAAwB,UAASg0B,KAAT,EAAgB;AACjE,SAAK,GAAL,IAAYA,MAAM,GAAN,CAAZ;AACA,SAAK,GAAL,IAAYA,MAAM,GAAN,CAAZ;AACA,WAAO,IAAP;AACD,GAJD;;AAMA;AACA;;;AAGAhD,SAAO/jB,SAAP,CAAiB,OAAjB,IAA4B+jB,OAAO/jB,SAAP,CAAiBwH,KAAjB,GAAyB,YAAW;AAC9D,WAAO,IAAIuc,MAAJ,CAAW,KAAK,GAAL,CAAX,EAAsB,KAAK,GAAL,CAAtB,CAAP;AACD,GAFD;;AAIA;AACA;AACA;;;AAGAA,SAAO/jB,SAAP,CAAiB,MAAjB,IAA2B+jB,OAAO/jB,SAAP,CAAiBgnB,IAAjB,GAAwB,YAAW;AAC5D,QAAIz1B,IAAI,KAAK,GAAL,CAAR;AACA,SAAK,GAAL,IAAY,KAAK,GAAL,CAAZ;AACA,SAAK,GAAL,IAAY,CAACA,CAAb;AACA,WAAO,IAAP;AACD,GALD;;AAOA;AACA;;;;AAIAwyB,SAAO/jB,SAAP,CAAiB,QAAjB,IAA6B+jB,OAAO/jB,SAAP,CAAiBinB,MAAjB,GAA0B,UAAUv1B,KAAV,EAAiB;AACtE,QAAIH,IAAI,KAAK,GAAL,CAAR;AACA,QAAIE,IAAI,KAAK,GAAL,CAAR;AACA,SAAK,GAAL,IAAYF,IAAIK,KAAK6pB,GAAL,CAAS/pB,KAAT,CAAJ,GAAsBD,IAAIG,KAAK8pB,GAAL,CAAShqB,KAAT,CAAtC;AACA,SAAK,GAAL,IAAYH,IAAIK,KAAK8pB,GAAL,CAAShqB,KAAT,CAAJ,GAAsBD,IAAIG,KAAK6pB,GAAL,CAAS/pB,KAAT,CAAtC;AACA,WAAO,IAAP;AACD,GAND;;AAQA;AACA;;;AAGAqyB,SAAO/jB,SAAP,CAAiB,SAAjB,IAA8B+jB,OAAO/jB,SAAP,CAAiBknB,OAAjB,GAA2B,YAAW;AAClE,SAAK,GAAL,IAAY,CAAC,KAAK,GAAL,CAAb;AACA,SAAK,GAAL,IAAY,CAAC,KAAK,GAAL,CAAb;AACA,WAAO,IAAP;AACD,GAJD;;AAOA;AACA;;;AAGAnD,SAAO/jB,SAAP,CAAiB,WAAjB,IAAgC+jB,OAAO/jB,SAAP,CAAiBlB,SAAjB,GAA6B,YAAW;AACtE,QAAI6f,IAAI,KAAKwI,GAAL,EAAR;AACA,QAAGxI,IAAI,CAAP,EAAU;AACR,WAAK,GAAL,IAAY,KAAK,GAAL,IAAYA,CAAxB;AACA,WAAK,GAAL,IAAY,KAAK,GAAL,IAAYA,CAAxB;AACD;AACD,WAAO,IAAP;AACD,GAPD;;AASA;AACA;;;;AAIAoF,SAAO/jB,SAAP,CAAiB,KAAjB,IAA0B+jB,OAAO/jB,SAAP,CAAiBwE,GAAjB,GAAuB,UAASuiB,KAAT,EAAgB;AAC/D,SAAK,GAAL,KAAaA,MAAM,GAAN,CAAb;AACA,SAAK,GAAL,KAAaA,MAAM,GAAN,CAAb;AACA,WAAO,IAAP;AACD,GAJD;;AAMA;AACA;;;;AAIAhD,SAAO/jB,SAAP,CAAiB,KAAjB,IAA0B+jB,OAAO/jB,SAAP,CAAiBonB,GAAjB,GAAuB,UAASL,KAAT,EAAgB;AAC/D,SAAK,GAAL,KAAaA,MAAM,GAAN,CAAb;AACA,SAAK,GAAL,KAAaA,MAAM,GAAN,CAAb;AACA,WAAO,IAAP;AACD,GAJD;;AAMA;AACA;AACA;;;;;;AAMAhD,SAAO/jB,SAAP,CAAiB,OAAjB,IAA4B+jB,OAAO/jB,SAAP,CAAiBvG,KAAjB,GAAyB,UAASlI,CAAT,EAAWE,CAAX,EAAc;AACjE,SAAK,GAAL,KAAaF,CAAb;AACA,SAAK,GAAL,KAAa,OAAOE,CAAP,IAAY,WAAZ,GAA0BA,CAA1B,GAA8BF,CAA3C;AACA,WAAO,IAAP;AACD,GAJD;;AAMA;AACA;;;;AAIAwyB,SAAO/jB,SAAP,CAAiB,SAAjB,IAA8B+jB,OAAO/jB,SAAP,CAAiBqnB,OAAjB,GAA2B,UAASN,KAAT,EAAgB;AACvE,QAAIO,MAAM,KAAKC,GAAL,CAASR,KAAT,IAAkBA,MAAMS,IAAN,EAA5B;AACA,SAAK,GAAL,IAAYF,MAAMP,MAAM,GAAN,CAAlB;AACA,SAAK,GAAL,IAAYO,MAAMP,MAAM,GAAN,CAAlB;AACA,WAAO,IAAP;AACD,GALD;;AAOA;AACA;AACA;;;;AAIAhD,SAAO/jB,SAAP,CAAiB,UAAjB,IAA+B+jB,OAAO/jB,SAAP,CAAiBynB,QAAjB,GAA4B,UAASV,KAAT,EAAgB;AACzE,QAAIO,MAAM,KAAKC,GAAL,CAASR,KAAT,CAAV;AACA,SAAK,GAAL,IAAYO,MAAMP,MAAM,GAAN,CAAlB;AACA,SAAK,GAAL,IAAYO,MAAMP,MAAM,GAAN,CAAlB;AACA,WAAO,IAAP;AACD,GALD;;AAOA;AACA;;;;AAIAhD,SAAO/jB,SAAP,CAAiB,SAAjB,IAA8B+jB,OAAO/jB,SAAP,CAAiB0nB,OAAjB,GAA2B,UAASC,IAAT,EAAe;AACtE,QAAIp2B,IAAI,KAAK,GAAL,CAAR;AACA,QAAIE,IAAI,KAAK,GAAL,CAAR;AACA,SAAK41B,OAAL,CAAaM,IAAb,EAAmBluB,KAAnB,CAAyB,CAAzB;AACA,SAAK,GAAL,KAAalI,CAAb;AACA,SAAK,GAAL,KAAaE,CAAb;AACA,WAAO,IAAP;AACD,GAPD;;AASA;AACA;AACA;;;;AAIAsyB,SAAO/jB,SAAP,CAAiB,UAAjB,IAA+B+jB,OAAO/jB,SAAP,CAAiB4nB,QAAjB,GAA4B,UAASD,IAAT,EAAe;AACxE,QAAIp2B,IAAI,KAAK,GAAL,CAAR;AACA,QAAIE,IAAI,KAAK,GAAL,CAAR;AACA,SAAKg2B,QAAL,CAAcE,IAAd,EAAoBluB,KAApB,CAA0B,CAA1B;AACA,SAAK,GAAL,KAAalI,CAAb;AACA,SAAK,GAAL,KAAaE,CAAb;AACA,WAAO,IAAP;AACD,GAPD;;AASA;AACA;;;;AAIAsyB,SAAO/jB,SAAP,CAAiB,KAAjB,IAA0B+jB,OAAO/jB,SAAP,CAAiBunB,GAAjB,GAAuB,UAASR,KAAT,EAAgB;AAC/D,WAAO,KAAK,GAAL,IAAYA,MAAM,GAAN,CAAZ,GAAyB,KAAK,GAAL,IAAYA,MAAM,GAAN,CAA5C;AACD,GAFD;;AAIA;AACA;;;AAGAhD,SAAO/jB,SAAP,CAAiB,MAAjB,IAA2B+jB,OAAO/jB,SAAP,CAAiBwnB,IAAjB,GAAwB,YAAW;AAC5D,WAAO,KAAKD,GAAL,CAAS,IAAT,CAAP;AACD,GAFD;;AAIA;AACA;;;AAGAxD,SAAO/jB,SAAP,CAAiB,KAAjB,IAA0B+jB,OAAO/jB,SAAP,CAAiBmnB,GAAjB,GAAuB,YAAW;AAC1D,WAAOv1B,KAAK0qB,IAAL,CAAU,KAAKkL,IAAL,EAAV,CAAP;AACD,GAFD;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;AAKA,WAASd,MAAT,CAAgBvC,GAAhB,EAAqBxD,CAArB,EAAwB;AACtB,SAAK,KAAL,IAAcwD,OAAO,IAAIJ,MAAJ,EAArB;AACA,SAAK,GAAL,IAAYpD,KAAK,CAAjB;AACD;AACDkD,MAAI,QAAJ,IAAgB6C,MAAhB;;AAEA;AACA;AACA;AACA;;;AAGAA,SAAO1mB,SAAP,CAAiB,SAAjB,IAA8B0mB,OAAO1mB,SAAP,CAAiB6nB,OAAjB,GAA2B,YAAW;AAClE,QAAIlH,IAAI,KAAK,GAAL,CAAR;AACA,QAAImH,SAAS,KAAK,KAAL,EAAYtgB,KAAZ,GAAoB4f,GAApB,CAAwB,IAAIrD,MAAJ,CAAWpD,CAAX,EAAcA,CAAd,CAAxB,CAAb;AACA,WAAO,IAAImD,GAAJ,CAAQgE,MAAR,EAAgBnH,IAAE,CAAlB,EAAqBA,IAAE,CAAvB,EAA0BqD,SAA1B,EAAP;AACD,GAJD;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;AAOA,WAAS6C,OAAT,CAAiB1C,GAAjB,EAAsB4D,MAAtB,EAA8B;AAC5B,SAAK,KAAL,IAAc5D,OAAO,IAAIJ,MAAJ,EAArB;AACA,SAAK,OAAL,IAAgB,CAAhB;AACA,SAAK,QAAL,IAAiB,IAAIA,MAAJ,EAAjB;AACA,SAAKiE,SAAL,CAAeD,UAAU,EAAzB;AACD;AACDlE,MAAI,SAAJ,IAAiBgD,OAAjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKAA,UAAQ7mB,SAAR,CAAkB,WAAlB,IAAiC6mB,QAAQ7mB,SAAR,CAAkBgoB,SAAlB,GAA8B,UAASD,MAAT,EAAiB;AAC9E;AACA,QAAIE,gBAAgB,CAAC,KAAK,QAAL,CAAD,IAAmB,KAAK,QAAL,EAAe/yB,MAAf,KAA0B6yB,OAAO7yB,MAAxE;AACA,QAAI+yB,aAAJ,EAAmB;AACjB,UAAIn1B,CAAJ;AACA,UAAIo1B,aAAa,KAAK,YAAL,IAAqB,EAAtC;AACA,UAAIC,QAAQ,KAAK,OAAL,IAAgB,EAA5B;AACA,UAAIC,UAAU,KAAK,SAAL,IAAkB,EAAhC;AACA;AACA,WAAKt1B,IAAI,CAAT,EAAYA,IAAIi1B,OAAO7yB,MAAvB,EAA+BpC,GAA/B,EAAoC;AAClCo1B,mBAAW/jB,IAAX,CAAgB,IAAI4f,MAAJ,EAAhB;AACAoE,cAAMhkB,IAAN,CAAW,IAAI4f,MAAJ,EAAX;AACAqE,gBAAQjkB,IAAR,CAAa,IAAI4f,MAAJ,EAAb;AACD;AACF;AACD,SAAK,QAAL,IAAiBgE,MAAjB;AACA,SAAKM,OAAL;AACA,WAAO,IAAP;AACD,GAlBD;;AAoBA;AACA;;;;AAIAxB,UAAQ7mB,SAAR,CAAkB,UAAlB,IAAgC6mB,QAAQ7mB,SAAR,CAAkBolB,QAAlB,GAA6B,UAAS1zB,KAAT,EAAgB;AAC3E,SAAK,OAAL,IAAgBA,KAAhB;AACA,SAAK22B,OAAL;AACA,WAAO,IAAP;AACD,GAJD;;AAMA;AACA;;;;AAIAxB,UAAQ7mB,SAAR,CAAkB,WAAlB,IAAiC6mB,QAAQ7mB,SAAR,CAAkBsoB,SAAlB,GAA8B,UAASC,MAAT,EAAiB;AAC9E,SAAK,QAAL,IAAiBA,MAAjB;AACA,SAAKF,OAAL;AACA,WAAO,IAAP;AACD,GAJD;;AAMA;AACA;AACA;AACA;;;;AAIAxB,UAAQ7mB,SAAR,CAAkB,QAAlB,IAA8B6mB,QAAQ7mB,SAAR,CAAkBinB,MAAlB,GAA2B,UAASv1B,KAAT,EAAgB;AACvE,QAAIq2B,SAAS,KAAK,QAAL,CAAb;AACA,QAAIZ,MAAMY,OAAO7yB,MAAjB;AACA,SAAK,IAAIpC,IAAI,CAAb,EAAgBA,IAAIq0B,GAApB,EAAyBr0B,GAAzB,EAA8B;AAC5Bi1B,aAAOj1B,CAAP,EAAUm0B,MAAV,CAAiBv1B,KAAjB;AACD;AACD,SAAK22B,OAAL;AACA,WAAO,IAAP;AACD,GARD;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKAxB,UAAQ7mB,SAAR,CAAkB,WAAlB,IAAiC6mB,QAAQ7mB,SAAR,CAAkBwoB,SAAlB,GAA8B,UAAUj3B,CAAV,EAAaE,CAAb,EAAgB;AAC7E,QAAIs2B,SAAS,KAAK,QAAL,CAAb;AACA,QAAIZ,MAAMY,OAAO7yB,MAAjB;AACA,SAAK,IAAIpC,IAAI,CAAb,EAAgBA,IAAIq0B,GAApB,EAAyBr0B,GAAzB,EAA8B;AAC5Bi1B,aAAOj1B,CAAP,EAAU,GAAV,KAAkBvB,CAAlB;AACAw2B,aAAOj1B,CAAP,EAAU,GAAV,KAAkBrB,CAAlB;AACD;AACD,SAAK42B,OAAL;AACA,WAAO,IAAP;AACD,GATD;;AAYA;AACA;AACA;;;AAGAxB,UAAQ7mB,SAAR,CAAkBqoB,OAAlB,GAA4B,YAAW;AACrC;AACA;AACA,QAAIH,aAAa,KAAK,YAAL,CAAjB;AACA;AACA;AACA;AACA,QAAIC,QAAQ,KAAK,OAAL,CAAZ;AACA;AACA;AACA;AACA,QAAIC,UAAU,KAAK,SAAL,CAAd;AACA;AACA,QAAIL,SAAS,KAAK,QAAL,CAAb;AACA,QAAIQ,SAAS,KAAK,QAAL,CAAb;AACA,QAAI72B,QAAQ,KAAK,OAAL,CAAZ;AACA,QAAIy1B,MAAMY,OAAO7yB,MAAjB;AACA,QAAIpC,CAAJ;AACA,SAAKA,IAAI,CAAT,EAAYA,IAAIq0B,GAAhB,EAAqBr0B,GAArB,EAA0B;AACxB,UAAI21B,YAAYP,WAAWp1B,CAAX,EAAcC,IAAd,CAAmBg1B,OAAOj1B,CAAP,CAAnB,CAAhB;AACA21B,gBAAU,GAAV,KAAkBF,OAAO,GAAP,CAAlB;AACAE,gBAAU,GAAV,KAAkBF,OAAO,GAAP,CAAlB;AACA,UAAI72B,UAAU,CAAd,EAAiB;AACf+2B,kBAAUxB,MAAV,CAAiBv1B,KAAjB;AACD;AACF;AACD;AACA,SAAKoB,IAAI,CAAT,EAAYA,IAAIq0B,GAAhB,EAAqBr0B,GAArB,EAA0B;AACxB,UAAI41B,KAAKR,WAAWp1B,CAAX,CAAT;AACA,UAAI61B,KAAK71B,IAAIq0B,MAAM,CAAV,GAAce,WAAWp1B,IAAI,CAAf,CAAd,GAAkCo1B,WAAW,CAAX,CAA3C;AACA,UAAIpH,IAAIqH,MAAMr1B,CAAN,EAASC,IAAT,CAAc41B,EAAd,EAAkBvB,GAAlB,CAAsBsB,EAAtB,CAAR;AACAN,cAAQt1B,CAAR,EAAWC,IAAX,CAAgB+tB,CAAhB,EAAmBkG,IAAnB,GAA0BloB,SAA1B;AACD;AACD,WAAO,IAAP;AACD,GAlCD;;AAqCA;AACA;AACA;AACA;AACA;;;AAGA+nB,UAAQ7mB,SAAR,CAAkB,SAAlB,IAA+B6mB,QAAQ7mB,SAAR,CAAkB6nB,OAAlB,GAA4B,YAAW;AACpE,QAAIE,SAAS,KAAK,YAAL,CAAb;AACA,QAAIZ,MAAMY,OAAO7yB,MAAjB;AACA,QAAI0zB,OAAOb,OAAO,CAAP,EAAU,GAAV,CAAX;AACA,QAAIc,OAAOd,OAAO,CAAP,EAAU,GAAV,CAAX;AACA,QAAIe,OAAOf,OAAO,CAAP,EAAU,GAAV,CAAX;AACA,QAAIgB,OAAOhB,OAAO,CAAP,EAAU,GAAV,CAAX;AACA,SAAK,IAAIj1B,IAAI,CAAb,EAAgBA,IAAIq0B,GAApB,EAAyBr0B,GAAzB,EAA8B;AAC5B,UAAIk2B,QAAQjB,OAAOj1B,CAAP,CAAZ;AACA,UAAIk2B,MAAM,GAAN,IAAaJ,IAAjB,EAAuB;AACrBA,eAAOI,MAAM,GAAN,CAAP;AACD,OAFD,MAGK,IAAIA,MAAM,GAAN,IAAaF,IAAjB,EAAuB;AAC1BA,eAAOE,MAAM,GAAN,CAAP;AACD;AACD,UAAIA,MAAM,GAAN,IAAaH,IAAjB,EAAuB;AACrBA,eAAOG,MAAM,GAAN,CAAP;AACD,OAFD,MAGK,IAAIA,MAAM,GAAN,IAAaD,IAAjB,EAAuB;AAC1BA,eAAOC,MAAM,GAAN,CAAP;AACD;AACF;AACD,WAAO,IAAIlF,GAAJ,CAAQ,KAAK,KAAL,EAAYtc,KAAZ,GAAoBhD,GAApB,CAAwB,IAAIuf,MAAJ,CAAW6E,IAAX,EAAiBC,IAAjB,CAAxB,CAAR,EAAyDC,OAAOF,IAAhE,EAAsEG,OAAOF,IAA7E,EAAmF7E,SAAnF,EAAP;AACD,GAvBD;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA6C,UAAQ7mB,SAAR,CAAkB,aAAlB,IAAmC6mB,QAAQ7mB,SAAR,CAAkBipB,WAAlB,GAAgC,YAAW;AAC5E,QAAIlB,SAAS,KAAK,YAAL,CAAb;AACA,QAAIZ,MAAMY,OAAO7yB,MAAjB;AACA,QAAIg0B,KAAK,CAAT;AACA,QAAIC,KAAK,CAAT;AACA,QAAIC,KAAK,CAAT;AACA,SAAK,IAAIt2B,IAAI,CAAb,EAAgBA,IAAIq0B,GAApB,EAAyBr0B,GAAzB,EAA8B;AAC5B,UAAI41B,KAAKX,OAAOj1B,CAAP,CAAT;AACA,UAAI61B,KAAK71B,MAAMq0B,MAAM,CAAZ,GAAgBY,OAAO,CAAP,CAAhB,GAA4BA,OAAOj1B,IAAE,CAAT,CAArC,CAF4B,CAEsB;AAClD,UAAI8F,IAAI8vB,GAAG,GAAH,IAAUC,GAAG,GAAH,CAAV,GAAoBA,GAAG,GAAH,IAAUD,GAAG,GAAH,CAAtC;AACAQ,YAAM,CAACR,GAAG,GAAH,IAAUC,GAAG,GAAH,CAAX,IAAsB/vB,CAA5B;AACAuwB,YAAM,CAACT,GAAG,GAAH,IAAUC,GAAG,GAAH,CAAX,IAAsB/vB,CAA5B;AACAwwB,YAAMxwB,CAAN;AACD;AACDwwB,SAAKA,KAAK,CAAV,CAd4E,CAc/D;AACbF,SAAKA,KAAKE,EAAV;AACAD,SAAKA,KAAKC,EAAV;AACA,WAAO,IAAIrF,MAAJ,CAAWmF,EAAX,EAAeC,EAAf,CAAP;AACD,GAlBD;;AAqBA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;;;;AAMA,WAASrF,GAAT,CAAaK,GAAb,EAAkB5F,CAAlB,EAAqBJ,CAArB,EAAwB;AACtB,SAAK,KAAL,IAAcgG,OAAO,IAAIJ,MAAJ,EAArB;AACA,SAAK,GAAL,IAAYxF,KAAK,CAAjB;AACA,SAAK,GAAL,IAAYJ,KAAK,CAAjB;AACD;AACD0F,MAAI,KAAJ,IAAaC,GAAb;;AAEA;AACA;;;AAGAA,MAAI9jB,SAAJ,CAAc,WAAd,IAA6B8jB,IAAI9jB,SAAJ,CAAcgkB,SAAd,GAA0B,YAAW;AAChE,QAAIG,MAAM,KAAK,KAAL,CAAV;AACA,QAAI5F,IAAI,KAAK,GAAL,CAAR;AACA,QAAIJ,IAAI,KAAK,GAAL,CAAR;AACA,WAAO,IAAI0I,OAAJ,CAAY,IAAI9C,MAAJ,CAAWI,IAAI,GAAJ,CAAX,EAAqBA,IAAI,GAAJ,CAArB,CAAZ,EAA4C,CAClD,IAAIJ,MAAJ,EADkD,EACpC,IAAIA,MAAJ,CAAWxF,CAAX,EAAc,CAAd,CADoC,EAElD,IAAIwF,MAAJ,CAAWxF,CAAX,EAAaJ,CAAb,CAFkD,EAEjC,IAAI4F,MAAJ,CAAW,CAAX,EAAa5F,CAAb,CAFiC,CAA5C,CAAP;AAID,GARD;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,WAASkL,QAAT,GAAoB;AAClB,SAAK,GAAL,IAAY,IAAZ;AACA,SAAK,GAAL,IAAY,IAAZ;AACA,SAAK,UAAL,IAAmB,IAAItF,MAAJ,EAAnB;AACA,SAAK,UAAL,IAAmB,IAAIA,MAAJ,EAAnB;AACA,SAAKpM,KAAL;AACD;AACDkM,MAAI,UAAJ,IAAkBwF,QAAlB;;AAEA;AACA;AACA;AACA;;;AAGAA,WAASrpB,SAAT,CAAmB,OAAnB,IAA8BqpB,SAASrpB,SAAT,CAAmB2X,KAAnB,GAA2B,YAAW;AAClE,SAAK,MAAL,IAAe,IAAf;AACA,SAAK,MAAL,IAAe,IAAf;AACA,SAAK,SAAL,IAAkB5P,OAAO+K,SAAzB;AACA,WAAO,IAAP;AACD,GALD;;AAOA;;AAEA;AACA;AACA;;;AAGA,MAAIwW,YAAY,EAAhB;AACA,OAAK,IAAIx2B,IAAI,CAAb,EAAgBA,IAAI,EAApB,EAAwBA,GAAxB,EAA6B;AAAEw2B,cAAUnlB,IAAV,CAAe,IAAI4f,MAAJ,EAAf;AAA+B;;AAE9D;AACA;AACA;;;AAGA,MAAIwF,WAAW,EAAf;AACA,OAAK,IAAIz2B,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,GAAvB,EAA4B;AAAEy2B,aAASplB,IAAT,CAAc,EAAd;AAAoB;;AAElD;AACA;;;AAGA,MAAIqlB,aAAa,IAAIH,QAAJ,EAAjB;;AAEA;AACA;;;AAGA,MAAII,aAAa,IAAI3F,GAAJ,CAAQ,IAAIC,MAAJ,EAAR,EAAsB,QAAtB,EAAgC,QAAhC,EAA0CC,SAA1C,EAAjB;;AAEA;;AAEA;AACA;AACA;AACA;;;;;;;AAOA,WAAS0F,eAAT,CAAyB3B,MAAzB,EAAiC4B,MAAjC,EAAyC1iB,MAAzC,EAAiD;AAC/C,QAAIuN,MAAMzM,OAAO+K,SAAjB;AACA,QAAIuC,MAAM,CAACtN,OAAO+K,SAAlB;AACA,QAAIqU,MAAMY,OAAO7yB,MAAjB;AACA,SAAK,IAAIpC,IAAI,CAAb,EAAgBA,IAAIq0B,GAApB,EAAyBr0B,GAAzB,EAA+B;AAC7B;AACA,UAAIy0B,MAAMQ,OAAOj1B,CAAP,EAAUy0B,GAAV,CAAcoC,MAAd,CAAV;AACA,UAAIpC,MAAM/S,GAAV,EAAe;AAAEA,cAAM+S,GAAN;AAAY;AAC7B,UAAIA,MAAMlS,GAAV,EAAe;AAAEA,cAAMkS,GAAN;AAAY;AAC9B;AACDtgB,WAAO,CAAP,IAAYuN,GAAZ,CAAiBvN,OAAO,CAAP,IAAYoO,GAAZ;AAClB;;AAED;AACA;AACA;;;;;;;;;;;;;AAaA,WAASuU,gBAAT,CAA0BC,IAA1B,EAAgCC,IAAhC,EAAsCC,OAAtC,EAA+CC,OAA/C,EAAwDrC,IAAxD,EAA8DsC,QAA9D,EAAwE;AACtE,QAAIC,SAASX,SAAS/d,GAAT,EAAb;AACA,QAAI2e,SAASZ,SAAS/d,GAAT,EAAb;AACA;AACA,QAAI4e,UAAUd,UAAU9d,GAAV,GAAgBzY,IAAhB,CAAqB+2B,IAArB,EAA2B1C,GAA3B,CAA+ByC,IAA/B,CAAd;AACA,QAAIQ,kBAAkBD,QAAQ7C,GAAR,CAAYI,IAAZ,CAAtB;AACA;AACA+B,oBAAgBK,OAAhB,EAAyBpC,IAAzB,EAA+BuC,MAA/B;AACAR,oBAAgBM,OAAhB,EAAyBrC,IAAzB,EAA+BwC,MAA/B;AACA;AACAA,WAAO,CAAP,KAAaE,eAAb;AACAF,WAAO,CAAP,KAAaE,eAAb;AACA;AACA,QAAIH,OAAO,CAAP,IAAYC,OAAO,CAAP,CAAZ,IAAyBA,OAAO,CAAP,IAAYD,OAAO,CAAP,CAAzC,EAAoD;AAClDZ,gBAAUnlB,IAAV,CAAeimB,OAAf;AACAb,eAASplB,IAAT,CAAc+lB,MAAd;AACAX,eAASplB,IAAT,CAAcgmB,MAAd;AACA,aAAO,IAAP;AACD;AACD;AACA,QAAIF,QAAJ,EAAc;AACZ,UAAIK,UAAU,CAAd;AACA;AACA,UAAIJ,OAAO,CAAP,IAAYC,OAAO,CAAP,CAAhB,EAA2B;AACzBF,iBAAS,MAAT,IAAmB,KAAnB;AACA;AACA,YAAIC,OAAO,CAAP,IAAYC,OAAO,CAAP,CAAhB,EAA2B;AACzBG,oBAAUJ,OAAO,CAAP,IAAYC,OAAO,CAAP,CAAtB;AACAF,mBAAS,MAAT,IAAmB,KAAnB;AACF;AACC,SAJD,MAIO;AACL,cAAIM,UAAUL,OAAO,CAAP,IAAYC,OAAO,CAAP,CAA1B;AACA,cAAIK,UAAUL,OAAO,CAAP,IAAYD,OAAO,CAAP,CAA1B;AACAI,oBAAUC,UAAUC,OAAV,GAAoBD,OAApB,GAA8B,CAACC,OAAzC;AACD;AACH;AACC,OAbD,MAaO;AACLP,iBAAS,MAAT,IAAmB,KAAnB;AACA;AACA,YAAIC,OAAO,CAAP,IAAYC,OAAO,CAAP,CAAhB,EAA2B;AACzBG,oBAAUJ,OAAO,CAAP,IAAYC,OAAO,CAAP,CAAtB;AACAF,mBAAS,MAAT,IAAmB,KAAnB;AACF;AACC,SAJD,MAIO;AACL,cAAIM,UAAUL,OAAO,CAAP,IAAYC,OAAO,CAAP,CAA1B;AACA,cAAIK,UAAUL,OAAO,CAAP,IAAYD,OAAO,CAAP,CAA1B;AACAI,oBAAUC,UAAUC,OAAV,GAAoBD,OAApB,GAA8B,CAACC,OAAzC;AACD;AACF;AACD;AACA,UAAIC,aAAa74B,KAAK84B,GAAL,CAASJ,OAAT,CAAjB;AACA,UAAIG,aAAaR,SAAS,SAAT,CAAjB,EAAsC;AACpCA,iBAAS,SAAT,IAAsBQ,UAAtB;AACAR,iBAAS,UAAT,EAAqBl3B,IAArB,CAA0B40B,IAA1B;AACA,YAAI2C,UAAU,CAAd,EAAiB;AACfL,mBAAS,UAAT,EAAqB/C,OAArB;AACD;AACF;AACF;AACDoC,cAAUnlB,IAAV,CAAeimB,OAAf;AACAb,aAASplB,IAAT,CAAc+lB,MAAd;AACAX,aAASplB,IAAT,CAAcgmB,MAAd;AACA,WAAO,KAAP;AACD;AACDtG,MAAI,kBAAJ,IAA0B+F,gBAA1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA,WAASe,aAAT,CAAuBC,IAAvB,EAA6B5B,KAA7B,EAAoC;AAClC,QAAIxB,OAAOoD,KAAKpD,IAAL,EAAX;AACA,QAAIqD,KAAK7B,MAAMzB,GAAN,CAAUqD,IAAV,CAAT;AACA;AACA;AACA,QAAIC,KAAK,CAAT,EAAY;AAAE,aAAOC,mBAAP;AAA6B;AAC3C;AACA;AAFA,SAGK,IAAID,KAAKrD,IAAT,EAAe;AAAE,eAAOuD,oBAAP;AAA8B;AACpD;AADK,WAEA;AAAE,iBAAOC,qBAAP;AAA+B;AACvC;AACD;AACA;;;AAGA,MAAIF,sBAAsB,CAAC,CAA3B;AACA;;;AAGA,MAAIE,wBAAwB,CAA5B;AACA;;;AAGA,MAAID,uBAAuB,CAA3B;;AAEA;;AAEA;AACA;;;;;AAKA,WAASE,aAAT,CAAuB1tB,CAAvB,EAA0B8Y,CAA1B,EAA6B;AAC3B,QAAI6U,cAAc5B,UAAU9d,GAAV,GAAgBzY,IAAhB,CAAqBwK,CAArB,EAAwB6pB,GAAxB,CAA4B/Q,EAAE,KAAF,CAA5B,CAAlB;AACA,QAAI8U,WAAW9U,EAAE,GAAF,IAASA,EAAE,GAAF,CAAxB;AACA,QAAI+U,aAAaF,YAAY1D,IAAZ,EAAjB;AACA8B,cAAUnlB,IAAV,CAAe+mB,WAAf;AACA;AACA,WAAOE,cAAcD,QAArB;AACD;AACDtH,MAAI,eAAJ,IAAuBoH,aAAvB;;AAEA;AACA;;;;;AAKA,WAASI,cAAT,CAAwB9tB,CAAxB,EAA2B+tB,IAA3B,EAAiC;AAC/B7B,eAAW,KAAX,EAAkB12B,IAAlB,CAAuBwK,CAAvB;AACAisB,eAAW7R,KAAX;AACA,QAAI1Q,SAASskB,mBAAmB9B,UAAnB,EAA+B6B,IAA/B,EAAqC9B,UAArC,CAAb;AACA,QAAIviB,MAAJ,EAAY;AACVA,eAASuiB,WAAW,MAAX,CAAT;AACD;AACD,WAAOviB,MAAP;AACD;AACD4c,MAAI,gBAAJ,IAAwBwH,cAAxB;;AAEA;AACA;;;;;;;AAOA,WAAS5G,gBAAT,CAA0B7rB,CAA1B,EAA6BC,CAA7B,EAAgCoxB,QAAhC,EAA0C;AACxC;AACA;AACA,QAAIiB,cAAc5B,UAAU9d,GAAV,GAAgBzY,IAAhB,CAAqB8F,EAAE,KAAF,CAArB,EAA+BuuB,GAA/B,CAAmCxuB,EAAE,KAAF,CAAnC,CAAlB;AACA,QAAI4yB,cAAc5yB,EAAE,GAAF,IAASC,EAAE,GAAF,CAA3B;AACA,QAAI4yB,gBAAgBD,cAAcA,WAAlC;AACA,QAAIJ,aAAaF,YAAY1D,IAAZ,EAAjB;AACA;AACA,QAAI4D,aAAaK,aAAjB,EAAgC;AAC9BnC,gBAAUnlB,IAAV,CAAe+mB,WAAf;AACA,aAAO,KAAP;AACD;AACD;AACA,QAAIjB,QAAJ,EAAc;AACZ,UAAIyB,OAAO95B,KAAK0qB,IAAL,CAAU8O,UAAV,CAAX;AACAnB,eAAS,GAAT,IAAgBrxB,CAAhB;AACAqxB,eAAS,GAAT,IAAgBpxB,CAAhB;AACAoxB,eAAS,SAAT,IAAsBuB,cAAcE,IAApC;AACAzB,eAAS,UAAT,EAAqBl3B,IAArB,CAA0Bm4B,YAAYpsB,SAAZ,EAA1B;AACAmrB,eAAS,UAAT,EAAqBl3B,IAArB,CAA0Bm4B,WAA1B,EAAuCzxB,KAAvC,CAA6CwwB,SAAS,SAAT,CAA7C;AACAA,eAAS,MAAT,IAAkBrxB,EAAE,GAAF,KAAUC,EAAE,GAAF,CAAV,IAAoB6yB,QAAQ7yB,EAAE,GAAF,IAASD,EAAE,GAAF,CAAvD;AACAqxB,eAAS,MAAT,IAAmBpxB,EAAE,GAAF,KAAUD,EAAE,GAAF,CAAV,IAAoB8yB,QAAQ9yB,EAAE,GAAF,IAASC,EAAE,GAAF,CAAxD;AACD;AACDywB,cAAUnlB,IAAV,CAAe+mB,WAAf;AACA,WAAO,IAAP;AACD;AACDrH,MAAI,kBAAJ,IAA0BY,gBAA1B;;AAEA;AACA;;;;;;;AAOA,WAASa,iBAAT,CAA2BqG,OAA3B,EAAoCC,MAApC,EAA4C3B,QAA5C,EAAsD;AACpD;AACA,QAAI4B,YAAYvC,UAAU9d,GAAV,GAAgBzY,IAAhB,CAAqB64B,OAAO,KAAP,CAArB,EAAoCxE,GAApC,CAAwCuE,QAAQ,KAAR,CAAxC,CAAhB;AACA,QAAIG,SAASF,OAAO,GAAP,CAAb;AACA,QAAIG,UAAUD,SAASA,MAAvB;AACA,QAAI/D,SAAS4D,QAAQ,YAAR,CAAb;AACA,QAAIxE,MAAMY,OAAO7yB,MAAjB;AACA,QAAI82B,OAAO1C,UAAU9d,GAAV,EAAX;AACA,QAAIwd,QAAQM,UAAU9d,GAAV,EAAZ;;AAEA;AACA,SAAK,IAAI1Y,IAAI,CAAb,EAAgBA,IAAIq0B,GAApB,EAAyBr0B,GAAzB,EAA8B;AAC5B,UAAIyqB,OAAOzqB,MAAMq0B,MAAM,CAAZ,GAAgB,CAAhB,GAAoBr0B,IAAI,CAAnC;AACA,UAAIm5B,OAAOn5B,MAAM,CAAN,GAAUq0B,MAAM,CAAhB,GAAoBr0B,IAAI,CAAnC;AACA,UAAIw3B,UAAU,CAAd;AACA,UAAI4B,WAAW,IAAf;;AAEA;AACAF,WAAKj5B,IAAL,CAAU44B,QAAQ,OAAR,EAAiB74B,CAAjB,CAAV;AACA;AACAk2B,YAAMj2B,IAAN,CAAW84B,SAAX,EAAsBzE,GAAtB,CAA0BW,OAAOj1B,CAAP,CAA1B;;AAEA;AACA;AACA;AACA,UAAIm3B,YAAYjB,MAAMxB,IAAN,KAAeuE,OAA/B,EAAwC;AACtC9B,iBAAS,MAAT,IAAmB,KAAnB;AACD;;AAED;AACA,UAAIkC,SAASxB,cAAcqB,IAAd,EAAoBhD,KAApB,CAAb;AACA;AACA,UAAImD,WAAWrB,mBAAf,EAAoC;AAClC;AACAkB,aAAKj5B,IAAL,CAAU44B,QAAQ,OAAR,EAAiBM,IAAjB,CAAV;AACA;AACA,YAAIG,SAAS9C,UAAU9d,GAAV,GAAgBzY,IAAhB,CAAqB84B,SAArB,EAAgCzE,GAAhC,CAAoCW,OAAOkE,IAAP,CAApC,CAAb;AACAE,iBAASxB,cAAcqB,IAAd,EAAoBI,MAApB,CAAT;AACA,YAAID,WAAWpB,oBAAf,EAAqC;AACnC;AACA,cAAIW,OAAO1C,MAAM7B,GAAN,EAAX;AACA,cAAIuE,OAAOI,MAAX,EAAmB;AACjB;AACAxC,sBAAUnlB,IAAV,CAAe0nB,SAAf;AACAvC,sBAAUnlB,IAAV,CAAe6nB,IAAf;AACA1C,sBAAUnlB,IAAV,CAAe6kB,KAAf;AACAM,sBAAUnlB,IAAV,CAAeioB,MAAf;AACA,mBAAO,KAAP;AACD,WAPD,MAOO,IAAInC,QAAJ,EAAc;AACnB;AACAA,qBAAS,MAAT,IAAmB,KAAnB;AACAiC,uBAAWlD,MAAMlqB,SAAN,EAAX;AACAwrB,sBAAUwB,SAASJ,IAAnB;AACD;AACF;AACDpC,kBAAUnlB,IAAV,CAAeioB,MAAf;AACF;AACC,OAzBD,MAyBO,IAAID,WAAWpB,oBAAf,EAAqC;AAC1C;AACAiB,aAAKj5B,IAAL,CAAU44B,QAAQ,OAAR,EAAiBpO,IAAjB,CAAV;AACA;AACAyL,cAAMj2B,IAAN,CAAW84B,SAAX,EAAsBzE,GAAtB,CAA0BW,OAAOxK,IAAP,CAA1B;AACA4O,iBAASxB,cAAcqB,IAAd,EAAoBhD,KAApB,CAAT;AACA,YAAImD,WAAWrB,mBAAf,EAAoC;AAClC;AACA,cAAIY,OAAO1C,MAAM7B,GAAN,EAAX;AACA,cAAIuE,OAAOI,MAAX,EAAmB;AACjB;AACAxC,sBAAUnlB,IAAV,CAAe0nB,SAAf;AACAvC,sBAAUnlB,IAAV,CAAe6nB,IAAf;AACA1C,sBAAUnlB,IAAV,CAAe6kB,KAAf;AACA,mBAAO,KAAP;AACD,WAND,MAMO,IAAIiB,QAAJ,EAAc;AACnB;AACAA,qBAAS,MAAT,IAAmB,KAAnB;AACAiC,uBAAWlD,MAAMlqB,SAAN,EAAX;AACAwrB,sBAAUwB,SAASJ,IAAnB;AACD;AACF;AACH;AACC,OAvBM,MAuBA;AACL;AACA;AACA,YAAI/B,SAASqC,KAAKhF,IAAL,GAAYloB,SAAZ,EAAb;AACA;AACA;AACA,YAAI4sB,OAAO1C,MAAMzB,GAAN,CAAUoC,MAAV,CAAX;AACA,YAAI0C,UAAUz6B,KAAK84B,GAAL,CAASgB,IAAT,CAAd;AACA;AACA,YAAIA,OAAO,CAAP,IAAYW,UAAUP,MAA1B,EAAkC;AAChC;AACAxC,oBAAUnlB,IAAV,CAAe0nB,SAAf;AACAvC,oBAAUnlB,IAAV,CAAewlB,MAAf;AACAL,oBAAUnlB,IAAV,CAAe6kB,KAAf;AACA,iBAAO,KAAP;AACD,SAND,MAMO,IAAIiB,QAAJ,EAAc;AACnB;AACAiC,qBAAWvC,MAAX;AACAW,oBAAUwB,SAASJ,IAAnB;AACA;AACA;AACA,cAAIA,QAAQ,CAAR,IAAapB,UAAU,IAAIwB,MAA/B,EAAuC;AACrC7B,qBAAS,MAAT,IAAmB,KAAnB;AACD;AACF;AACF;;AAED;AACA;AACA,UAAIiC,YAAYjC,QAAZ,IAAwBr4B,KAAK84B,GAAL,CAASJ,OAAT,IAAoB14B,KAAK84B,GAAL,CAAST,SAAS,SAAT,CAAT,CAAhD,EAA+E;AAC7EA,iBAAS,SAAT,IAAsBK,OAAtB;AACAL,iBAAS,UAAT,EAAqBl3B,IAArB,CAA0Bm5B,QAA1B;AACD;AACF;;AAED;AACA,QAAIjC,QAAJ,EAAc;AACZA,eAAS,GAAT,IAAgB0B,OAAhB;AACA1B,eAAS,GAAT,IAAgB2B,MAAhB;AACA3B,eAAS,UAAT,EAAqBl3B,IAArB,CAA0Bk3B,SAAS,UAAT,CAA1B,EAAgDxwB,KAAhD,CAAsDwwB,SAAS,SAAT,CAAtD;AACD;AACDX,cAAUnlB,IAAV,CAAe0nB,SAAf;AACAvC,cAAUnlB,IAAV,CAAe6nB,IAAf;AACA1C,cAAUnlB,IAAV,CAAe6kB,KAAf;AACA,WAAO,IAAP;AACD;AACDnF,MAAI,mBAAJ,IAA2ByB,iBAA3B;;AAEA;AACA;AACA;AACA;AACA;;;;;;;AAOA,WAAShB,iBAAT,CAA2BsH,MAA3B,EAAmCD,OAAnC,EAA4C1B,QAA5C,EAAsD;AACpD;AACA,QAAIhjB,SAASqe,kBAAkBqG,OAAlB,EAA2BC,MAA3B,EAAmC3B,QAAnC,CAAb;AACA,QAAIhjB,UAAUgjB,QAAd,EAAwB;AACtB;AACA,UAAIrxB,IAAIqxB,SAAS,GAAT,CAAR;AACA,UAAIqC,OAAOrC,SAAS,MAAT,CAAX;AACAA,eAAS,UAAT,EAAqB/C,OAArB;AACA+C,eAAS,UAAT,EAAqB/C,OAArB;AACA+C,eAAS,GAAT,IAAgBA,SAAS,GAAT,CAAhB;AACAA,eAAS,GAAT,IAAgBrxB,CAAhB;AACAqxB,eAAS,MAAT,IAAmBA,SAAS,MAAT,CAAnB;AACAA,eAAS,MAAT,IAAmBqC,IAAnB;AACD;AACD,WAAOrlB,MAAP;AACD;AACD4c,MAAI,mBAAJ,IAA2BS,iBAA3B;;AAEA;AACA;;;;;;;AAOA,WAASiH,kBAAT,CAA4B3yB,CAA5B,EAA+BC,CAA/B,EAAkCoxB,QAAlC,EAA4C;AAC1C,QAAIF,UAAUnxB,EAAE,YAAF,CAAd;AACA,QAAI2zB,OAAOxC,QAAQ70B,MAAnB;AACA,QAAI80B,UAAUnxB,EAAE,YAAF,CAAd;AACA,QAAI2zB,OAAOxC,QAAQ90B,MAAnB;AACA;AACA,SAAK,IAAIpC,IAAI,CAAb,EAAgBA,IAAIy5B,IAApB,EAA0Bz5B,GAA1B,EAA+B;AAC7B,UAAI82B,iBAAiBhxB,EAAE,KAAF,CAAjB,EAA2BC,EAAE,KAAF,CAA3B,EAAqCkxB,OAArC,EAA8CC,OAA9C,EAAuDpxB,EAAE,SAAF,EAAa9F,CAAb,CAAvD,EAAwEm3B,QAAxE,CAAJ,EAAuF;AACrF,eAAO,KAAP;AACD;AACF;AACD;AACA,SAAK,IAAIn3B,IAAI,CAAb,EAAeA,IAAI05B,IAAnB,EAAyB15B,GAAzB,EAA8B;AAC5B,UAAI82B,iBAAiBhxB,EAAE,KAAF,CAAjB,EAA2BC,EAAE,KAAF,CAA3B,EAAqCkxB,OAArC,EAA8CC,OAA9C,EAAuDnxB,EAAE,SAAF,EAAa/F,CAAb,CAAvD,EAAwEm3B,QAAxE,CAAJ,EAAuF;AACrF,eAAO,KAAP;AACD;AACF;AACD;AACA;AACA;AACA,QAAIA,QAAJ,EAAc;AACZA,eAAS,GAAT,IAAgBrxB,CAAhB;AACAqxB,eAAS,GAAT,IAAgBpxB,CAAhB;AACAoxB,eAAS,UAAT,EAAqBl3B,IAArB,CAA0Bk3B,SAAS,UAAT,CAA1B,EAAgDxwB,KAAhD,CAAsDwwB,SAAS,SAAT,CAAtD;AACD;AACD,WAAO,IAAP;AACD;AACDpG,MAAI,oBAAJ,IAA4B0H,kBAA5B;;AAEA,SAAO1H,GAAP;AACD,CA/9BA,CAAD,C;;;;;;;ACzBa;;;;;;;;;;AAEb;;;;;;;;IAEqBhM,S;AAEnB,qBAAYlW,IAAZ,EAAkBgT,YAAlB,EAAgC;AAAA;;AAC9B,QAAG,CAAChT,IAAJ,EAAU,MAAM,kBAAN;AACV,QAAG,CAACgT,YAAJ,EAAkB,MAAM,0BAAN;AAClB,SAAK8X,KAAL,GAAa9qB,IAAb;AACA,SAAK+qB,SAAL,GAAiB,IAAjB;AACA,SAAKC,kBAAL,GAA0B,CAA1B;AACA,SAAKC,0BAAL,GAAkC,IAAlC;AACA,SAAKC,4BAAL,GAAoC,IAApC;AACA,SAAKC,2BAAL,GAAmC,IAAnC;AACA,SAAKC,cAAL,GAAsB,EAAtB;AACA,SAAKC,qBAAL,GAA6B,EAA7B;AACA,SAAKC,sBAAL,GAA8B,EAA9B;AACA,SAAKC,sBAAL,GAA8B,IAA9B;AACA,SAAKC,aAAL,GAAqBxY,YAArB;AACA,SAAKyY,QAAL,GAAgB,KAAhB;AACA,SAAKC,YAAL,GAAoB;AAClBC,gBAAU,CADQ;AAElBC,aAAO,CAFW;AAGlBC,YAAM,CAHY;AAIlBC,kBAAY,CAJM;AAKlBC,gBAAU,CALQ;AAMlBC,aAAO,CANW;AAOlBC,cAAQ,EAPU;AAQlBC,aAAO;AARW,KAApB;AAUD;;;;uCAEkBxwB,C,EAAG;AACpB,WAAK6vB,sBAAL,GAA8B7vB,CAA9B;AACD;;;iCAUYoY,Q,EAAU;AACrB,WAAKuX,qBAAL,CAA2B7oB,IAA3B,CAAgCsR,QAAhC;AACD;;;kCAEaA,Q,EAAU;AACtB,WAAKqY,uBAAL,CAA6B3pB,IAA7B,CAAkCsR,QAAlC;AACD;;;iCAEYlP,G,EAAK;AAChB,UAAG,CAACA,IAAItF,OAAR,EAAiB,OAAO,SAAP;AACjB,UAAI8sB,MAAMxnB,IAAItF,OAAd;AACA,UAAGsF,IAAIynB,MAAP,EAAe;AACbD,cAAM,WAAWxnB,IAAIynB,MAAf,GAAwB,IAAxB,GAA+BD,GAArC;AACD;AACD,aAAOA,GAAP;AACD;;;6BAEQnoB,I,EAAM7J,O,EAASkyB,M,EAAQ;AAC9B,UAAG,OAAOroB,IAAP,IAAe,QAAlB,EAA4B,MAAM,qCAAqCA,IAArC,yCAAqCA,IAArC,KAA6C,SAAnD;AAC5B,UAAG,OAAO7J,OAAP,IAAkB,UAArB,EAAiC,MAAM,mDAAmDA,OAAnD,yCAAmDA,OAAnD,KAA8D,SAApE;AACjC,UAAG,OAAOkyB,MAAP,IAAiB,UAApB,EAAgC,MAAM,kDAAkDA,MAAlD,yCAAkDA,MAAlD,KAA4D,SAAlE;AAChC,UAAI5uB,OAAO,IAAX;AACAA,WAAKqtB,SAAL,GAAiBrtB,KAAK6uB,aAAL,CAAmB,KAAKf,aAAxB,CAAjB;AACA9tB,WAAKqtB,SAAL,CAAeyB,OAAf,GAAyB,UAAC5nB,GAAD,EAAS;AAChCiC,gBAAQuL,KAAR,CAAcxN,GAAd;AACA,YAAGlH,KAAKytB,2BAAR,EAAqC;AACnCztB,eAAKytB,2BAAL,CAAiC;AAC/B7rB,qBAAS,oBAAoB5B,KAAKotB,KAAL,CAAW3yB,QAA/B,GAA0C,uBAA1C,GAAoEuF,KAAK+uB,YAAL,CAAkB7nB,GAAlB,CAD9C;AAE/B8nB,+BAAmB,KAFY;AAG/B/lB,sBAAUjJ,KAAKotB,KAAL,CAAWxqB,IAHU;AAI/BqsB,oBAAQjvB,KAAKotB,KAAL,CAAW5uB;AAJY,WAAjC;AAMAwB,eAAKwtB,4BAAL,GAAoC,IAApC;AACAxtB,eAAKytB,2BAAL,GAAmC,IAAnC;AACD;AACF,OAZD;;AAcA,UAAGztB,KAAKutB,0BAAR,EAAoC;AAClCpZ,sBAAcnU,KAAKutB,0BAAnB;AACAvtB,aAAKutB,0BAAL,GAAkC,IAAlC;AACD;;AAEDvtB,WAAKutB,0BAAL,GAAkClZ,YAAY,YAAM;AAClD,YAAGrU,KAAKytB,2BAAR,EAAqC;AACnC,cAAIyB,MAAO,IAAIluB,IAAJ,EAAD,CAAaE,OAAb,EAAV;AACA,cAAIgU,KAAKga,MAAMlvB,KAAKstB,kBAApB;AACA,cAAGpY,KAAKlV,KAAK6tB,sBAAb,EAAqC;AACnC1Z,0BAAcnU,KAAKutB,0BAAnB;AACAvtB,iBAAKutB,0BAAL,GAAkC,IAAlC;AACAvtB,iBAAKytB,2BAAL,CAAiC;AAC/B7rB,uBAAS,4CAA4C5B,KAAKotB,KAAL,CAAWxqB,IAAvD,GAA8D,IAA9D,GAAqE5C,KAAKotB,KAAL,CAAW5uB,EAAhF,GAAqF,mBAD/D;AAE/BwwB,iCAAmB,IAFY;AAG/B/lB,wBAAUjJ,KAAKotB,KAAL,CAAWxqB,IAHU;AAI/BqsB,sBAAQjvB,KAAKotB,KAAL,CAAW5uB;AAJY,aAAjC;AAMD;AACF;AACF,OAfiC,EAe/BjM,KAAKyjB,GAAL,CAAShW,KAAK8tB,aAAL,CAAmBvmB,cAA5B,EAA4ChV,KAAKiW,KAAL,CAAWxI,KAAK6tB,sBAAL,GAA4B,CAAvC,CAA5C,CAf+B,CAAlC;;AAiBA7tB,WAAKqtB,SAAL,CAAe8B,SAAf,GAA2B,UAACC,YAAD,EAAkB;AAC3C,YAAIxlB,QAAQwlB,aAAa95B,IAAzB;AACA,YAAG0K,KAAKwtB,4BAAR,EAAsC;AACpC,cAAG5jB,MAAM/O,IAAN,IAAc,MAAjB,EAAyB;AACvBmF,iBAAKqvB,cAAL,CAAoBzlB,MAAMgS,QAAN,GAAiBhS,MAAMgS,QAAvB,GAAkC,EAAtD;AACA5b,iBAAK+tB,QAAL,GAAgB,IAAhB;AACA,iBAAI,IAAIt6B,IAAE,CAAV,EAAaA,IAAIuM,KAAK2tB,qBAAL,CAA2B93B,MAA5C,EAAoDpC,GAApD;AAAyDuM,mBAAK2tB,qBAAL,CAA2Bl6B,CAA3B,EAA8B4hB,IAA9B,CAAmCrV,IAAnC;AAAzD;AACD,WAJD,MAIO;AACLA,iBAAKsvB,YAAL,CAAkB1lB,KAAlB;AACD;;AAED,cAAIwM,iBAAJ;AACA,cAAI8Y,MAAO,IAAIluB,IAAJ,EAAD,CAAaE,OAAb,EAAV;AACA,cAAIgU,KAAKga,MAAMlvB,KAAKstB,kBAApB;AACA,cAAGpY,KAAKlV,KAAK8tB,aAAL,CAAmBvmB,cAAxB,IAA0CqC,MAAM/O,IAAN,IAAc,MAA3D,EAAmE;AACjEmF,iBAAK0tB,cAAL;AACAvkB,oBAAQC,IAAR,CAAa,8BAA8BpJ,KAAKotB,KAAL,CAAWxqB,IAAzC,GAAgD,IAAhD,GAAuD5C,KAAKotB,KAAL,CAAW5uB,EAAlE,GAAuE,mBAAvE,GAA6F0W,EAA7F,GAAkG,iDAA/G;AACA,gBAAGlV,KAAK0tB,cAAL,IAAuB,CAA1B,EAA6B;AAC3BtX,yBAAWpW,KAAKytB,2BAAhB;AACAztB,mBAAKwtB,4BAAL,GAAoC,IAApC;AACAxtB,mBAAKytB,2BAAL,GAAmC,IAAnC;AACArX,uBAAS;AACPxU,yBAAS,4CAA4C5B,KAAKotB,KAAL,CAAWxqB,IAAvD,GAA8D,IAA9D,GAAqE5C,KAAKotB,KAAL,CAAW5uB,EAAhF,GAAqF,yBADvF;AAEPwwB,mCAAmB,IAFZ;AAGP/lB,0BAAUjJ,KAAKotB,KAAL,CAAWxqB,IAHd;AAIPqsB,wBAAQjvB,KAAKotB,KAAL,CAAW5uB;AAJZ,eAAT;AAMA;AACD;AACF;AACD4X,qBAAWpW,KAAKwtB,4BAAhB;AACAxtB,eAAKwtB,4BAAL,GAAoC,IAApC;AACAxtB,eAAKytB,2BAAL,GAAmC,IAAnC;AACArX;AACD;AAEF,OApCD;;AAsCA,UAAImZ,WAAW,IAAf;AACA,UAAGvvB,KAAKotB,KAAL,CAAWpkB,IAAX,IAAmBhJ,KAAKotB,KAAL,CAAWpkB,IAAX,CAAgBwmB,IAAhB,GAAuB,CAA7C,EAAgD;AAC9CD,mBAAW;AACT3sB,gBAAM5C,KAAKotB,KAAL,CAAWpkB,IAAX,CAAgBpG,IADb;AAET6sB,iBAAOzvB,KAAKotB,KAAL,CAAWpkB,IAAX,CAAgB0mB,OAAhB,CAAwBC,GAAxB,CAA4B,UAACt5B,CAAD;AAAA,mBAAOA,EAAEmI,EAAT;AAAA,WAA5B;AAFE,SAAX;AAID,OALD,MAKO;AACL+wB,mBAAW;AACT3sB,gBAAM5C,KAAKotB,KAAL,CAAW3yB,QADR;AAETg1B,iBAAO,CAACzvB,KAAKotB,KAAL,CAAW5uB,EAAZ;AAFE,SAAX;AAID;AACD,UAAIoxB,WAAW;AACbpxB,YAAIwB,KAAKotB,KAAL,CAAW5uB,EADF;AAEbwK,cAAMumB;AAFO,OAAf;AAIA,UAAGvvB,KAAK8tB,aAAL,CAAmBtmB,QAAtB,EAAgC;AAC9BooB,iBAASpoB,QAAT,GAAoBxH,KAAK8tB,aAAL,CAAmBtmB,QAAvC;AACD;AACDxH,WAAKstB,kBAAL,GAA2B,IAAItsB,IAAJ,EAAD,CAAaE,OAAb,EAA1B;AACAlB,WAAKwtB,4BAAL,GAAoC9wB,OAApC;AACAsD,WAAKytB,2BAAL,GAAmCmB,MAAnC;AACA5uB,WAAKqtB,SAAL,CAAewC,WAAf,CAA2B;AACzBC,iBAAS,MADgB;AAEzBvpB,cAAMA,OAAO,GAAP,GAAavG,KAAKotB,KAAL,CAAW5uB,EAFL;AAGzBod,kBAAU;AACRC,gBAAM;AADE,SAHe;AAMzBkU,cAAMH,QANmB;AAOzB95B,cAAMkK,KAAK8tB,aAAL,CAAmBh4B;AAPA,OAA3B;AASD;;;iCAEY;AACX,UAAG,KAAKu3B,SAAR,EAAmB;AACjB,aAAKA,SAAL,CAAe2C,SAAf;AACA,aAAK3C,SAAL,GAAiB,IAAjB;AACD;;AAED,UAAG,KAAKE,0BAAR,EAAoC;AAClCpZ,sBAAc,KAAKoZ,0BAAnB;AACA,aAAKA,0BAAL,GAAkC,IAAlC;AACD;AACD,WAAI,IAAI95B,IAAE,CAAV,EAAaA,IAAI,KAAKm6B,sBAAL,CAA4B/3B,MAA7C,EAAqDpC,GAArD;AAA0D,aAAKm6B,sBAAL,CAA4Bn6B,CAA5B,EAA+B4hB,IAA/B,CAAoC,IAApC;AAA1D;AACD;;;mCAEc3Y,O,EAASkyB,M,EAAQ;AAC9B,UAAG,OAAOlyB,OAAP,IAAkB,UAArB,EAAiC,MAAM,mDAAmDA,OAAnD,yCAAmDA,OAAnD,KAA8D,SAApE;AACjC,UAAG,OAAOkyB,MAAP,IAAiB,UAApB,EAAgC,MAAM,kDAAkDA,MAAlD,yCAAkDA,MAAlD,KAA4D,SAAlE;AAChC,UAAG,CAAC,KAAKb,QAAT,EAAmB;AACjB,cAAM,WAAW,KAAKX,KAAL,CAAW3yB,QAAtB,GAAiC,iBAAvC;AACD;AACD,UAAIuF,OAAO,IAAX;AACA,UAAGA,KAAKqtB,SAAL,IAAkBrtB,KAAKotB,KAAL,CAAW/yB,MAAX,IAAqB,CAA1C,EAA6C;AAC3C2F,aAAKqtB,SAAL,CAAe2C,SAAf;AACAhwB,aAAKqtB,SAAL,GAAiB,IAAjB;AACA3wB;AACA;AACD;;AAEDsD,WAAKstB,kBAAL,GAA2B,IAAItsB,IAAJ,EAAD,CAAaE,OAAb,EAA1B;AACAlB,WAAKwtB,4BAAL,GAAoC9wB,OAApC;AACAsD,WAAKytB,2BAAL,GAAmCmB,MAAnC;AACA5uB,WAAKqtB,SAAL,CAAewC,WAAf,CAA2B;AACzBC,iBAAS,QADgB;AAEzBvR,eAAOve,KAAKotB,KAAL,CAAW7O,KAFO;AAGzB0R,iBAASjwB,KAAKguB;AAHW,OAA3B;AAMD;;;mCAEckC,K,EAAO;AACpB,UAAItU,WAAW,EAAf;;AAEA,UAAIuU,WAAW,CAAC,OAAD,EAAU,QAAV,EAAoB,OAApB,EAA6B,OAA7B,EAAsC,QAAtC,EAAgD,MAAhD,EAAwD,OAAxD,CAAf;AACA,UAAGA,SAASlrB,OAAT,CAAiBirB,MAAMrU,IAAvB,KAAgC,CAAC,CAApC,EAAuC;AACrCD,iBAASC,IAAT,GAAgBqU,MAAMrU,IAAtB;AACD;AACD,WAAKuR,KAAL,CAAW5N,IAAX,CAAgB5D,QAAhB;AACD;;;iCAEYhS,K,EAAO;AAClB,UAAI5J,OAAO,IAAX;AACAA,WAAKguB,YAAL,CAAkBC,QAAlB,GAA6BvlB,OAAOkB,MAAMqkB,QAAb,CAA7B;AACAjuB,WAAKguB,YAAL,CAAkBG,IAAlB,GAAyBzlB,OAAOkB,MAAMukB,IAAb,CAAzB;AACAnuB,WAAKguB,YAAL,CAAkBK,QAAlB,GAA6B3lB,OAAOkB,MAAMykB,QAAb,CAA7B;AACAruB,WAAKguB,YAAL,CAAkBI,UAAlB,GAA+B1lB,OAAOkB,MAAMwkB,UAAb,CAA/B;AACApuB,WAAKguB,YAAL,CAAkBM,KAAlB,GAA0B5lB,OAAOkB,MAAM0kB,KAAb,CAA1B;AACAtuB,WAAKguB,YAAL,CAAkBQ,KAAlB,GAA0B5kB,MAAM4kB,KAAhC;AACAxuB,WAAKguB,YAAL,CAAkBE,KAAlB,GAA0BtkB,MAAMskB,KAAN,GAAc,CAAd,GAAkB,CAA5C;;AAEAluB,WAAKguB,YAAL,CAAkBC,QAAlB,GAA6B/X,MAAMlW,KAAKguB,YAAL,CAAkBC,QAAxB,IAAoC,CAApC,GAAwCjuB,KAAKguB,YAAL,CAAkBC,QAAvF;AACAjuB,WAAKguB,YAAL,CAAkBG,IAAlB,GAAyBjY,MAAMlW,KAAKguB,YAAL,CAAkBG,IAAxB,IAAgC,CAAhC,GAAoCnuB,KAAKguB,YAAL,CAAkBG,IAA/E;AACAnuB,WAAKguB,YAAL,CAAkBK,QAAlB,GAA6BnY,MAAMlW,KAAKguB,YAAL,CAAkBK,QAAxB,IAAoC,CAApC,GAAwCruB,KAAKguB,YAAL,CAAkBK,QAAvF;AACAruB,WAAKguB,YAAL,CAAkBI,UAAlB,GAA+BlY,MAAMlW,KAAKguB,YAAL,CAAkBI,UAAxB,IAAsC,CAAtC,GAA0CpuB,KAAKguB,YAAL,CAAkBI,UAA3F;AACApuB,WAAKguB,YAAL,CAAkBM,KAAlB,GAA0BpY,MAAMlW,KAAKguB,YAAL,CAAkBM,KAAxB,IAAiC,CAAjC,GAAqCtuB,KAAKguB,YAAL,CAAkBM,KAAjF;;AAEAtuB,WAAKguB,YAAL,CAAkBC,QAAlB,GAA6B17B,KAAK4iB,GAAL,CAAS,CAAT,EAAY5iB,KAAKyjB,GAAL,CAAS,CAAC,CAAV,EAAatN,OAAO1I,KAAKguB,YAAL,CAAkBC,QAAzB,CAAb,CAAZ,CAA7B;AACAjuB,WAAKguB,YAAL,CAAkBG,IAAlB,GAAyB57B,KAAK4iB,GAAL,CAAS,CAAT,EAAY5iB,KAAKyjB,GAAL,CAAS,CAAC,CAAV,EAAatN,OAAO1I,KAAKguB,YAAL,CAAkBG,IAAzB,CAAb,CAAZ,CAAzB;AACAnuB,WAAKguB,YAAL,CAAkBK,QAAlB,GAA6B97B,KAAK4iB,GAAL,CAAS,CAAT,EAAY5iB,KAAKyjB,GAAL,CAAS,CAAC,CAAV,EAAatN,OAAO1I,KAAKguB,YAAL,CAAkBK,QAAzB,CAAb,CAAZ,CAA7B;AACAruB,WAAKguB,YAAL,CAAkBI,UAAlB,GAA+B77B,KAAK4iB,GAAL,CAAS,CAAT,EAAY5iB,KAAKyjB,GAAL,CAAS,CAAC,CAAV,EAAatN,OAAO1I,KAAKguB,YAAL,CAAkBI,UAAzB,CAAb,CAAZ,CAA/B;AACApuB,WAAKguB,YAAL,CAAkBM,KAAlB,GAA0B/7B,KAAK4iB,GAAL,CAAS,CAAT,EAAY5iB,KAAKyjB,GAAL,CAAS,CAAT,EAAYtN,OAAO1I,KAAKguB,YAAL,CAAkBM,KAAzB,CAAZ,CAAZ,CAA1B;;AAEAtuB,WAAKotB,KAAL,CAAWgD,WAAX,CAAuBpwB,KAAKguB,YAAL,CAAkBC,QAAzC;AACAjuB,WAAKotB,KAAL,CAAWiD,QAAX,CAAoBrwB,KAAKguB,YAAL,CAAkBE,KAAtC;AACAluB,WAAKotB,KAAL,CAAWkD,OAAX,CAAmBtwB,KAAKguB,YAAL,CAAkBG,IAArC;AACAnuB,WAAKotB,KAAL,CAAWmD,YAAX,CAAwBvwB,KAAKguB,YAAL,CAAkBI,UAA1C;AACApuB,WAAKotB,KAAL,CAAWoD,UAAX,CAAsBxwB,KAAKguB,YAAL,CAAkBK,QAAxC;AACAruB,WAAKotB,KAAL,CAAWqD,YAAX,CAAwBzwB,KAAKguB,YAAL,CAAkBQ,KAA1C;AACA,UAAGxuB,KAAKguB,YAAL,CAAkBM,KAArB,EAA4B;AAC1BtuB,aAAKotB,KAAL,CAAWsD,KAAX,CAAiB1wB,KAAKguB,YAAL,CAAkBM,KAAnC;AACD;AACDtuB,WAAKguB,YAAL,CAAkBM,KAAlB,GAA0B,CAA1B;;AAEA,UAAItiB,WAAW,EAAf;AACA,WAAI,IAAIvY,CAAR,IAAcmW,MAAM2kB,MAApB,EAA4B;AAC1BviB,iBAASlH,IAAT,CAAciC,KAAK5I,KAAL,CAAW4I,KAAKC,SAAL,CAAe4C,MAAM2kB,MAAN,CAAa96B,CAAb,CAAf,CAAX,CAAd;AACD;;AAED,UAAGuM,KAAKotB,KAAL,CAAWpkB,IAAd,EAAoB;AAClBhJ,aAAKotB,KAAL,CAAWpkB,IAAX,CAAgB2nB,YAAhB,CAA6B3wB,KAAKotB,KAAL,CAAW5uB,EAAxC,EAA4CwN,QAA5C;AACD;;AAEDhM,WAAKguB,YAAL,CAAkBO,MAAlB,GAA2B,EAA3B;AACD;;;kCAEaqC,G,EAAK;AACjB,UAAGA,IAAItpB,UAAP,EAAmB;AACjB,eAAO,IAAIupB,MAAJ,CAAWD,IAAIE,QAAf,CAAP;AACD,OAFD,MAEO;AACL,eAAO,IAAIC,oBAAJ,EAAP;AACD;AACF;;;wBA7OU;AACT,aAAO,KAAK3D,KAAZ;AACD;;;wBAEY;AACX,aAAO,KAAKC,SAAZ;AACD;;;;;;kBAvCkB7U,S;;;;;;;;;;;;;;;;;ACJrB,IAAMwY,eAAe98B,mBAAOA,CAAC,EAAR,CAArB;;IAEM+8B,c;AACJ,4BAAc;AAAA;;AACZ,SAAKC,aAAL,GAAqB,YAAM,CAAE,CAA7B;AACA,SAAKC,aAAL,GAAqB,YAAM,CAAE,CAA7B;AACD;;;;yBAEI/a,Q,EAAU;AACb,WAAK+a,aAAL,GAAqB/a,QAArB;AACD;;;yBAEIA,Q,EAAU;AACb,WAAK8a,aAAL,GAAqB9a,QAArB;AACD;;;;;;IAGG2a,U;AAEJ,wBAAc;AAAA;;AACZ,SAAK5B,SAAL,GAAiB,UAACT,GAAD,EAAS,CAAE,CAA5B;AACA,SAAKlb,eAAL,GAAuB,GAAvB;AACA,SAAKE,eAAL,GAAuB,CAAvB;AACA,SAAK0d,eAAL,GAAuB,IAAIH,cAAJ,EAAvB;AACD;;;;gCAEWI,S,EAAW;AAAA;;AACrB,UAAIzG,WAAW,IAAf;AACA,UAAGyG,UAAUvB,OAAV,IAAqB,MAAxB,EAAgC;AAC9B,YAAG,CAACuB,UAAUv7B,IAAd,EAAoB,MAAM,uBAAN;AACpB,YAAI8lB,WAAWyV,UAAUzV,QAAzB;AACA,YAAImU,OAAOsB,UAAUtB,IAArB;AACA,YAAIx9B,OAAOy+B,cAAX;;AAEA,YAAI1uB,OAAO,KAAK8uB,eAAhB;AACAxR,aAAKyR,UAAUv7B,IAAf,EAP8B,CAOP;AACvBwM,aAAK4uB,aAAL,CAAmBtV,QAAnB,EAA6BmU,IAA7B;AACAnF,mBAAW,EAACt1B,MAAM,EAACuF,MAAM,MAAP,EAAe+gB,UAAUA,QAAzB,EAAP,EAAX;AACD,OAVD,MAUO,IAAIyV,UAAUvB,OAAV,IAAqB,QAAzB,EAAmC;AACxC,YAAIvR,QAAQ8S,UAAU9S,KAAtB;AACA,YAAI0R,UAAUoB,UAAUpB,OAAxB;AACA,YAAG,KAAKmB,eAAL,CAAqBD,aAAxB,EAAuC;AACrC,eAAKC,eAAL,CAAqBD,aAArB,CAAmC5S,KAAnC,EAA0C0R,OAA1C;AACArF,qBAAW,EAACt1B,MAAM26B,OAAP,EAAX;AACD,SAHD,MAGO;AACLrF,qBAAW,EAACt1B,MAAM26B,OAAP,EAAX;AACD;AACF;AACD,UAAG,KAAKvc,eAAL,GAAuB,KAAKF,eAA/B,EAAgD;AAC9C,aAAKE,eAAL;AACA,aAAKyb,SAAL,CAAevE,QAAf;AACD,OAHD,MAGO;AACL,aAAKlX,eAAL,GAAuB,CAAvB;AACA0B,mBAAW,YAAM;AACf,gBAAK+Z,SAAL,CAAevE,QAAf;AACD,SAFD,EAEG,CAFH;AAGD;AAEF;;;gCAEW,CAEX;;;;;;kBAGYmG,U;;;;;;;;;ACjEfj+B,OAAOC,OAAP,GAAiB,YAAW;AAC1B,MAAI6U,SAAS,EAAb;AACA,MAAIkH,QAAQ,CAAC,MAAD,EAAS,IAAT,EAAe,GAAf,EAAoB,QAApB,EAA8B,OAA9B,EAAuC,OAAvC,EAAgD,SAAhD,EAA2D,KAA3D,EAAkE,KAAlE,EAAyE,KAAzE,EAAgF,KAAhF,EAAuF,KAAvF,EAA8F,MAA9F,EAAsG,MAAtG,EAA8G,MAA9G,EAAsH,KAAtH,EAA6H,KAA7H,EAAoI,KAApI,EAA2I,OAA3I,EAAoJ,QAApJ,EAA8J,OAA9J,EAAuK,OAAvK,EAAgL,MAAhL,EAAwL,MAAxL,EAAgM,KAAhM,EAAuM,KAAvM,CAAZ;AACA,OAAI,IAAIrb,CAAR,IAAaqb,KAAb,EAAoB;AAClBlH,WAAOkH,MAAMrb,CAAN,CAAP,IAAmBlB,KAAKuc,MAAMrb,CAAN,CAAL,CAAnB;AACD;;AAEDmU,SAAO0pB,GAAP,GAAa,EAAb;;AAEA1pB,SAAO2pB,GAAP,GAAa,EAAb;;AAEA3pB,SAAO0pB,GAAP,CAAW7xB,SAAX,GAAuB,UAASlG,CAAT,EAAY;AACjCA,QAAImP,OAAOnP,CAAP,CAAJ;AACA,WAAMA,IAAI,GAAV;AAAeA,WAAK,GAAL;AAAf,KACA,OAAMA,KAAK,CAAC,GAAZ;AAAiBA,WAAK,GAAL;AAAjB,KACA,OAAOA,CAAP;AACD,GALD;;AAOAqO,SAAO2pB,GAAP,CAAW9xB,SAAX,GAAuB,UAASlG,CAAT,EAAY;AACjCA,QAAImP,OAAOnP,CAAP,CAAJ;AACA,WAAMA,IAAIqO,OAAOpV,EAAjB;AAAqB+G,WAAKqO,OAAOpV,EAAP,GAAU,CAAf;AAArB,KACA,OAAM+G,KAAK,CAACqO,OAAOpV,EAAnB;AAAuB+G,WAAKqO,OAAOpV,EAAP,GAAU,CAAf;AAAvB,KACA,OAAO+G,CAAP;AACD,GALD;;AAOAqO,SAAO4pB,OAAP,GAAiB,UAASxzB,CAAT,EAAY;AAC3B,WAAO4J,OAAO2pB,GAAP,CAAW9xB,SAAX,CAAqBzB,KAAG4J,OAAOpV,EAAP,GAAU,GAAb,CAArB,CAAP;AACD,GAFD;;AAIAoV,SAAO6pB,OAAP,GAAiB,UAASzzB,CAAT,EAAY;AAC3B,WAAO4J,OAAO0pB,GAAP,CAAW7xB,SAAX,CAAqBzB,KAAG,MAAI4J,OAAOpV,EAAd,CAArB,CAAP;AACD,GAFD;;AAIAoV,SAAO2pB,GAAP,CAAWG,KAAX,GAAmB9pB,OAAO8pB,KAA1B;;AAEA9pB,SAAO0pB,GAAP,CAAWI,KAAX,GAAmB,UAASt/B,CAAT,EAAYF,CAAZ,EAAe;AAChC,WAAO0V,OAAO6pB,OAAP,CAAe7pB,OAAO2pB,GAAP,CAAWG,KAAX,CAAiBt/B,CAAjB,EAAoBF,CAApB,CAAf,CAAP;AACD,GAFD;;AAIA0V,SAAO2T,QAAP,GAAkB,UAASoW,EAAT,EAAaC,EAAb,EAAiBC,EAAjB,EAAqBC,EAArB,EAAyB;AACzC,QAAI/U,KAAK8U,KAAKF,EAAd;AACA,QAAI3U,KAAK8U,KAAKF,EAAd;AACA,WAAOhqB,OAAOqV,IAAP,CAAYF,KAAGA,EAAH,GAAQC,KAAGA,EAAvB,CAAP;AACD,GAJD;;AAMApV,SAAOmqB,WAAP,GAAqB,UAASx4B,CAAT,EAAYC,CAAZ,EAAe;AAClC,QAAGD,IAAIC,CAAP,EAAU,MAAM,gEAAN;AACV,WAAOD,IAAIqO,OAAOa,MAAP,MAAiBjP,IAAED,CAAnB,CAAX;AACD,GAHD;AAIA,SAAOqO,MAAP;AACD,CAlDD,C;;;;;;;ACAa;;;;;;;;;;IAEQ0L,kB;AAEnB,gCAAc;AAAA;;AACZ,SAAKpB,uBAAL,GAA+B,EAA/B;AACA,SAAK8f,YAAL,GAAkB,CAAlB;AACA,SAAKC,UAAL,GAAgB,CAAhB;AACA,SAAKC,QAAL,GAAc,KAAd;AACA,SAAKC,kBAAL,GAA0B5/B,KAAKktB,KAAL,CAAW,OAAK,KAAKvN,uBAArB,CAA1B;AACA,SAAKkgB,iBAAL,GAAyB,KAAKD,kBAA9B;AACA,SAAKE,gBAAL,GAAwB,CAAxB;AACA,SAAKC,eAAL,GAAuB,CAAvB;AACA,SAAKC,QAAL,GAAgB,KAAKD,eAArB;AACA,SAAKE,cAAL,GAAsB,GAAtB;AACD;;;;4BAcO;AACN,WAAKN,QAAL,GAAgB,IAAhB;AACA,UAAIlyB,OAAO,IAAX;AACA,WAAKiyB,UAAL,GAAkB5d,YAAY,YAAM;AAClCrU,aAAKyyB,MAAL;AACD,OAFiB,EAEf,KAAKD,cAFU,CAAlB;AAGD;;;2BAEM;AACL,WAAKN,QAAL,GAAgB,KAAhB;AACA,UAAG,KAAKD,UAAR,EAAoB;AAClB9d,sBAAc,KAAK8d,UAAnB;AACA,aAAKA,UAAL,GAAkB,IAAlB;AACD;AACF;;;8CAEyBj0B,C,EAAG;AAC3B,UAAGA,KAAK,KAAKkU,uBAAb,EAAsC;AACpC,aAAKqgB,QAAL,GAAgB,KAAKD,eAArB;AACD;AACD,WAAKpgB,uBAAL,GAA+BlU,CAA/B;AACA,WAAKm0B,kBAAL,GAA0B5/B,KAAKktB,KAAL,CAAW,OAAKzhB,CAAhB,CAA1B;AACD;;;uCAEkB;AACjB,UAAG,KAAKk0B,QAAR,EAAkB;AAChB,aAAKF,YAAL;AACD;AACF;;;6BAMQ;AACP,WAAKI,iBAAL,GAAyB7/B,KAAKmgC,IAAL,CAAU,KAAKV,YAAL,IAAmB,OAAK,KAAKQ,cAA7B,CAAV,CAAzB;AACA,WAAKR,YAAL,GAAoB,CAApB;AACA,UAAI7N,QAAQ,KAAKgO,kBAAL,GAA0B,KAAKC,iBAAL,GAAuB,KAAKD,kBAAtD,GAA2E,CAAvF;AACA,WAAKE,gBAAL,GAAwB,CAAC,KAAKA,gBAAL,GAAwBlO,KAAzB,IAAgC,CAAxD;AACA,WAAKwO,cAAL;AACD;;;qCAEgB;AACf,UAAIC,gBAAgB,MAAI,KAAKP,gBAAT,GAA4B,IAAhD;AACAO,sBAAgBrgC,KAAKyjB,GAAL,CAAS,CAAT,EAAYzjB,KAAK4iB,GAAL,CAAS,CAAT,EAAYyd,aAAZ,CAAZ,CAAhB;AACA,UAAIC,eAAe,CAAC,GAAD,GAAK,KAAKR,gBAAV,GAA6B,IAAhD;;AAEA,UAAG,KAAKA,gBAAL,GAAwB,CAA3B,EAA8B;AAC5B,aAAKC,eAAL,IAAwB,GAAxB;AACD,OAFD,MAEO;AACL,aAAKA,eAAL,IAAwBO,YAAxB;AACD;;AAED,WAAKP,eAAL,GAAuB//B,KAAKyjB,GAAL,CAAS,CAAT,EAAYzjB,KAAK4iB,GAAL,CAAS,CAAT,EAAY,KAAKmd,eAAjB,CAAZ,CAAvB;;AAEA,UAAIQ,gBAAgBvgC,KAAKyjB,GAAL,CAAS4c,aAAT,EAAwB,KAAKN,eAA7B,CAApB;;AAEA,WAAKA,eAAL,GAAuB,CAAC,KAAKA,eAAL,GAAuBQ,aAAxB,IAAuC,CAA9D;AACA,UAAG,KAAKR,eAAL,GAAuB,KAAKC,QAA/B,EAA0C;AACxC,aAAKA,QAAL,GAAgB,KAAKD,eAArB;AACD,OAFD,MAEO;AACL,aAAKC,QAAL,GAAgB,CAAC,KAAKD,eAAL,GAAuB,IAAE,KAAKC,QAA/B,IAAyC,EAAzD;AACD;AACF;;;wBA3Ea;AACZ,aAAO,KAAKL,QAAZ;AACD;;;wBAEuB;AACtB,aAAO,KAAKC,kBAAZ;AACD;;;wBAEsB;AACrB,aAAO,KAAKC,iBAAZ;AACD;;;wBAgCkB;AACjB,aAAO,KAAKG,QAAZ;AACD;;;;;;kBA3DkBjf,kB;;;;;;;ACFR;;;;AAEb,IAAIyf,gBAAgB7+B,mBAAOA,CAAC,EAAR,CAApB;AAAA,IACIwI,UAAUxI,mBAAOA,CAAC,CAAR,CADd;AAAA,IAEI8+B,QAAQ9+B,mBAAOA,CAAC,EAAR,CAFZ;AAAA,IAGIsI,eAAetI,mBAAOA,CAAC,EAAR,CAHnB;AAAA,IAII++B,kBAAkB/+B,mBAAOA,CAAC,EAAR,CAJtB;AAAA,IAKIg/B,UAAUh/B,mBAAOA,CAAC,EAAR,CALd;AAAA,IAMImE,QAAQnE,mBAAOA,CAAC,EAAR,CANZ;AAAA,IAOIi/B,kBAAkBj/B,mBAAOA,CAAC,EAAR,CAPtB;AAAA,IAQIqI,OAAOrI,mBAAOA,CAAC,CAAR,CARX;;AAUApB,OAAOC,OAAP,GAAiB2U,GAAjB;;AAEAA,IAAI/G,SAAJ,CAAc9C,QAAd,GAAyBA,QAAzB;AACA6J,IAAI/G,SAAJ,CAAcvD,OAAd,GAAwBA,OAAxB;AACAsK,IAAI/G,SAAJ,CAAcyyB,SAAd,GAA0BA,SAA1B;AACA1rB,IAAI/G,SAAJ,CAAc0yB,aAAd,GAA8BA,aAA9B;AACA3rB,IAAI/G,SAAJ,CAAc2yB,cAAd,GAA+BA,cAA/B;AACA5rB,IAAI/G,SAAJ,CAAc4yB,SAAd,GAA0BA,SAA1B;AACA7rB,IAAI/G,SAAJ,CAAc6yB,YAAd,GAA6BA,YAA7B;AACA9rB,IAAI/G,SAAJ,CAAc8yB,SAAd,GAA0BA,SAA1B;AACA/rB,IAAI/G,SAAJ,CAAc+yB,UAAd,GAA2BA,UAA3B;;AAEAhsB,IAAI/G,SAAJ,CAAcgzB,UAAd,GAA2BA,UAA3B;AACAjsB,IAAI/G,SAAJ,CAAc7C,QAAd,GAAyBA,QAAzB;;AAEA4J,IAAI/G,SAAJ,CAAcizB,YAAd,GAA6B1/B,mBAAOA,CAAC,EAAR,CAA7B;AACA,IAAI2/B,gBAAgB3/B,mBAAOA,CAAC,EAAR,CAApB;AACAwT,IAAI/G,SAAJ,CAAcmzB,UAAd,GAA2BD,cAAc1uB,GAAzC;AACAuC,IAAI/G,SAAJ,CAAcozB,UAAd,GAA2BF,cAActgC,GAAzC;AACAmU,IAAI/G,SAAJ,CAAcqzB,aAAd,GAA8BH,cAAcI,MAA5C;;AAEA,IAAIC,eAAehgC,mBAAOA,CAAC,CAAR,CAAnB;AACAwT,IAAIlG,eAAJ,GAAsB0yB,aAAa5yB,UAAnC;AACAoG,IAAIhG,eAAJ,GAAsBwyB,aAAazyB,UAAnC;AACAiG,IAAIyrB,eAAJ,GAAsBA,eAAtB;;AAEA,IAAIgB,iBAAiB,wCAArB;;AAEA,IAAIC,sBAAsB,CAAE,kBAAF,EAAsB,aAAtB,EAAqC,aAArC,CAA1B;AACA,IAAIC,oBAAoB,CAAC,aAAD,CAAxB;;AAEA;;;;;;AAMA,SAAS3sB,GAAT,CAAa4B,IAAb,EAAmB;AACjB,MAAI,EAAE,gBAAgB5B,GAAlB,CAAJ,EAA4B,OAAO,IAAIA,GAAJ,CAAQ4B,IAAR,CAAP;AAC5BA,SAAO,KAAK3L,KAAL,GAAapB,KAAK7I,IAAL,CAAU4V,IAAV,KAAmB,EAAvC;AACAgrB,YAAU,IAAV;AACA,OAAK52B,QAAL,GAAgB,EAAhB;AACA,OAAKF,KAAL,GAAa,EAAb;AACA,OAAK+2B,UAAL,GAAkB,EAAlB;AACA,OAAKC,QAAL,GAAgBtB,QAAQ5pB,KAAKmrB,MAAb,CAAhB;;AAEA,OAAKC,MAAL,GAAcprB,KAAKqrB,KAAL,IAAc,IAAI3B,KAAJ,EAA5B;AACA,OAAK4B,eAAL,GAAuB,EAAvB;AACA,OAAKC,aAAL,GAAqB,EAArB;AACA,OAAKnqB,KAAL,GAAarS,OAAb;AACA,OAAKiG,MAAL,GAAcw2B,YAAYxrB,IAAZ,CAAd;;AAEAA,OAAKyrB,YAAL,GAAoBzrB,KAAKyrB,YAAL,IAAqBv1B,QAAzC;AACA,MAAI8J,KAAK0rB,aAAL,IAAsB,UAA1B,EAAsC1rB,KAAK2rB,sBAAL,GAA8B,IAA9B;AACtC,MAAI3rB,KAAK5J,SAAL,KAAmBvN,SAAvB,EAAkCmX,KAAK5J,SAAL,GAAiBuzB,eAAjB;AAClC,OAAKiC,SAAL,GAAiBC,qBAAqB,IAArB,CAAjB;;AAEA,MAAI7rB,KAAK4pB,OAAT,EAAkBkC,kBAAkB,IAAlB;AAClBC,uBAAqB,IAArB;AACA,MAAI,QAAO/rB,KAAKgsB,IAAZ,KAAoB,QAAxB,EAAkC,KAAKjC,aAAL,CAAmB/pB,KAAKgsB,IAAxB;AAClC,MAAIhsB,KAAKsD,QAAT,EAAmB,KAAKknB,UAAL,CAAgB,UAAhB,EAA4B,EAACyB,YAAY,EAACC,OAAO,IAAR,EAAb,EAA5B;AACnBC,oBAAkB,IAAlB;AACD;;AAID;;;;;;;;AAQA,SAAS53B,QAAT,CAAkB63B,YAAlB,EAAgCpgC,IAAhC,EAAsC;AACpC,MAAI0I,CAAJ;AACA,MAAI,OAAO03B,YAAP,IAAuB,QAA3B,EAAqC;AACnC13B,QAAI,KAAKu1B,SAAL,CAAemC,YAAf,CAAJ;AACA,QAAI,CAAC13B,CAAL,EAAQ,MAAM,IAAI7E,KAAJ,CAAU,gCAAgCu8B,YAAhC,GAA+C,GAAzD,CAAN;AACT,GAHD,MAGO;AACL,QAAIC,YAAY,KAAKhC,UAAL,CAAgB+B,YAAhB,CAAhB;AACA13B,QAAI23B,UAAU93B,QAAV,IAAsB,KAAKC,QAAL,CAAc63B,SAAd,CAA1B;AACD;;AAED,MAAIhuB,QAAQ3J,EAAE1I,IAAF,CAAZ;AACA,MAAI0I,EAAEwM,MAAF,KAAa,IAAjB,EAAuB,KAAK7I,MAAL,GAAc3D,EAAE2D,MAAhB;AACvB,SAAOgG,KAAP;AACD;;AAGD;;;;;;;AAOA,SAASvK,OAAT,CAAiBhF,MAAjB,EAAyBw9B,KAAzB,EAAgC;AAC9B,MAAID,YAAY,KAAKhC,UAAL,CAAgBv7B,MAAhB,EAAwBjG,SAAxB,EAAmCyjC,KAAnC,CAAhB;AACA,SAAOD,UAAU93B,QAAV,IAAsB,KAAKC,QAAL,CAAc63B,SAAd,CAA7B;AACD;;AAGD;;;;;;;;;AASA,SAASvC,SAAT,CAAmBh7B,MAAnB,EAA2BhD,GAA3B,EAAgCygC,eAAhC,EAAiDD,KAAjD,EAAwD;AACtD,MAAIp/B,MAAMC,OAAN,CAAc2B,MAAd,CAAJ,EAA0B;AACxB,SAAK,IAAI3E,IAAE,CAAX,EAAcA,IAAE2E,OAAOvC,MAAvB,EAA+BpC,GAA/B;AAAoC,WAAK2/B,SAAL,CAAeh7B,OAAO3E,CAAP,CAAf,EAA0BtB,SAA1B,EAAqC0jC,eAArC,EAAsDD,KAAtD;AAApC,KACA,OAAO,IAAP;AACD;AACD,MAAIp3B,KAAK,KAAKF,MAAL,CAAYlG,MAAZ,CAAT;AACA,MAAIoG,OAAOrM,SAAP,IAAoB,OAAOqM,EAAP,IAAa,QAArC,EACE,MAAM,IAAIrF,KAAJ,CAAU,0BAAV,CAAN;AACF/D,QAAMsH,QAAQC,WAAR,CAAoBvH,OAAOoJ,EAA3B,CAAN;AACAs3B,cAAY,IAAZ,EAAkB1gC,GAAlB;AACA,OAAKsI,QAAL,CAActI,GAAd,IAAqB,KAAKu+B,UAAL,CAAgBv7B,MAAhB,EAAwBy9B,eAAxB,EAAyCD,KAAzC,EAAgD,IAAhD,CAArB;AACA,SAAO,IAAP;AACD;;AAGD;;;;;;;;;AASA,SAASvC,aAAT,CAAuBj7B,MAAvB,EAA+BhD,GAA/B,EAAoC2gC,cAApC,EAAoD;AAClD,OAAK3C,SAAL,CAAeh7B,MAAf,EAAuBhD,GAAvB,EAA4B2gC,cAA5B,EAA4C,IAA5C;AACA,SAAO,IAAP;AACD;;AAGD;;;;;;;AAOA,SAASzC,cAAT,CAAwBl7B,MAAxB,EAAgC49B,eAAhC,EAAiD;AAC/C,MAAI5qB,UAAUhT,OAAOgT,OAArB;AACA,MAAIA,YAAYjZ,SAAZ,IAAyB,OAAOiZ,OAAP,IAAkB,QAA/C,EACE,MAAM,IAAIjS,KAAJ,CAAU,0BAAV,CAAN;AACFiS,YAAUA,WAAW,KAAKzN,KAAL,CAAWs4B,WAAtB,IAAqCA,YAAY,IAAZ,CAA/C;AACA,MAAI,CAAC7qB,OAAL,EAAc;AACZ,SAAK2B,MAAL,CAAY3D,IAAZ,CAAiB,2BAAjB;AACA,SAAKzH,MAAL,GAAc,IAAd;AACA,WAAO,IAAP;AACD;AACD,MAAIgG,QAAQ,KAAK9J,QAAL,CAAcuN,OAAd,EAAuBhT,MAAvB,CAAZ;AACA,MAAI,CAACuP,KAAD,IAAUquB,eAAd,EAA+B;AAC7B,QAAIp0B,UAAU,wBAAwB,KAAK8xB,UAAL,EAAtC;AACA,QAAI,KAAK/1B,KAAL,CAAW21B,cAAX,IAA6B,KAAjC,EAAwC,KAAKvmB,MAAL,CAAY2H,KAAZ,CAAkB9S,OAAlB,EAAxC,KACK,MAAM,IAAIzI,KAAJ,CAAUyI,OAAV,CAAN;AACN;AACD,SAAO+F,KAAP;AACD;;AAGD,SAASsuB,WAAT,CAAqBj2B,IAArB,EAA2B;AACzB,MAAIs1B,OAAOt1B,KAAKrC,KAAL,CAAW23B,IAAtB;AACAt1B,OAAKrC,KAAL,CAAWs4B,WAAX,GAAyB,QAAOX,IAAP,yCAAOA,IAAP,MAAe,QAAf,GACGt1B,KAAK1B,MAAL,CAAYg3B,IAAZ,KAAqBA,IADxB,GAEGt1B,KAAKuzB,SAAL,CAAeY,cAAf,IACEA,cADF,GAEEhiC,SAJ9B;AAKA,SAAO6N,KAAKrC,KAAL,CAAWs4B,WAAlB;AACD;;AAGD;;;;;;AAMA,SAAS1C,SAAT,CAAmB2C,MAAnB,EAA2B;AACzB,MAAIP,YAAYQ,cAAc,IAAd,EAAoBD,MAApB,CAAhB;AACA,iBAAeP,SAAf,yCAAeA,SAAf;AACE,SAAK,QAAL;AAAe,aAAOA,UAAU93B,QAAV,IAAsB,KAAKC,QAAL,CAAc63B,SAAd,CAA7B;AACf,SAAK,QAAL;AAAe,aAAO,KAAKpC,SAAL,CAAeoC,SAAf,CAAP;AACf,SAAK,WAAL;AAAkB,aAAOS,mBAAmB,IAAnB,EAAyBF,MAAzB,CAAP;AAHpB;AAKD;;AAGD,SAASE,kBAAT,CAA4Bp2B,IAA5B,EAAkC1C,GAAlC,EAAuC;AACrC,MAAIS,MAAMrB,QAAQtE,MAAR,CAAeqF,IAAf,CAAoBuC,IAApB,EAA0B,EAAE5H,QAAQ,EAAV,EAA1B,EAA0CkF,GAA1C,CAAV;AACA,MAAIS,GAAJ,EAAS;AACP,QAAI3F,SAAS2F,IAAI3F,MAAjB;AAAA,QACIiF,OAAOU,IAAIV,IADf;AAAA,QAEIY,SAASF,IAAIE,MAFjB;AAGA,QAAID,IAAI+0B,cAAct1B,IAAd,CAAmBuC,IAAnB,EAAyB5H,MAAzB,EAAiCiF,IAAjC,EAAuClL,SAAvC,EAAkD8L,MAAlD,CAAR;AACA+B,SAAKu0B,UAAL,CAAgBj3B,GAAhB,IAAuB,IAAId,YAAJ,CAAiB;AACtCc,WAAKA,GADiC;AAEtCuB,gBAAU,IAF4B;AAGtCzG,cAAQA,MAH8B;AAItCiF,YAAMA,IAJgC;AAKtCY,cAAQA,MAL8B;AAMtCJ,gBAAUG;AAN4B,KAAjB,CAAvB;AAQA,WAAOA,CAAP;AACD;AACF;;AAGD,SAASm4B,aAAT,CAAuBn2B,IAAvB,EAA6Bk2B,MAA7B,EAAqC;AACnCA,WAASx5B,QAAQC,WAAR,CAAoBu5B,MAApB,CAAT;AACA,SAAOl2B,KAAKtC,QAAL,CAAcw4B,MAAd,KAAyBl2B,KAAKxC,KAAL,CAAW04B,MAAX,CAAzB,IAA+Cl2B,KAAKu0B,UAAL,CAAgB2B,MAAhB,CAAtD;AACD;;AAGD;;;;;;;;;AASA,SAAS1C,YAAT,CAAsBkC,YAAtB,EAAoC;AAClC,MAAIA,wBAAwBt+B,MAA5B,EAAoC;AAClCi/B,sBAAkB,IAAlB,EAAwB,KAAK34B,QAA7B,EAAuCg4B,YAAvC;AACAW,sBAAkB,IAAlB,EAAwB,KAAK74B,KAA7B,EAAoCk4B,YAApC;AACA,WAAO,IAAP;AACD;AACD,iBAAeA,YAAf,yCAAeA,YAAf;AACE,SAAK,WAAL;AACEW,wBAAkB,IAAlB,EAAwB,KAAK34B,QAA7B;AACA24B,wBAAkB,IAAlB,EAAwB,KAAK74B,KAA7B;AACA,WAAKk3B,MAAL,CAAYpc,KAAZ;AACA,aAAO,IAAP;AACF,SAAK,QAAL;AACE,UAAIqd,YAAYQ,cAAc,IAAd,EAAoBT,YAApB,CAAhB;AACA,UAAIC,SAAJ,EAAe,KAAKjB,MAAL,CAAY4B,GAAZ,CAAgBX,UAAUY,QAA1B;AACf,aAAO,KAAK74B,QAAL,CAAcg4B,YAAd,CAAP;AACA,aAAO,KAAKl4B,KAAL,CAAWk4B,YAAX,CAAP;AACA,aAAO,IAAP;AACF,SAAK,QAAL;AACE,UAAIh2B,YAAY,KAAK/B,KAAL,CAAW+B,SAA3B;AACA,UAAI62B,WAAW72B,YAAYA,UAAUg2B,YAAV,CAAZ,GAAsCA,YAArD;AACA,WAAKhB,MAAL,CAAY4B,GAAZ,CAAgBC,QAAhB;AACA,UAAI/3B,KAAK,KAAKF,MAAL,CAAYo3B,YAAZ,CAAT;AACA,UAAIl3B,EAAJ,EAAQ;AACNA,aAAK9B,QAAQC,WAAR,CAAoB6B,EAApB,CAAL;AACA,eAAO,KAAKd,QAAL,CAAcc,EAAd,CAAP;AACA,eAAO,KAAKhB,KAAL,CAAWgB,EAAX,CAAP;AACD;AArBL;AAuBA,SAAO,IAAP;AACD;;AAGD,SAAS63B,iBAAT,CAA2Br2B,IAA3B,EAAiCw2B,OAAjC,EAA0CC,KAA1C,EAAiD;AAC/C,OAAK,IAAIP,MAAT,IAAmBM,OAAnB,EAA4B;AAC1B,QAAIb,YAAYa,QAAQN,MAAR,CAAhB;AACA,QAAI,CAACP,UAAUL,IAAX,KAAoB,CAACmB,KAAD,IAAUA,MAAM3/B,IAAN,CAAWo/B,MAAX,CAA9B,CAAJ,EAAuD;AACrDl2B,WAAK00B,MAAL,CAAY4B,GAAZ,CAAgBX,UAAUY,QAA1B;AACA,aAAOC,QAAQN,MAAR,CAAP;AACD;AACF;AACF;;AAGD;AACA,SAASvC,UAAT,CAAoBv7B,MAApB,EAA4B29B,cAA5B,EAA4CT,IAA5C,EAAkDoB,eAAlD,EAAmE;AACjE,MAAI,QAAOt+B,MAAP,yCAAOA,MAAP,MAAiB,QAAjB,IAA6B,OAAOA,MAAP,IAAiB,SAAlD,EACE,MAAM,IAAIe,KAAJ,CAAU,oCAAV,CAAN;AACF,MAAIuG,YAAY,KAAK/B,KAAL,CAAW+B,SAA3B;AACA,MAAI62B,WAAW72B,YAAYA,UAAUtH,MAAV,CAAZ,GAAgCA,MAA/C;AACA,MAAIu+B,SAAS,KAAKjC,MAAL,CAAYnhC,GAAZ,CAAgBgjC,QAAhB,CAAb;AACA,MAAII,MAAJ,EAAY,OAAOA,MAAP;;AAEZD,oBAAkBA,mBAAmB,KAAK/4B,KAAL,CAAWi5B,aAAX,KAA6B,KAAlE;;AAEA,MAAIp4B,KAAK9B,QAAQC,WAAR,CAAoB,KAAK2B,MAAL,CAAYlG,MAAZ,CAApB,CAAT;AACA,MAAIoG,MAAMk4B,eAAV,EAA2BZ,YAAY,IAAZ,EAAkBt3B,EAAlB;;AAE3B,MAAIq4B,eAAe,KAAKl5B,KAAL,CAAW21B,cAAX,KAA8B,KAA9B,IAAuC,CAACyC,cAA3D;AACA,MAAIe,aAAJ;AACA,MAAID,gBAAgB,EAAEC,gBAAgBt4B,MAAMA,MAAM9B,QAAQC,WAAR,CAAoBvE,OAAOgT,OAA3B,CAA9B,CAApB,EACE,KAAKkoB,cAAL,CAAoBl7B,MAApB,EAA4B,IAA5B;;AAEF,MAAI2H,YAAYrD,QAAQM,GAAR,CAAYS,IAAZ,CAAiB,IAAjB,EAAuBrF,MAAvB,CAAhB;;AAEA,MAAIu9B,YAAY,IAAIn5B,YAAJ,CAAiB;AAC/BgC,QAAIA,EAD2B;AAE/BpG,YAAQA,MAFuB;AAG/B2H,eAAWA,SAHoB;AAI/Bw2B,cAAUA,QAJqB;AAK/BjB,UAAMA;AALyB,GAAjB,CAAhB;;AAQA,MAAI92B,GAAG,CAAH,KAAS,GAAT,IAAgBk4B,eAApB,EAAqC,KAAKl5B,KAAL,CAAWgB,EAAX,IAAiBm3B,SAAjB;AACrC,OAAKjB,MAAL,CAAYqC,GAAZ,CAAgBR,QAAhB,EAA0BZ,SAA1B;;AAEA,MAAIkB,gBAAgBC,aAApB,EAAmC,KAAKxD,cAAL,CAAoBl7B,MAApB,EAA4B,IAA5B;;AAEnC,SAAOu9B,SAAP;AACD;;AAGD;AACA,SAAS73B,QAAT,CAAkB63B,SAAlB,EAA6Bt4B,IAA7B,EAAmC;AACjC,MAAIs4B,UAAUqB,SAAd,EAAyB;AACvBrB,cAAU93B,QAAV,GAAqBo5B,YAArB;AACAA,iBAAa7+B,MAAb,GAAsBu9B,UAAUv9B,MAAhC;AACA6+B,iBAAat1B,MAAb,GAAsB,IAAtB;AACAs1B,iBAAa55B,IAAb,GAAoBA,OAAOA,IAAP,GAAc45B,YAAlC;AACA,QAAItB,UAAUv9B,MAAV,CAAiBoS,MAAjB,KAA4B,IAAhC,EACEysB,aAAazsB,MAAb,GAAsB,IAAtB;AACF,WAAOysB,YAAP;AACD;AACDtB,YAAUqB,SAAV,GAAsB,IAAtB;;AAEA,MAAIE,WAAJ;AACA,MAAIvB,UAAUL,IAAd,EAAoB;AAClB4B,kBAAc,KAAKv5B,KAAnB;AACA,SAAKA,KAAL,GAAa,KAAKu3B,SAAlB;AACD;;AAED,MAAIl3B,CAAJ;AACA,MAAI;AAAEA,QAAI+0B,cAAct1B,IAAd,CAAmB,IAAnB,EAAyBk4B,UAAUv9B,MAAnC,EAA2CiF,IAA3C,EAAiDs4B,UAAU51B,SAA3D,CAAJ;AAA4E,GAAlF,CACA,OAAM0hB,CAAN,EAAS;AACP,WAAOkU,UAAU93B,QAAjB;AACA,UAAM4jB,CAAN;AACD,GAJD,SAKQ;AACNkU,cAAUqB,SAAV,GAAsB,KAAtB;AACA,QAAIrB,UAAUL,IAAd,EAAoB,KAAK33B,KAAL,GAAau5B,WAAb;AACrB;;AAEDvB,YAAU93B,QAAV,GAAqBG,CAArB;AACA23B,YAAUwB,IAAV,GAAiBn5B,EAAEm5B,IAAnB;AACAxB,YAAUp4B,MAAV,GAAmBS,EAAET,MAArB;AACAo4B,YAAUt4B,IAAV,GAAiBW,EAAEX,IAAnB;AACA,SAAOW,CAAP;;AAGA;AACA,WAASi5B,YAAT,GAAwB;AACtB;AACA,QAAIG,YAAYzB,UAAU93B,QAA1B;AACA,QAAI+J,SAASwvB,UAAUvgB,KAAV,CAAgB,IAAhB,EAAsBF,SAAtB,CAAb;AACAsgB,iBAAat1B,MAAb,GAAsBy1B,UAAUz1B,MAAhC;AACA,WAAOiG,MAAP;AACD;AACF;;AAGD,SAASktB,WAAT,CAAqBxrB,IAArB,EAA2B;AACzB,UAAQA,KAAK1J,QAAb;AACE,SAAK,MAAL;AAAa,aAAOy3B,WAAP;AACb,SAAK,IAAL;AAAW,aAAO/4B,MAAP;AACX;AAAS,aAAOg5B,OAAP;AAHX;AAKD;;AAED;AACA,SAASh5B,MAAT,CAAgBlG,MAAhB,EAAwB;AACtB,MAAIA,OAAOwS,GAAX,EAAgB,KAAKmC,MAAL,CAAY3D,IAAZ,CAAiB,oBAAjB,EAAuChR,OAAOwS,GAA9C;AAChB,SAAOxS,OAAOoG,EAAd;AACD;;AAED;AACA,SAAS84B,OAAT,CAAiBl/B,MAAjB,EAAyB;AACvB,MAAIA,OAAOoG,EAAX,EAAe,KAAKuO,MAAL,CAAY3D,IAAZ,CAAiB,mBAAjB,EAAsChR,OAAOoG,EAA7C;AACf,SAAOpG,OAAOwS,GAAd;AACD;;AAGD,SAASysB,WAAT,CAAqBj/B,MAArB,EAA6B;AAC3B,MAAIA,OAAOwS,GAAP,IAAcxS,OAAOoG,EAArB,IAA2BpG,OAAOwS,GAAP,IAAcxS,OAAOoG,EAApD,EACE,MAAM,IAAIrF,KAAJ,CAAU,iCAAV,CAAN;AACF,SAAOf,OAAOwS,GAAP,IAAcxS,OAAOoG,EAA5B;AACD;;AAGD;;;;;;;AAOA,SAASk1B,UAAT,CAAoB/xB,MAApB,EAA4B4e,OAA5B,EAAqC;AACnC5e,WAASA,UAAU,KAAKA,MAAxB;AACA,MAAI,CAACA,MAAL,EAAa,OAAO,WAAP;AACb4e,YAAUA,WAAW,EAArB;AACA,MAAIgX,YAAYhX,QAAQgX,SAAR,KAAsBplC,SAAtB,GAAkC,IAAlC,GAAyCouB,QAAQgX,SAAjE;AACA,MAAItgC,UAAUspB,QAAQtpB,OAAR,KAAoB9E,SAApB,GAAgC,MAAhC,GAAyCouB,QAAQtpB,OAA/D;;AAEA,MAAIuD,OAAO,EAAX;AACA,OAAK,IAAI/G,IAAE,CAAX,EAAcA,IAAEkO,OAAO9L,MAAvB,EAA+BpC,GAA/B,EAAoC;AAClC,QAAIguB,IAAI9f,OAAOlO,CAAP,CAAR;AACA,QAAIguB,CAAJ,EAAOjnB,QAAQvD,UAAUwqB,EAAE+V,QAAZ,GAAuB,GAAvB,GAA6B/V,EAAE7f,OAA/B,GAAyC21B,SAAjD;AACR;AACD,SAAO/8B,KAAKsE,KAAL,CAAW,CAAX,EAAc,CAACy4B,UAAU1hC,MAAzB,CAAP;AACD;;AAGD;;;;;;;AAOA,SAAS49B,SAAT,CAAmB7wB,IAAnB,EAAyB6xB,MAAzB,EAAiC;AAC/B,MAAI,OAAOA,MAAP,IAAiB,QAArB,EAA+BA,SAAS,IAAIr9B,MAAJ,CAAWq9B,MAAX,CAAT;AAC/B,OAAKD,QAAL,CAAc5xB,IAAd,IAAsB6xB,MAAtB;AACA,SAAO,IAAP;AACD;;AAGD,SAASY,oBAAT,CAA8Br1B,IAA9B,EAAoC;AAClC,MAAIy3B,WAAJ;AACA,MAAIz3B,KAAKrC,KAAL,CAAW5E,KAAf,EAAsB;AACpB0+B,kBAAcvjC,mBAAOA,CAAC,EAAR,CAAd;AACA8L,SAAKqzB,aAAL,CAAmBoE,WAAnB,EAAgCA,YAAY7sB,GAA5C,EAAiD,IAAjD;AACD;AACD,MAAI5K,KAAKrC,KAAL,CAAW23B,IAAX,KAAoB,KAAxB,EAA+B;AAC/B,MAAIC,aAAarhC,mBAAOA,CAAC,EAAR,CAAjB;AACA,MAAI8L,KAAKrC,KAAL,CAAW5E,KAAf,EAAsBw8B,aAAapC,gBAAgBoC,UAAhB,EAA4BlB,iBAA5B,CAAb;AACtBr0B,OAAKqzB,aAAL,CAAmBkC,UAAnB,EAA+BpB,cAA/B,EAA+C,IAA/C;AACAn0B,OAAKxC,KAAL,CAAW,+BAAX,IAA8C22B,cAA9C;AACD;;AAGD,SAASsB,iBAAT,CAA2Bz1B,IAA3B,EAAiC;AAC/B,MAAI03B,cAAc13B,KAAKrC,KAAL,CAAW64B,OAA7B;AACA,MAAI,CAACkB,WAAL,EAAkB;AAClB,MAAIlhC,MAAMC,OAAN,CAAcihC,WAAd,CAAJ,EAAgC13B,KAAKozB,SAAL,CAAesE,WAAf,EAAhC,KACK,KAAK,IAAItiC,GAAT,IAAgBsiC,WAAhB;AAA6B13B,SAAKozB,SAAL,CAAesE,YAAYtiC,GAAZ,CAAf,EAAiCA,GAAjC;AAA7B;AACN;;AAGD,SAASggC,iBAAT,CAA2Bp1B,IAA3B,EAAiC;AAC/B,OAAK,IAAI4C,IAAT,IAAiB5C,KAAKrC,KAAL,CAAWu1B,OAA5B,EAAqC;AACnC,QAAIuB,SAASz0B,KAAKrC,KAAL,CAAWu1B,OAAX,CAAmBtwB,IAAnB,CAAb;AACA5C,SAAKyzB,SAAL,CAAe7wB,IAAf,EAAqB6xB,MAArB;AACD;AACF;;AAGD,SAASqB,WAAT,CAAqB91B,IAArB,EAA2BxB,EAA3B,EAA+B;AAC7B,MAAIwB,KAAKtC,QAAL,CAAcc,EAAd,KAAqBwB,KAAKxC,KAAL,CAAWgB,EAAX,CAAzB,EACE,MAAM,IAAIrF,KAAJ,CAAU,4BAA4BqF,EAA5B,GAAiC,kBAA3C,CAAN;AACH;;AAGD,SAAS22B,oBAAT,CAA8Bn1B,IAA9B,EAAoC;AAClC,MAAI23B,WAAWp7B,KAAK7I,IAAL,CAAUsM,KAAKrC,KAAf,CAAf;AACA,OAAK,IAAIlK,IAAE,CAAX,EAAcA,IAAE2gC,oBAAoBv+B,MAApC,EAA4CpC,GAA5C;AACE,WAAOkkC,SAASvD,oBAAoB3gC,CAApB,CAAT,CAAP;AADF,GAEA,OAAOkkC,QAAP;AACD;;AAGD,SAASrD,SAAT,CAAmBt0B,IAAnB,EAAyB;AACvB,MAAI+M,SAAS/M,KAAKrC,KAAL,CAAWoP,MAAxB;AACA,MAAIA,WAAW,KAAf,EAAsB;AACpB/M,SAAK+M,MAAL,GAAc,EAAC6qB,KAAKC,IAAN,EAAYzuB,MAAMyuB,IAAlB,EAAwBnjB,OAAOmjB,IAA/B,EAAd;AACD,GAFD,MAEO;AACL,QAAI9qB,WAAW5a,SAAf,EAA0B4a,SAAS5D,OAAT;AAC1B,QAAI,EAAE,QAAO4D,MAAP,yCAAOA,MAAP,MAAiB,QAAjB,IAA6BA,OAAO6qB,GAApC,IAA2C7qB,OAAO3D,IAAlD,IAA0D2D,OAAO2H,KAAnE,CAAJ,EACE,MAAM,IAAIvb,KAAJ,CAAU,mDAAV,CAAN;AACF6G,SAAK+M,MAAL,GAAcA,MAAd;AACD;AACF;;AAGD,SAAS8qB,IAAT,GAAgB,CAAE,C;;;;;;;AC/eL;;;;AAEb,IAAIn7B,UAAUxI,mBAAOA,CAAC,CAAR,CAAd;AAAA,IACIqI,OAAOrI,mBAAOA,CAAC,CAAR,CADX;AAAA,IAEIggC,eAAehgC,mBAAOA,CAAC,CAAR,CAFnB;AAAA,IAGI++B,kBAAkB/+B,mBAAOA,CAAC,EAAR,CAHtB;;AAKA,IAAI4jC,oBAAoB5jC,mBAAOA,CAAC,EAAR,CAAxB;;AAEA;;;;AAIA,IAAIC,aAAaoI,KAAKpI,UAAtB;AACA,IAAIF,QAAQC,mBAAOA,CAAC,CAAR,CAAZ;;AAEA;AACA,IAAIsN,kBAAkB0yB,aAAa5yB,UAAnC;;AAEAxO,OAAOC,OAAP,GAAiBqK,OAAjB;;AAGA;;;;;;;;;AASA,SAASA,OAAT,CAAiBhF,MAAjB,EAAyBiF,IAAzB,EAA+B0C,SAA/B,EAA0C9B,MAA1C,EAAkD;AAChD;AACA;AACA,MAAI+B,OAAO,IAAX;AAAA,MACIsJ,OAAO,KAAK3L,KADhB;AAAA,MAEIJ,SAAS,CAAEpL,SAAF,CAFb;AAAA,MAGIglC,OAAO,EAHX;AAAA,MAIIY,WAAW,EAJf;AAAA,MAKIC,eAAe,EALnB;AAAA,MAMIC,WAAW,EANf;AAAA,MAOIC,eAAe,EAPnB;AAAA,MAQIC,cAAc,EARlB;;AAUA96B,SAAOA,QAAQ,EAAEjF,QAAQA,MAAV,EAAkBmF,QAAQA,MAA1B,EAAkC45B,MAAMA,IAAxC,EAAf;;AAEA,MAAIngB,IAAIohB,eAAe36B,IAAf,CAAoB,IAApB,EAA0BrF,MAA1B,EAAkCiF,IAAlC,EAAwCY,MAAxC,CAAR;AACA,MAAIo6B,cAAc,KAAKxD,aAAL,CAAmB7d,EAAEmN,KAArB,CAAlB;AACA,MAAInN,EAAEggB,SAAN,EAAiB,OAAQqB,YAAYpB,YAAZ,GAA2BA,YAAnC;;AAEjB,MAAI/D,UAAU,KAAKsB,QAAnB;AACA,MAAI9pB,QAAQ,KAAKA,KAAjB;;AAEA,MAAI;AACF,QAAI1M,IAAIs6B,aAAalgC,MAAb,EAAqBiF,IAArB,EAA2B0C,SAA3B,EAAsC9B,MAAtC,CAAR;AACAo6B,gBAAYx6B,QAAZ,GAAuBG,CAAvB;AACA,QAAIu6B,KAAKF,YAAYpB,YAArB;AACA,QAAIsB,EAAJ,EAAQ;AACNA,SAAGngC,MAAH,GAAY4F,EAAE5F,MAAd;AACAmgC,SAAG52B,MAAH,GAAY,IAAZ;AACA42B,SAAGpB,IAAH,GAAUn5B,EAAEm5B,IAAZ;AACAoB,SAAGh7B,MAAH,GAAYS,EAAET,MAAd;AACAg7B,SAAGl7B,IAAH,GAAUW,EAAEX,IAAZ;AACAk7B,SAAG/tB,MAAH,GAAYxM,EAAEwM,MAAd;AACA,UAAIlB,KAAKwB,UAAT,EAAqBytB,GAAGC,MAAH,GAAYx6B,EAAEw6B,MAAd;AACtB;AACD,WAAOx6B,CAAP;AACD,GAdD,SAcU;AACRy6B,iBAAah7B,IAAb,CAAkB,IAAlB,EAAwBrF,MAAxB,EAAgCiF,IAAhC,EAAsCY,MAAtC;AACD;;AAED;AACA,WAASg5B,YAAT,GAAwB;AACtB;AACA,QAAIp5B,WAAWw6B,YAAYx6B,QAA3B;AACA,QAAI+J,SAAS/J,SAASgZ,KAAT,CAAe,IAAf,EAAqBF,SAArB,CAAb;AACAsgB,iBAAat1B,MAAb,GAAsB9D,SAAS8D,MAA/B;AACA,WAAOiG,MAAP;AACD;;AAED,WAAS0wB,YAAT,CAAsBI,OAAtB,EAA+BC,KAA/B,EAAsC54B,SAAtC,EAAiD9B,MAAjD,EAAyD;AACvD,QAAI26B,SAAS,CAACD,KAAD,IAAWA,SAASA,MAAMvgC,MAAN,IAAgBsgC,OAAjD;AACA,QAAIC,MAAMvgC,MAAN,IAAgBiF,KAAKjF,MAAzB,EACE,OAAOgF,QAAQK,IAAR,CAAauC,IAAb,EAAmB04B,OAAnB,EAA4BC,KAA5B,EAAmC54B,SAAnC,EAA8C9B,MAA9C,CAAP;;AAEF,QAAIuM,SAASkuB,QAAQluB,MAAR,KAAmB,IAAhC;;AAEA,QAAIM,aAAagtB,kBAAkB;AACjCjtB,aAAO,IAD0B;AAEjCzS,cAAQsgC,OAFyB;AAGjCE,cAAQA,MAHyB;AAIjC36B,cAAQA,MAJyB;AAKjCZ,YAAMs7B,KAL2B;AAMjCrtB,kBAAY,EANqB;AAOjCE,qBAAe,GAPkB;AAQjCO,iBAAW,IARsB;AASjCrK,uBAAiBwyB,aAAazyB,UATG;AAUjCiJ,aAAOA,KAV0B;AAWjC7M,gBAAUi6B,iBAXuB;AAYjCv7B,YAAMA,IAZ2B;AAajCG,eAASA,OAbwB;AAcjCm8B,kBAAYA,UAdqB;AAejCC,kBAAYA,UAfqB;AAgBjCjqB,kBAAYA,UAhBqB;AAiBjCkqB,qBAAeA,aAjBkB;AAkBjCzvB,YAAMA,IAlB2B;AAmBjC4pB,eAASA,OAnBwB;AAoBjCnmB,cAAQ/M,KAAK+M,MApBoB;AAqBjC/M,YAAMA;AArB2B,KAAlB,CAAjB;;AAwBA8K,iBAAakuB,KAAKz7B,MAAL,EAAa07B,UAAb,IAA2BD,KAAKjB,QAAL,EAAemB,WAAf,CAA3B,GACIF,KAAKf,QAAL,EAAekB,WAAf,CADJ,GACkCH,KAAKb,WAAL,EAAkBiB,cAAlB,CADlC,GAEItuB,UAFjB;;AAIA,QAAIxB,KAAKyB,WAAT,EAAsBD,aAAaxB,KAAKyB,WAAL,CAAiBD,UAAjB,CAAb;AACtB;AACA,QAAIjN,QAAJ;AACA,QAAI;AACF,UAAIw7B,eAAe,IAAIC,QAAJ,CACjB,MADiB,EAEjB,OAFiB,EAGjB,SAHiB,EAIjB,MAJiB,EAKjB,QALiB,EAMjB,UANiB,EAOjB,aAPiB,EAQjB,OARiB,EASjB,YATiB,EAUjB,iBAViB,EAWjBxuB,UAXiB,CAAnB;;AAcAjN,iBAAWw7B,aACTr5B,IADS,EAET0K,KAFS,EAGTwoB,OAHS,EAIT71B,IAJS,EAKTE,MALS,EAMT06B,QANS,EAOTE,WAPS,EAQTlkC,KARS,EASTE,UATS,EAUTqN,eAVS,CAAX;;AAaAjE,aAAO,CAAP,IAAYM,QAAZ;AACD,KA7BD,CA6BE,OAAM4jB,CAAN,EAAS;AACTzhB,WAAK+M,MAAL,CAAY2H,KAAZ,CAAkB,wCAAlB,EAA4D5J,UAA5D;AACA,YAAM2W,CAAN;AACD;;AAED5jB,aAASzF,MAAT,GAAkBsgC,OAAlB;AACA76B,aAAS8D,MAAT,GAAkB,IAAlB;AACA9D,aAASs5B,IAAT,GAAgBA,IAAhB;AACAt5B,aAASN,MAAT,GAAkBA,MAAlB;AACAM,aAASR,IAAT,GAAgBu7B,SAAS/6B,QAAT,GAAoB86B,KAApC;AACA,QAAInuB,MAAJ,EAAY3M,SAAS2M,MAAT,GAAkB,IAAlB;AACZ,QAAIlB,KAAKwB,UAAL,KAAoB,IAAxB,EAA8B;AAC5BjN,eAAS26B,MAAT,GAAkB;AAChB1iC,cAAMgV,UADU;AAEhBitB,kBAAUA,QAFM;AAGhBE,kBAAUA;AAHM,OAAlB;AAKD;;AAED,WAAOp6B,QAAP;AACD;;AAED,WAASg7B,UAAT,CAAoB56B,MAApB,EAA4BX,GAA5B,EAAiCs7B,MAAjC,EAAyC;AACvCt7B,UAAMZ,QAAQI,GAAR,CAAYmB,MAAZ,EAAoBX,GAApB,CAAN;AACA,QAAIi8B,WAAWpC,KAAK75B,GAAL,CAAf;AACA,QAAIk8B,OAAJ,EAAaC,OAAb;AACA,QAAIF,aAAapnC,SAAjB,EAA4B;AAC1BqnC,gBAAUj8B,OAAOg8B,QAAP,CAAV;AACAE,gBAAU,YAAYF,QAAZ,GAAuB,GAAjC;AACA,aAAOG,YAAYF,OAAZ,EAAqBC,OAArB,CAAP;AACD;AACD,QAAI,CAACb,MAAD,IAAWv7B,KAAK85B,IAApB,EAA0B;AACxB,UAAIwC,YAAYt8B,KAAK85B,IAAL,CAAU75B,GAAV,CAAhB;AACA,UAAIq8B,cAAcxnC,SAAlB,EAA6B;AAC3BqnC,kBAAUn8B,KAAKE,MAAL,CAAYo8B,SAAZ,CAAV;AACAF,kBAAUG,YAAYt8B,GAAZ,EAAiBk8B,OAAjB,CAAV;AACA,eAAOE,YAAYF,OAAZ,EAAqBC,OAArB,CAAP;AACD;AACF;;AAEDA,cAAUG,YAAYt8B,GAAZ,CAAV;AACA,QAAIU,IAAItB,QAAQe,IAAR,CAAauC,IAAb,EAAmBs4B,YAAnB,EAAiCj7B,IAAjC,EAAuCC,GAAvC,CAAR;AACA,QAAIU,MAAM7L,SAAV,EAAqB;AACnB,UAAI0nC,cAAc95B,aAAaA,UAAUzC,GAAV,CAA/B;AACA,UAAIu8B,WAAJ,EAAiB;AACf77B,YAAItB,QAAQQ,SAAR,CAAkB28B,WAAlB,EAA+BvwB,KAAK1L,UAApC,IACEi8B,WADF,GAEEz8B,QAAQK,IAAR,CAAauC,IAAb,EAAmB65B,WAAnB,EAAgCx8B,IAAhC,EAAsC0C,SAAtC,EAAiD9B,MAAjD,CAFN;AAGD;AACF;;AAED,QAAID,MAAM7L,SAAV,EAAqB;AACnB2nC,qBAAex8B,GAAf;AACD,KAFD,MAEO;AACLy8B,sBAAgBz8B,GAAhB,EAAqBU,CAArB;AACA,aAAO07B,YAAY17B,CAAZ,EAAey7B,OAAf,CAAP;AACD;AACF;;AAED,WAASG,WAAT,CAAqBt8B,GAArB,EAA0BU,CAA1B,EAA6B;AAC3B,QAAIg8B,QAAQz8B,OAAO1H,MAAnB;AACA0H,WAAOy8B,KAAP,IAAgBh8B,CAAhB;AACAm5B,SAAK75B,GAAL,IAAY08B,KAAZ;AACA,WAAO,WAAWA,KAAlB;AACD;;AAED,WAASF,cAAT,CAAwBx8B,GAAxB,EAA6B;AAC3B,WAAO65B,KAAK75B,GAAL,CAAP;AACD;;AAED,WAASy8B,eAAT,CAAyBz8B,GAAzB,EAA8BU,CAA9B,EAAiC;AAC/B,QAAIg8B,QAAQ7C,KAAK75B,GAAL,CAAZ;AACAC,WAAOy8B,KAAP,IAAgBh8B,CAAhB;AACD;;AAED,WAAS07B,WAAT,CAAqBn8B,MAArB,EAA6BzH,IAA7B,EAAmC;AACjC,WAAO,QAAOyH,MAAP,yCAAOA,MAAP,MAAiB,QAAjB,IAA6B,OAAOA,MAAP,IAAiB,SAA9C,GACG,EAAEzH,MAAMA,IAAR,EAAcsC,QAAQmF,MAAtB,EAA8B08B,QAAQ,IAAtC,EADH,GAEG,EAAEnkC,MAAMA,IAAR,EAAc0U,QAAQjN,UAAU,CAAC,CAACA,OAAOiN,MAAzC,EAFV;AAGD;;AAED,WAASsuB,UAAT,CAAoBoB,QAApB,EAA8B;AAC5B,QAAI/V,QAAQ6T,aAAakC,QAAb,CAAZ;AACA,QAAI/V,UAAUhyB,SAAd,EAAyB;AACvBgyB,cAAQ6T,aAAakC,QAAb,IAAyBnC,SAASliC,MAA1C;AACAkiC,eAAS5T,KAAT,IAAkB+V,QAAlB;AACD;AACD,WAAO,YAAY/V,KAAnB;AACD;;AAED,WAAStV,UAAT,CAAoBjF,KAApB,EAA2B;AACzB,mBAAeA,KAAf,yCAAeA,KAAf;AACE,WAAK,SAAL;AACA,WAAK,QAAL;AACE,eAAO,KAAKA,KAAZ;AACF,WAAK,QAAL;AACE,eAAOrN,KAAK7H,cAAL,CAAoBkV,KAApB,CAAP;AACF,WAAK,QAAL;AACE,YAAIA,UAAU,IAAd,EAAoB,OAAO,MAAP;AACpB,YAAIuwB,WAAWlH,gBAAgBrpB,KAAhB,CAAf;AACA,YAAIua,QAAQ+T,aAAaiC,QAAb,CAAZ;AACA,YAAIhW,UAAUhyB,SAAd,EAAyB;AACvBgyB,kBAAQ+T,aAAaiC,QAAb,IAAyBlC,SAASpiC,MAA1C;AACAoiC,mBAAS9T,KAAT,IAAkBva,KAAlB;AACD;AACD,eAAO,YAAYua,KAAnB;AAdJ;AAgBD;;AAED,WAAS4U,aAAT,CAAuBqB,IAAvB,EAA6BhiC,MAA7B,EAAqCmI,YAArC,EAAmD8J,EAAnD,EAAuD;AACrD,QAAIipB,iBAAiB8G,KAAKC,UAAL,CAAgB/G,cAArC;AACA,QAAIA,kBAAkBtzB,KAAKrC,KAAL,CAAW21B,cAAX,KAA8B,KAApD,EAA2D;AACzD,UAAI3rB,QAAQ2rB,eAAel7B,MAAf,CAAZ;AACA,UAAI,CAACuP,KAAL,EAAY;AACV,YAAI/F,UAAU,gCAAgC5B,KAAK0zB,UAAL,CAAgBJ,eAAe3xB,MAA/B,CAA9C;AACA,YAAI3B,KAAKrC,KAAL,CAAW21B,cAAX,IAA6B,KAAjC,EAAwCtzB,KAAK+M,MAAL,CAAY2H,KAAZ,CAAkB9S,OAAlB,EAAxC,KACK,MAAM,IAAIzI,KAAJ,CAAUyI,OAAV,CAAN;AACN;AACF;;AAED,QAAIxE,UAAUg9B,KAAKC,UAAL,CAAgBj9B,OAA9B;AAAA,QACI68B,SAASG,KAAKC,UAAL,CAAgBJ,MAD7B;AAAA,QAEIK,QAAQF,KAAKC,UAAL,CAAgBC,KAF5B;;AAIA,QAAIz8B,QAAJ;AACA,QAAIT,OAAJ,EAAa;AACXS,iBAAWT,QAAQK,IAAR,CAAauC,IAAb,EAAmB5H,MAAnB,EAA2BmI,YAA3B,EAAyC8J,EAAzC,CAAX;AACD,KAFD,MAEO,IAAIiwB,KAAJ,EAAW;AAChBz8B,iBAAWy8B,MAAM78B,IAAN,CAAWuC,IAAX,EAAiB5H,MAAjB,EAAyBmI,YAAzB,EAAuC8J,EAAvC,CAAX;AACA,UAAIf,KAAKgqB,cAAL,KAAwB,KAA5B,EAAmCtzB,KAAKszB,cAAL,CAAoBz1B,QAApB,EAA8B,IAA9B;AACpC,KAHM,MAGA,IAAIo8B,MAAJ,EAAY;AACjBp8B,iBAAWo8B,OAAOx8B,IAAP,CAAYuC,IAAZ,EAAkBqK,EAAlB,EAAsB+vB,KAAK7qB,OAA3B,EAAoCnX,MAApC,EAA4CmI,YAA5C,CAAX;AACD,KAFM,MAEA;AACL1C,iBAAWu8B,KAAKC,UAAL,CAAgBx8B,QAA3B;AACA,UAAI,CAACA,QAAL,EAAe;AAChB;;AAED,QAAIA,aAAa1L,SAAjB,EACE,MAAM,IAAIgH,KAAJ,CAAU,qBAAqBihC,KAAK7qB,OAA1B,GAAoC,oBAA9C,CAAN;;AAEF,QAAI4U,QAAQgU,YAAYtiC,MAAxB;AACAsiC,gBAAYhU,KAAZ,IAAqBtmB,QAArB;;AAEA,WAAO;AACL/H,YAAM,eAAequB,KADhB;AAELtmB,gBAAUA;AAFL,KAAP;AAID;AACF;;AAGD;;;;;;;;AAQA,SAASu6B,cAAT,CAAwBhgC,MAAxB,EAAgCiF,IAAhC,EAAsCY,MAAtC,EAA8C;AAC5C;AACA,MAAIkmB,QAAQoW,UAAU98B,IAAV,CAAe,IAAf,EAAqBrF,MAArB,EAA6BiF,IAA7B,EAAmCY,MAAnC,CAAZ;AACA,MAAIkmB,SAAS,CAAb,EAAgB,OAAO,EAAEA,OAAOA,KAAT,EAAgB6S,WAAW,IAA3B,EAAP;AAChB7S,UAAQ,KAAK0Q,aAAL,CAAmBh/B,MAA3B;AACA,OAAKg/B,aAAL,CAAmB1Q,KAAnB,IAA4B;AAC1B/rB,YAAQA,MADkB;AAE1BiF,UAAMA,IAFoB;AAG1BY,YAAQA;AAHkB,GAA5B;AAKA,SAAO,EAAEkmB,OAAOA,KAAT,EAAgB6S,WAAW,KAA3B,EAAP;AACD;;AAGD;;;;;;;AAOA,SAASyB,YAAT,CAAsBrgC,MAAtB,EAA8BiF,IAA9B,EAAoCY,MAApC,EAA4C;AAC1C;AACA,MAAIxK,IAAI8mC,UAAU98B,IAAV,CAAe,IAAf,EAAqBrF,MAArB,EAA6BiF,IAA7B,EAAmCY,MAAnC,CAAR;AACA,MAAIxK,KAAK,CAAT,EAAY,KAAKohC,aAAL,CAAmB1qB,MAAnB,CAA0B1W,CAA1B,EAA6B,CAA7B;AACb;;AAGD;;;;;;;;AAQA,SAAS8mC,SAAT,CAAmBniC,MAAnB,EAA2BiF,IAA3B,EAAiCY,MAAjC,EAAyC;AACvC;AACA,OAAK,IAAIxK,IAAE,CAAX,EAAcA,IAAE,KAAKohC,aAAL,CAAmBh/B,MAAnC,EAA2CpC,GAA3C,EAAgD;AAC9C,QAAIujB,IAAI,KAAK6d,aAAL,CAAmBphC,CAAnB,CAAR;AACA,QAAIujB,EAAE5e,MAAF,IAAYA,MAAZ,IAAsB4e,EAAE3Z,IAAF,IAAUA,IAAhC,IAAwC2Z,EAAE/Y,MAAF,IAAYA,MAAxD,EAAgE,OAAOxK,CAAP;AACjE;AACD,SAAO,CAAC,CAAR;AACD;;AAGD,SAASylC,WAAT,CAAqBzlC,CAArB,EAAwBskC,QAAxB,EAAkC;AAChC,SAAO,gBAAgBtkC,CAAhB,GAAoB,gBAApB,GAAuC8I,KAAK7H,cAAL,CAAoBqjC,SAAStkC,CAAT,CAApB,CAAvC,GAA0E,IAAjF;AACD;;AAGD,SAAS0lC,WAAT,CAAqB1lC,CAArB,EAAwB;AACtB,SAAO,gBAAgBA,CAAhB,GAAoB,cAApB,GAAqCA,CAArC,GAAyC,IAAhD;AACD;;AAGD,SAASwlC,UAAT,CAAoBxlC,CAApB,EAAuB8J,MAAvB,EAA+B;AAC7B,SAAOA,OAAO9J,CAAP,MAActB,SAAd,GAA0B,EAA1B,GAA+B,eAAesB,CAAf,GAAmB,YAAnB,GAAkCA,CAAlC,GAAsC,IAA5E;AACD;;AAGD,SAAS2lC,cAAT,CAAwB3lC,CAAxB,EAA2B;AACzB,SAAO,mBAAmBA,CAAnB,GAAuB,iBAAvB,GAA2CA,CAA3C,GAA+C,IAAtD;AACD;;AAGD,SAASulC,IAAT,CAActiC,GAAd,EAAmB8jC,SAAnB,EAA8B;AAC5B,MAAI,CAAC9jC,IAAIb,MAAT,EAAiB,OAAO,EAAP;AACjB,MAAIC,OAAO,EAAX;AACA,OAAK,IAAIrC,IAAE,CAAX,EAAcA,IAAEiD,IAAIb,MAApB,EAA4BpC,GAA5B;AACEqC,YAAQ0kC,UAAU/mC,CAAV,EAAaiD,GAAb,CAAR;AADF,GAEA,OAAOZ,IAAP;AACD,C;;;;;;;;;;;AC1XD;AACC,WAAU8nB,MAAV,EAAkB6J,OAAlB,EAA2B;AAC3B,oCAAO10B,OAAP,OAAmB,QAAnB,IAA+B,OAAOD,MAAP,KAAkB,WAAjD,GAA+D20B,QAAQ10B,OAAR,CAA/D,GACA,QAA6C8qB,iCAAO,CAAC,OAAD,CAAP,oCAAoB4J,OAApB;AAAA;AAAA;AAAA,oGAA7C,GACCA,QAAS7J,OAAOthB,GAAP,GAAashB,OAAOthB,GAAP,IAAc,EAApC,CAFD;AAGA,CAJA,aAIQ,UAAUvJ,OAAV,EAAmB;AAAE;;AAE9B,aAAS0nC,KAAT,GAAiB;AACb,aAAK,IAAIC,OAAO/jB,UAAU9gB,MAArB,EAA6B8kC,OAAOnkC,MAAMkkC,IAAN,CAApC,EAAiDE,OAAO,CAA7D,EAAgEA,OAAOF,IAAvE,EAA6EE,MAA7E,EAAqF;AACjFD,iBAAKC,IAAL,IAAajkB,UAAUikB,IAAV,CAAb;AACH;;AAED,YAAID,KAAK9kC,MAAL,GAAc,CAAlB,EAAqB;AACjB8kC,iBAAK,CAAL,IAAUA,KAAK,CAAL,EAAQ77B,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,CAAV;AACA,gBAAI+7B,KAAKF,KAAK9kC,MAAL,GAAc,CAAvB;AACA,iBAAK,IAAI3D,IAAI,CAAb,EAAgBA,IAAI2oC,EAApB,EAAwB,EAAE3oC,CAA1B,EAA6B;AACzByoC,qBAAKzoC,CAAL,IAAUyoC,KAAKzoC,CAAL,EAAQ4M,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,CAAV;AACH;AACD67B,iBAAKE,EAAL,IAAWF,KAAKE,EAAL,EAAS/7B,KAAT,CAAe,CAAf,CAAX;AACA,mBAAO67B,KAAK9sB,IAAL,CAAU,EAAV,CAAP;AACH,SARD,MAQO;AACH,mBAAO8sB,KAAK,CAAL,CAAP;AACH;AACJ;AACD,aAASG,MAAT,CAAgB/jC,GAAhB,EAAqB;AACjB,eAAO,QAAQA,GAAR,GAAc,GAArB;AACH;AACD,aAASgkC,MAAT,CAAgB7lC,CAAhB,EAAmB;AACf,eAAOA,MAAM/C,SAAN,GAAkB,WAAlB,GAAgC+C,MAAM,IAAN,GAAa,MAAb,GAAsB9B,OAAOuN,SAAP,CAAiBU,QAAjB,CAA0B5D,IAA1B,CAA+BvI,CAA/B,EAAkCmE,KAAlC,CAAwC,GAAxC,EAA6C8S,GAA7C,GAAmD9S,KAAnD,CAAyD,GAAzD,EAA8DyjB,KAA9D,GAAsEke,WAAtE,EAA7D;AACH;AACD,aAASC,WAAT,CAAqBlkC,GAArB,EAA0B;AACtB,eAAOA,IAAIkkC,WAAJ,EAAP;AACH;AACD,aAASC,OAAT,CAAiB7xB,GAAjB,EAAsB;AAClB,eAAOA,QAAQlX,SAAR,IAAqBkX,QAAQ,IAA7B,GAAoCA,eAAe7S,KAAf,GAAuB6S,GAAvB,GAA6B,OAAOA,IAAIxT,MAAX,KAAsB,QAAtB,IAAkCwT,IAAIhQ,KAAtC,IAA+CgQ,IAAIgL,WAAnD,IAAkEhL,IAAI5L,IAAtE,GAA6E,CAAC4L,GAAD,CAA7E,GAAqF7S,MAAMmK,SAAN,CAAgB7B,KAAhB,CAAsBrB,IAAtB,CAA2B4L,GAA3B,CAAtJ,GAAwL,EAA/L;AACH;AACD,aAAS8xB,MAAT,CAAgBC,MAAhB,EAAwB5C,MAAxB,EAAgC;AAC5B,YAAInvB,MAAM+xB,MAAV;AACA,YAAI5C,MAAJ,EAAY;AACR,iBAAK,IAAIpjC,GAAT,IAAgBojC,MAAhB,EAAwB;AACpBnvB,oBAAIjU,GAAJ,IAAWojC,OAAOpjC,GAAP,CAAX;AACH;AACJ;AACD,eAAOiU,GAAP;AACH;;AAED,aAASgyB,SAAT,CAAmBC,KAAnB,EAA0B;AACtB,YAAIC,UAAU,UAAd;AAAA,YACIC,MAAM,SADV;AAAA,YAEIC,UAAU,OAFd;AAAA,YAGIC,WAAW,SAHf;AAAA,YAIIC,WAAWlB,MAAMgB,OAAN,EAAe,UAAf,CAJf;;AAKI;AACJG,eAAO,SANP;AAAA,YAOIC,OAAO,SAPX;AAAA,YAQIC,eAAehB,OAAOA,OAAO,YAAYa,QAAZ,GAAuB,GAAvB,GAA6BA,QAA7B,GAAwCA,QAAxC,GAAmD,GAAnD,GAAyDA,QAAzD,GAAoEA,QAA3E,IAAuF,GAAvF,GAA6Fb,OAAO,gBAAgBa,QAAhB,GAA2B,GAA3B,GAAiCA,QAAjC,GAA4CA,QAAnD,CAA7F,GAA4J,GAA5J,GAAkKb,OAAO,MAAMa,QAAN,GAAiBA,QAAxB,CAAzK,CARnB;;AASI;AACJI,uBAAe,yBAVf;AAAA,YAWIC,eAAe,qCAXnB;AAAA,YAYIC,aAAaxB,MAAMsB,YAAN,EAAoBC,YAApB,CAZjB;AAAA,YAaIE,YAAYZ,QAAQ,6EAAR,GAAwF,IAbxG;;AAcI;AACJa,qBAAab,QAAQ,mBAAR,GAA8B,IAf3C;;AAgBI;AACJc,uBAAe3B,MAAMc,OAAN,EAAeE,OAAf,EAAwB,gBAAxB,EAA0CS,SAA1C,CAjBf;AAAA,YAkBIG,UAAUvB,OAAOS,UAAUd,MAAMc,OAAN,EAAeE,OAAf,EAAwB,aAAxB,CAAV,GAAmD,GAA1D,CAlBd;AAAA,YAmBIa,YAAYxB,OAAOA,OAAOgB,eAAe,GAAf,GAAqBrB,MAAM2B,YAAN,EAAoBJ,YAApB,EAAkC,OAAlC,CAA5B,IAA0E,GAAjF,CAnBhB;AAAA,YAoBIO,aAAazB,OAAOA,OAAO,SAAP,IAAoB,GAApB,GAA0BA,OAAO,WAAWW,OAAlB,CAA1B,GAAuD,GAAvD,GAA6DX,OAAO,MAAMW,OAAN,GAAgBA,OAAvB,CAA7D,GAA+F,GAA/F,GAAqGX,OAAO,UAAUW,OAAjB,CAArG,GAAiI,GAAjI,GAAuIA,OAA9I,CApBjB;AAAA,YAqBIe,qBAAqB1B,OAAOA,OAAO,SAAP,IAAoB,GAApB,GAA0BA,OAAO,WAAWW,OAAlB,CAA1B,GAAuD,GAAvD,GAA6DX,OAAO,MAAMW,OAAN,GAAgBA,OAAvB,CAA7D,GAA+F,GAA/F,GAAqGX,OAAO,YAAYW,OAAnB,CAArG,GAAmI,OAAnI,GAA6IA,OAApJ,CArBzB;;AAsBI;AACJgB,uBAAe3B,OAAO0B,qBAAqB,KAArB,GAA6BA,kBAA7B,GAAkD,KAAlD,GAA0DA,kBAA1D,GAA+E,KAA/E,GAAuFA,kBAA9F,CAvBf;AAAA,YAwBIE,OAAO5B,OAAOa,WAAW,OAAlB,CAxBX;AAAA,YAyBIgB,QAAQ7B,OAAOA,OAAO4B,OAAO,KAAP,GAAeA,IAAtB,IAA8B,GAA9B,GAAoCD,YAA3C,CAzBZ;AAAA,YA0BIG,gBAAgB9B,OAAOA,OAAO4B,OAAO,KAAd,IAAuB,KAAvB,GAA+BC,KAAtC,CA1BpB;;AA2BI;AACJE,wBAAgB/B,OAAO,WAAWA,OAAO4B,OAAO,KAAd,CAAX,GAAkC,KAAlC,GAA0CC,KAAjD,CA5BhB;;AA6BI;AACJG,wBAAgBhC,OAAOA,OAAO4B,IAAP,IAAe,SAAf,GAA2B5B,OAAO4B,OAAO,KAAd,CAA3B,GAAkD,KAAlD,GAA0DC,KAAjE,CA9BhB;;AA+BI;AACJI,wBAAgBjC,OAAOA,OAAOA,OAAO4B,OAAO,KAAd,IAAuB,OAAvB,GAAiCA,IAAxC,IAAgD,SAAhD,GAA4D5B,OAAO4B,OAAO,KAAd,CAA5D,GAAmF,KAAnF,GAA2FC,KAAlG,CAhChB;;AAiCI;AACJK,wBAAgBlC,OAAOA,OAAOA,OAAO4B,OAAO,KAAd,IAAuB,OAAvB,GAAiCA,IAAxC,IAAgD,SAAhD,GAA4D5B,OAAO4B,OAAO,KAAd,CAA5D,GAAmF,KAAnF,GAA2FC,KAAlG,CAlChB;;AAmCI;AACJM,wBAAgBnC,OAAOA,OAAOA,OAAO4B,OAAO,KAAd,IAAuB,OAAvB,GAAiCA,IAAxC,IAAgD,SAAhD,GAA4DA,IAA5D,GAAmE,KAAnE,GAA2EC,KAAlF,CApChB;;AAqCI;AACJO,wBAAgBpC,OAAOA,OAAOA,OAAO4B,OAAO,KAAd,IAAuB,OAAvB,GAAiCA,IAAxC,IAAgD,SAAhD,GAA4DC,KAAnE,CAtChB;;AAuCI;AACJQ,wBAAgBrC,OAAOA,OAAOA,OAAO4B,OAAO,KAAd,IAAuB,OAAvB,GAAiCA,IAAxC,IAAgD,SAAhD,GAA4DA,IAAnE,CAxChB;;AAyCI;AACJU,wBAAgBtC,OAAOA,OAAOA,OAAO4B,OAAO,KAAd,IAAuB,OAAvB,GAAiCA,IAAxC,IAAgD,SAAvD,CA1ChB;;AA2CI;AACJW,uBAAevC,OAAO,CAAC8B,aAAD,EAAgBC,aAAhB,EAA+BC,aAA/B,EAA8CC,aAA9C,EAA6DC,aAA7D,EAA4EC,aAA5E,EAA2FC,aAA3F,EAA0GC,aAA1G,EAAyHC,aAAzH,EAAwIvvB,IAAxI,CAA6I,GAA7I,CAAP,CA5Cf;AAAA,YA6CIyvB,UAAUxC,OAAOA,OAAOsB,eAAe,GAAf,GAAqBN,YAA5B,IAA4C,GAAnD,CA7Cd;;AA8CI;AACJyB,qBAAazC,OAAOuC,eAAe,OAAf,GAAyBC,OAAhC,CA/Cb;;AAgDI;AACJE,6BAAqB1C,OAAOuC,eAAevC,OAAO,iBAAiBa,QAAjB,GAA4B,MAAnC,CAAf,GAA4D2B,OAAnE,CAjDrB;;AAkDI;AACJG,qBAAa3C,OAAO,SAASa,QAAT,GAAoB,MAApB,GAA6BlB,MAAM2B,YAAN,EAAoBJ,YAApB,EAAkC,OAAlC,CAA7B,GAA0E,GAAjF,CAnDb;AAAA,YAoDI0B,cAAc5C,OAAO,QAAQA,OAAO0C,qBAAqB,GAArB,GAA2BH,YAA3B,GAA0C,GAA1C,GAAgDI,UAAvD,CAAR,GAA6E,KAApF,CApDlB;;AAqDI;AACJE,oBAAY7C,OAAOA,OAAOgB,eAAe,GAAf,GAAqBrB,MAAM2B,YAAN,EAAoBJ,YAApB,CAA5B,IAAiE,GAAxE,CAtDZ;AAAA,YAuDI4B,QAAQ9C,OAAO4C,cAAc,GAAd,GAAoBjB,YAApB,GAAmC,KAAnC,GAA2CkB,SAA3C,GAAuD,GAAvD,GAA6D,GAA7D,GAAmEA,SAA1E,CAvDZ;AAAA,YAwDIE,QAAQ/C,OAAOW,UAAU,GAAjB,CAxDZ;AAAA,YAyDIqC,aAAahD,OAAOA,OAAOwB,YAAY,GAAnB,IAA0B,GAA1B,GAAgCsB,KAAhC,GAAwC9C,OAAO,QAAQ+C,KAAf,CAAxC,GAAgE,GAAvE,CAzDjB;AAAA,YA0DIE,SAASjD,OAAOgB,eAAe,GAAf,GAAqBrB,MAAM2B,YAAN,EAAoBJ,YAApB,EAAkC,UAAlC,CAA5B,CA1Db;AAAA,YA2DIgC,WAAWlD,OAAOiD,SAAS,GAAhB,CA3Df;AAAA,YA4DIE,cAAcnD,OAAOiD,SAAS,GAAhB,CA5DlB;AAAA,YA6DIG,iBAAiBpD,OAAOA,OAAOgB,eAAe,GAAf,GAAqBrB,MAAM2B,YAAN,EAAoBJ,YAApB,EAAkC,OAAlC,CAA5B,IAA0E,GAAjF,CA7DrB;AAAA,YA8DImC,gBAAgBrD,OAAOA,OAAO,QAAQkD,QAAf,IAA2B,GAAlC,CA9DpB;AAAA,YA+DII,iBAAiBtD,OAAO,QAAQA,OAAOmD,cAAcE,aAArB,CAAR,GAA8C,GAArD,CA/DrB;;AAgEI;AACJE,yBAAiBvD,OAAOoD,iBAAiBC,aAAxB,CAjEjB;;AAkEI;AACJG,yBAAiBxD,OAAOmD,cAAcE,aAArB,CAnEjB;;AAoEI;AACJI,sBAAc,QAAQR,MAAR,GAAiB,GArE/B;AAAA,YAsEIS,QAAQ1D,OAAOqD,gBAAgB,GAAhB,GAAsBC,cAAtB,GAAuC,GAAvC,GAA6CC,cAA7C,GAA8D,GAA9D,GAAoEC,cAApE,GAAqF,GAArF,GAA2FC,WAAlG,CAtEZ;AAAA,YAuEIE,SAAS3D,OAAOA,OAAOiD,SAAS,GAAT,GAAetD,MAAM,UAAN,EAAkB0B,UAAlB,CAAtB,IAAuD,GAA9D,CAvEb;AAAA,YAwEIuC,YAAY5D,OAAOA,OAAOiD,SAAS,WAAhB,IAA+B,GAAtC,CAxEhB;AAAA,YAyEIY,aAAa7D,OAAOA,OAAO,WAAWgD,UAAX,GAAwBK,aAA/B,IAAgD,GAAhD,GAAsDC,cAAtD,GAAuE,GAAvE,GAA6EE,cAA7E,GAA8F,GAA9F,GAAoGC,WAA3G,CAzEjB;AAAA,YA0EIK,OAAO9D,OAAOuB,UAAU,KAAV,GAAkBsC,UAAlB,GAA+B7D,OAAO,QAAQ2D,MAAf,CAA/B,GAAwD,GAAxD,GAA8D3D,OAAO,QAAQ4D,SAAf,CAA9D,GAA0F,GAAjG,CA1EX;AAAA,YA2EIG,iBAAiB/D,OAAOA,OAAO,WAAWgD,UAAX,GAAwBK,aAA/B,IAAgD,GAAhD,GAAsDC,cAAtD,GAAuE,GAAvE,GAA6EC,cAA7E,GAA8F,GAA9F,GAAoGE,WAA3G,CA3ErB;AAAA,YA4EIO,YAAYhE,OAAO+D,iBAAiB/D,OAAO,QAAQ2D,MAAf,CAAjB,GAA0C,GAA1C,GAAgD3D,OAAO,QAAQ4D,SAAf,CAAhD,GAA4E,GAAnF,CA5EhB;AAAA,YA6EIK,iBAAiBjE,OAAO8D,OAAO,GAAP,GAAaE,SAApB,CA7ErB;AAAA,YA8EIE,gBAAgBlE,OAAOuB,UAAU,KAAV,GAAkBsC,UAAlB,GAA+B7D,OAAO,QAAQ2D,MAAf,CAA/B,GAAwD,GAA/D,CA9EpB;AAAA,YA+EIQ,eAAe,OAAO5C,OAAP,GAAiB,MAAjB,GAA0BvB,OAAOA,OAAO,YAAYA,OAAO,MAAMwB,SAAN,GAAkB,IAAzB,CAAZ,GAA6C,IAA7C,GAAoDsB,KAApD,GAA4D,GAA5D,GAAkE9C,OAAO,SAAS+C,KAAT,GAAiB,GAAxB,CAAlE,GAAiG,IAAxG,IAAgH,IAAhH,GAAuHM,aAAvH,GAAuI,GAAvI,GAA6IC,cAA7I,GAA8J,GAA9J,GAAoKE,cAApK,GAAqL,GAArL,GAA2LC,WAA3L,GAAyM,GAAhN,CAA1B,GAAiPzD,OAAO,SAAS2D,MAAT,GAAkB,GAAzB,CAAjP,GAAiR,GAAjR,GAAuR3D,OAAO,SAAS4D,SAAT,GAAqB,GAA5B,CAAvR,GAA0T,IA/E7U;AAAA,YAgFIQ,gBAAgB,WAAWpE,OAAOA,OAAO,YAAYA,OAAO,MAAMwB,SAAN,GAAkB,IAAzB,CAAZ,GAA6C,IAA7C,GAAoDsB,KAApD,GAA4D,GAA5D,GAAkE9C,OAAO,SAAS+C,KAAT,GAAiB,GAAxB,CAAlE,GAAiG,IAAxG,IAAgH,IAAhH,GAAuHM,aAAvH,GAAuI,GAAvI,GAA6IC,cAA7I,GAA8J,GAA9J,GAAoKC,cAApK,GAAqL,GAArL,GAA2LE,WAA3L,GAAyM,GAAhN,CAAX,GAAkOzD,OAAO,SAAS2D,MAAT,GAAkB,GAAzB,CAAlO,GAAkQ,GAAlQ,GAAwQ3D,OAAO,SAAS4D,SAAT,GAAqB,GAA5B,CAAxQ,GAA2S,IAhF/T;AAAA,YAiFIS,gBAAgB,OAAO9C,OAAP,GAAiB,MAAjB,GAA0BvB,OAAOA,OAAO,YAAYA,OAAO,MAAMwB,SAAN,GAAkB,IAAzB,CAAZ,GAA6C,IAA7C,GAAoDsB,KAApD,GAA4D,GAA5D,GAAkE9C,OAAO,SAAS+C,KAAT,GAAiB,GAAxB,CAAlE,GAAiG,IAAxG,IAAgH,IAAhH,GAAuHM,aAAvH,GAAuI,GAAvI,GAA6IC,cAA7I,GAA8J,GAA9J,GAAoKE,cAApK,GAAqL,GAArL,GAA2LC,WAA3L,GAAyM,GAAhN,CAA1B,GAAiPzD,OAAO,SAAS2D,MAAT,GAAkB,GAAzB,CAAjP,GAAiR,IAjFrS;AAAA,YAkFIW,eAAe,MAAMtE,OAAO,SAAS4D,SAAT,GAAqB,GAA5B,CAAN,GAAyC,IAlF5D;AAAA,YAmFIW,iBAAiB,MAAMvE,OAAO,MAAMwB,SAAN,GAAkB,IAAzB,CAAN,GAAuC,IAAvC,GAA8CsB,KAA9C,GAAsD,GAAtD,GAA4D9C,OAAO,SAAS+C,KAAT,GAAiB,GAAxB,CAA5D,GAA2F,IAnFhH;AAoFA,eAAO;AACHyB,wBAAY,IAAIloC,MAAJ,CAAWqjC,MAAM,KAAN,EAAac,OAAb,EAAsBE,OAAtB,EAA+B,aAA/B,CAAX,EAA0D,GAA1D,CADT;AAEH8D,0BAAc,IAAInoC,MAAJ,CAAWqjC,MAAM,WAAN,EAAmB2B,YAAnB,EAAiCJ,YAAjC,CAAX,EAA2D,GAA3D,CAFX;AAGHwD,sBAAU,IAAIpoC,MAAJ,CAAWqjC,MAAM,iBAAN,EAAyB2B,YAAzB,EAAuCJ,YAAvC,CAAX,EAAiE,GAAjE,CAHP;AAIHyD,sBAAU,IAAIroC,MAAJ,CAAWqjC,MAAM,iBAAN,EAAyB2B,YAAzB,EAAuCJ,YAAvC,CAAX,EAAiE,GAAjE,CAJP;AAKH0D,+BAAmB,IAAItoC,MAAJ,CAAWqjC,MAAM,cAAN,EAAsB2B,YAAtB,EAAoCJ,YAApC,CAAX,EAA8D,GAA9D,CALhB;AAMH2D,uBAAW,IAAIvoC,MAAJ,CAAWqjC,MAAM,QAAN,EAAgB2B,YAAhB,EAA8BJ,YAA9B,EAA4C,gBAA5C,EAA8DG,UAA9D,CAAX,EAAsF,GAAtF,CANR;AAOHyD,0BAAc,IAAIxoC,MAAJ,CAAWqjC,MAAM,QAAN,EAAgB2B,YAAhB,EAA8BJ,YAA9B,EAA4C,gBAA5C,CAAX,EAA0E,GAA1E,CAPX;AAQH6D,oBAAQ,IAAIzoC,MAAJ,CAAWqjC,MAAM,KAAN,EAAa2B,YAAb,EAA2BJ,YAA3B,CAAX,EAAqD,GAArD,CARL;AASH8D,wBAAY,IAAI1oC,MAAJ,CAAWglC,YAAX,EAAyB,GAAzB,CATT;AAUH2D,yBAAa,IAAI3oC,MAAJ,CAAWqjC,MAAM,QAAN,EAAgB2B,YAAhB,EAA8BH,UAA9B,CAAX,EAAsD,GAAtD,CAVV;AAWH+D,yBAAa,IAAI5oC,MAAJ,CAAW0kC,YAAX,EAAyB,GAAzB,CAXV;AAYHmE,yBAAa,IAAI7oC,MAAJ,CAAW,OAAOqlC,YAAP,GAAsB,IAAjC,CAZV;AAaHyD,yBAAa,IAAI9oC,MAAJ,CAAW,WAAWimC,YAAX,GAA0B,GAA1B,GAAgCvC,OAAOA,OAAO,iBAAiBa,QAAjB,GAA4B,MAAnC,IAA6C,GAA7C,GAAmD2B,OAAnD,GAA6D,GAApE,CAAhC,GAA2G,QAAtH,CAbV,CAa0I;AAb1I,SAAP;AAeH;AACD,QAAI6C,eAAe9E,UAAU,KAAV,CAAnB;;AAEA,QAAI+E,eAAe/E,UAAU,IAAV,CAAnB;;AAEA,QAAIgF,gBAAgB,YAAY;AAC9B,iBAASC,aAAT,CAAuB5pC,GAAvB,EAA4BjD,CAA5B,EAA+B;AAC7B,gBAAI8sC,OAAO,EAAX;AACA,gBAAIC,KAAK,IAAT;AACA,gBAAIC,KAAK,KAAT;AACA,gBAAIC,KAAKvuC,SAAT;;AAEA,gBAAI;AACF,qBAAK,IAAIwuC,KAAKjqC,IAAIkqC,OAAOC,QAAX,GAAT,EAAiCC,EAAtC,EAA0C,EAAEN,KAAK,CAACM,KAAKH,GAAGziB,IAAH,EAAN,EAAiBxZ,IAAxB,CAA1C,EAAyE87B,KAAK,IAA9E,EAAoF;AAClFD,yBAAKz7B,IAAL,CAAUg8B,GAAGl3B,KAAb;;AAEA,wBAAInW,KAAK8sC,KAAK1qC,MAAL,KAAgBpC,CAAzB,EAA4B;AAC7B;AACF,aAND,CAME,OAAOyT,GAAP,EAAY;AACZu5B,qBAAK,IAAL;AACAC,qBAAKx5B,GAAL;AACD,aATD,SASU;AACR,oBAAI;AACF,wBAAI,CAACs5B,EAAD,IAAOG,GAAG,QAAH,CAAX,EAAyBA,GAAG,QAAH;AAC1B,iBAFD,SAEU;AACR,wBAAIF,EAAJ,EAAQ,MAAMC,EAAN;AACT;AACF;;AAED,mBAAOH,IAAP;AACD;;AAED,eAAO,UAAU7pC,GAAV,EAAejD,CAAf,EAAkB;AACvB,gBAAI+C,MAAMC,OAAN,CAAcC,GAAd,CAAJ,EAAwB;AACtB,uBAAOA,GAAP;AACD,aAFD,MAEO,IAAIkqC,OAAOC,QAAP,IAAmBztC,OAAOsD,GAAP,CAAvB,EAAoC;AACzC,uBAAO4pC,cAAc5pC,GAAd,EAAmBjD,CAAnB,CAAP;AACD,aAFM,MAEA;AACL,sBAAM,IAAIuW,SAAJ,CAAc,sDAAd,CAAN;AACD;AACF,SARD;AASD,KApCmB,EAApB;;AAkDA,QAAI+2B,oBAAoB,SAApBA,iBAAoB,CAAUrqC,GAAV,EAAe;AACrC,YAAIF,MAAMC,OAAN,CAAcC,GAAd,CAAJ,EAAwB;AACtB,iBAAK,IAAIjD,IAAI,CAAR,EAAWua,OAAOxX,MAAME,IAAIb,MAAV,CAAvB,EAA0CpC,IAAIiD,IAAIb,MAAlD,EAA0DpC,GAA1D;AAA+Dua,qBAAKva,CAAL,IAAUiD,IAAIjD,CAAJ,CAAV;AAA/D,aAEA,OAAOua,IAAP;AACD,SAJD,MAIO;AACL,mBAAOxX,MAAMwqC,IAAN,CAAWtqC,GAAX,CAAP;AACD;AACF,KARD;;AAUA;;AAEA,QAAIuqC,SAAS,UAAb,CAhN4B,CAgNH;;AAEzB;AACA,QAAIC,OAAO,EAAX;AACA,QAAIC,OAAO,CAAX;AACA,QAAIC,OAAO,EAAX;AACA,QAAIC,OAAO,EAAX;AACA,QAAIC,OAAO,GAAX;AACA,QAAIC,cAAc,EAAlB;AACA,QAAIC,WAAW,GAAf,CAzN4B,CAyNR;AACpB,QAAIC,YAAY,GAAhB,CA1N4B,CA0NP;;AAErB;AACA,QAAIC,gBAAgB,OAApB;AACA,QAAIC,gBAAgB,YAApB,CA9N4B,CA8NM;AAClC,QAAIC,kBAAkB,2BAAtB,CA/N4B,CA+NuB;;AAEnD;AACA,QAAIjgC,SAAS;AACZ,oBAAY,iDADA;AAEZ,qBAAa,gDAFD;AAGZ,yBAAiB;AAHL,KAAb;;AAMA;AACA,QAAIkgC,gBAAgBX,OAAOC,IAA3B;AACA,QAAI1hB,QAAQltB,KAAKktB,KAAjB;AACA,QAAIqiB,qBAAqBzf,OAAOC,YAAhC;;AAEA;;AAEA;;;;;;AAMA,aAASyf,OAAT,CAAiBlnC,IAAjB,EAAuB;AACtB,cAAM,IAAImnC,UAAJ,CAAergC,OAAO9G,IAAP,CAAf,CAAN;AACA;;AAED;;;;;;;;AAQA,aAAS80B,GAAT,CAAa35B,KAAb,EAAoBisC,EAApB,EAAwB;AACvB,YAAIr6B,SAAS,EAAb;AACA,YAAI/R,SAASG,MAAMH,MAAnB;AACA,eAAOA,QAAP,EAAiB;AAChB+R,mBAAO/R,MAAP,IAAiBosC,GAAGjsC,MAAMH,MAAN,CAAH,CAAjB;AACA;AACD,eAAO+R,MAAP;AACA;;AAED;;;;;;;;;;AAUA,aAASs6B,SAAT,CAAmBC,MAAnB,EAA2BF,EAA3B,EAA+B;AAC9B,YAAIljC,QAAQojC,OAAO9oC,KAAP,CAAa,GAAb,CAAZ;AACA,YAAIuO,SAAS,EAAb;AACA,YAAI7I,MAAMlJ,MAAN,GAAe,CAAnB,EAAsB;AACrB;AACA;AACA+R,qBAAS7I,MAAM,CAAN,IAAW,GAApB;AACAojC,qBAASpjC,MAAM,CAAN,CAAT;AACA;AACD;AACAojC,iBAASA,OAAOnrC,OAAP,CAAe4qC,eAAf,EAAgC,MAAhC,CAAT;AACA,YAAIQ,SAASD,OAAO9oC,KAAP,CAAa,GAAb,CAAb;AACA,YAAIgpC,UAAU1S,IAAIyS,MAAJ,EAAYH,EAAZ,EAAgBp0B,IAAhB,CAAqB,GAArB,CAAd;AACA,eAAOjG,SAASy6B,OAAhB;AACA;;AAED;;;;;;;;;;;;;AAaA,aAASC,UAAT,CAAoBH,MAApB,EAA4B;AAC3B,YAAII,SAAS,EAAb;AACA,YAAIC,UAAU,CAAd;AACA,YAAI3sC,SAASssC,OAAOtsC,MAApB;AACA,eAAO2sC,UAAU3sC,MAAjB,EAAyB;AACxB,gBAAI+T,QAAQu4B,OAAOtjB,UAAP,CAAkB2jB,SAAlB,CAAZ;AACA,gBAAI54B,SAAS,MAAT,IAAmBA,SAAS,MAA5B,IAAsC44B,UAAU3sC,MAApD,EAA4D;AAC3D;AACA,oBAAI4sC,QAAQN,OAAOtjB,UAAP,CAAkB2jB,SAAlB,CAAZ;AACA,oBAAI,CAACC,QAAQ,MAAT,KAAoB,MAAxB,EAAgC;AAC/B;AACAF,2BAAOz9B,IAAP,CAAY,CAAC,CAAC8E,QAAQ,KAAT,KAAmB,EAApB,KAA2B64B,QAAQ,KAAnC,IAA4C,OAAxD;AACA,iBAHD,MAGO;AACN;AACA;AACAF,2BAAOz9B,IAAP,CAAY8E,KAAZ;AACA44B;AACA;AACD,aAZD,MAYO;AACND,uBAAOz9B,IAAP,CAAY8E,KAAZ;AACA;AACD;AACD,eAAO24B,MAAP;AACA;;AAED;;;;;;;;AAQA,QAAIG,aAAa,SAASA,UAAT,CAAoB1sC,KAApB,EAA2B;AAC3C,eAAOqsB,OAAOsgB,aAAP,CAAqB9rB,KAArB,CAA2BwL,MAA3B,EAAmC0e,kBAAkB/qC,KAAlB,CAAnC,CAAP;AACA,KAFD;;AAIA;;;;;;;;;AASA,QAAI4sC,eAAe,SAASA,YAAT,CAAsBC,SAAtB,EAAiC;AACnD,YAAIA,YAAY,IAAZ,GAAmB,IAAvB,EAA6B;AAC5B,mBAAOA,YAAY,IAAnB;AACA;AACD,YAAIA,YAAY,IAAZ,GAAmB,IAAvB,EAA6B;AAC5B,mBAAOA,YAAY,IAAnB;AACA;AACD,YAAIA,YAAY,IAAZ,GAAmB,IAAvB,EAA6B;AAC5B,mBAAOA,YAAY,IAAnB;AACA;AACD,eAAO3B,IAAP;AACA,KAXD;;AAaA;;;;;;;;;;;AAWA,QAAI4B,eAAe,SAASA,YAAT,CAAsBC,KAAtB,EAA6BC,IAA7B,EAAmC;AACrD;AACA;AACA,eAAOD,QAAQ,EAAR,GAAa,MAAMA,QAAQ,EAAd,CAAb,IAAkC,CAACC,QAAQ,CAAT,KAAe,CAAjD,CAAP;AACA,KAJD;;AAMA;;;;;AAKA,QAAIC,QAAQ,SAASA,KAAT,CAAeC,KAAf,EAAsBC,SAAtB,EAAiCC,SAAjC,EAA4C;AACvD,YAAIjkB,IAAI,CAAR;AACA+jB,gBAAQE,YAAY3jB,MAAMyjB,QAAQ5B,IAAd,CAAZ,GAAkC4B,SAAS,CAAnD;AACAA,iBAASzjB,MAAMyjB,QAAQC,SAAd,CAAT;AACA,eAAO,uBAAuBD,QAAQrB,gBAAgBT,IAAhB,IAAwB,CAA9D,EAAiEjiB,KAAK+hB,IAAtE,EAA4E;AAC3EgC,oBAAQzjB,MAAMyjB,QAAQrB,aAAd,CAAR;AACA;AACD,eAAOpiB,MAAMN,IAAI,CAAC0iB,gBAAgB,CAAjB,IAAsBqB,KAAtB,IAA+BA,QAAQ7B,IAAvC,CAAV,CAAP;AACA,KARD;;AAUA;;;;;;;AAOA,QAAIgC,SAAS,SAASA,MAAT,CAAgBnT,KAAhB,EAAuB;AACnC;AACA,YAAIqS,SAAS,EAAb;AACA,YAAIe,cAAcpT,MAAMr6B,MAAxB;AACA,YAAIpC,IAAI,CAAR;AACA,YAAImrB,IAAI4iB,QAAR;AACA,YAAI+B,OAAOhC,WAAX;;AAEA;AACA;AACA;;AAEA,YAAIiC,QAAQtT,MAAMuT,WAAN,CAAkBhC,SAAlB,CAAZ;AACA,YAAI+B,QAAQ,CAAZ,EAAe;AACdA,oBAAQ,CAAR;AACA;;AAED,aAAK,IAAIhsB,IAAI,CAAb,EAAgBA,IAAIgsB,KAApB,EAA2B,EAAEhsB,CAA7B,EAAgC;AAC/B;AACA,gBAAI0Y,MAAMrR,UAAN,CAAiBrH,CAAjB,KAAuB,IAA3B,EAAiC;AAChCuqB,wBAAQ,WAAR;AACA;AACDQ,mBAAOz9B,IAAP,CAAYorB,MAAMrR,UAAN,CAAiBrH,CAAjB,CAAZ;AACA;;AAED;AACA;;AAEA,aAAK,IAAI2M,QAAQqf,QAAQ,CAAR,GAAYA,QAAQ,CAApB,GAAwB,CAAzC,EAA4Crf,QAAQmf,WAApD,GAAkE,yBAAyB;;AAE1F;AACA;AACA;AACA;AACA;AACA,gBAAII,OAAOjwC,CAAX;AACA,iBAAK,IAAIyrB,IAAI,CAAR,EAAWC,IAAI+hB,IAApB,GAA2B,kBAAkB/hB,KAAK+hB,IAAlD,EAAwD;;AAEvD,oBAAI/c,SAASmf,WAAb,EAA0B;AACzBvB,4BAAQ,eAAR;AACA;;AAED,oBAAIgB,QAAQH,aAAa1S,MAAMrR,UAAN,CAAiBsF,OAAjB,CAAb,CAAZ;;AAEA,oBAAI4e,SAAS7B,IAAT,IAAiB6B,QAAQtjB,MAAM,CAACwhB,SAASxtC,CAAV,IAAeyrB,CAArB,CAA7B,EAAsD;AACrD6iB,4BAAQ,UAAR;AACA;;AAEDtuC,qBAAKsvC,QAAQ7jB,CAAb;AACA,oBAAI7oB,IAAI8oB,KAAKokB,IAAL,GAAYpC,IAAZ,GAAmBhiB,KAAKokB,OAAOnC,IAAZ,GAAmBA,IAAnB,GAA0BjiB,IAAIokB,IAAzD;;AAEA,oBAAIR,QAAQ1sC,CAAZ,EAAe;AACd;AACA;;AAED,oBAAIstC,aAAazC,OAAO7qC,CAAxB;AACA,oBAAI6oB,IAAIO,MAAMwhB,SAAS0C,UAAf,CAAR,EAAoC;AACnC5B,4BAAQ,UAAR;AACA;;AAED7iB,qBAAKykB,UAAL;AACA;;AAED,gBAAIlsC,MAAM8qC,OAAO1sC,MAAP,GAAgB,CAA1B;AACA0tC,mBAAON,MAAMxvC,IAAIiwC,IAAV,EAAgBjsC,GAAhB,EAAqBisC,QAAQ,CAA7B,CAAP;;AAEA;AACA;AACA,gBAAIjkB,MAAMhsB,IAAIgE,GAAV,IAAiBwpC,SAASriB,CAA9B,EAAiC;AAChCmjB,wBAAQ,UAAR;AACA;;AAEDnjB,iBAAKa,MAAMhsB,IAAIgE,GAAV,CAAL;AACAhE,iBAAKgE,GAAL;;AAEA;AACA8qC,mBAAOp4B,MAAP,CAAc1W,GAAd,EAAmB,CAAnB,EAAsBmrB,CAAtB;AACA;;AAED,eAAOyD,OAAOsgB,aAAP,CAAqB9rB,KAArB,CAA2BwL,MAA3B,EAAmCkgB,MAAnC,CAAP;AACA,KAhFD;;AAkFA;;;;;;;AAOA,QAAIqB,SAAS,SAASA,MAAT,CAAgB1T,KAAhB,EAAuB;AACnC,YAAIqS,SAAS,EAAb;;AAEA;AACArS,gBAAQoS,WAAWpS,KAAX,CAAR;;AAEA;AACA,YAAIoT,cAAcpT,MAAMr6B,MAAxB;;AAEA;AACA,YAAI+oB,IAAI4iB,QAAR;AACA,YAAI0B,QAAQ,CAAZ;AACA,YAAIK,OAAOhC,WAAX;;AAEA;AACA,YAAIsC,4BAA4B,IAAhC;AACA,YAAIC,oBAAoB,KAAxB;AACA,YAAIC,iBAAiB5xC,SAArB;;AAEA,YAAI;AACH,iBAAK,IAAI6xC,YAAY9T,MAAM0Q,OAAOC,QAAb,GAAhB,EAA0CoD,KAA/C,EAAsD,EAAEJ,4BAA4B,CAACI,QAAQD,UAAU9lB,IAAV,EAAT,EAA2BxZ,IAAzD,CAAtD,EAAsHm/B,4BAA4B,IAAlJ,EAAwJ;AACvJ,oBAAIK,iBAAiBD,MAAMr6B,KAA3B;;AAEA,oBAAIs6B,iBAAiB,IAArB,EAA2B;AAC1B3B,2BAAOz9B,IAAP,CAAYg9B,mBAAmBoC,cAAnB,CAAZ;AACA;AACD;AACD,SARD,CAQE,OAAOh9B,GAAP,EAAY;AACb48B,gCAAoB,IAApB;AACAC,6BAAiB78B,GAAjB;AACA,SAXD,SAWU;AACT,gBAAI;AACH,oBAAI,CAAC28B,yBAAD,IAA8BG,UAAUG,MAA5C,EAAoD;AACnDH,8BAAUG,MAAV;AACA;AACD,aAJD,SAIU;AACT,oBAAIL,iBAAJ,EAAuB;AACtB,0BAAMC,cAAN;AACA;AACD;AACD;;AAED,YAAIK,cAAc7B,OAAO1sC,MAAzB;AACA,YAAIwuC,iBAAiBD,WAArB;;AAEA;AACA;;AAEA;AACA,YAAIA,WAAJ,EAAiB;AAChB7B,mBAAOz9B,IAAP,CAAY28B,SAAZ;AACA;;AAED;AACA,eAAO4C,iBAAiBf,WAAxB,EAAqC;;AAEpC;AACA;AACA,gBAAIgB,IAAIrD,MAAR;AACA,gBAAIsD,6BAA6B,IAAjC;AACA,gBAAIC,qBAAqB,KAAzB;AACA,gBAAIC,kBAAkBtyC,SAAtB;;AAEA,gBAAI;AACH,qBAAK,IAAIuyC,aAAaxU,MAAM0Q,OAAOC,QAAb,GAAjB,EAA2C8D,MAAhD,EAAwD,EAAEJ,6BAA6B,CAACI,SAASD,WAAWxmB,IAAX,EAAV,EAA6BxZ,IAA5D,CAAxD,EAA2H6/B,6BAA6B,IAAxJ,EAA8J;AAC7J,wBAAIK,eAAeD,OAAO/6B,KAA1B;;AAEA,wBAAIg7B,gBAAgBhmB,CAAhB,IAAqBgmB,eAAeN,CAAxC,EAA2C;AAC1CA,4BAAIM,YAAJ;AACA;AACD;;AAED;AACA;AACA,aAXD,CAWE,OAAO19B,GAAP,EAAY;AACbs9B,qCAAqB,IAArB;AACAC,kCAAkBv9B,GAAlB;AACA,aAdD,SAcU;AACT,oBAAI;AACH,wBAAI,CAACq9B,0BAAD,IAA+BG,WAAWP,MAA9C,EAAsD;AACrDO,mCAAWP,MAAX;AACA;AACD,iBAJD,SAIU;AACT,wBAAIK,kBAAJ,EAAwB;AACvB,8BAAMC,eAAN;AACA;AACD;AACD;;AAED,gBAAII,wBAAwBR,iBAAiB,CAA7C;AACA,gBAAIC,IAAI1lB,CAAJ,GAAQa,MAAM,CAACwhB,SAASiC,KAAV,IAAmB2B,qBAAzB,CAAZ,EAA6D;AAC5D9C,wBAAQ,UAAR;AACA;;AAEDmB,qBAAS,CAACoB,IAAI1lB,CAAL,IAAUimB,qBAAnB;AACAjmB,gBAAI0lB,CAAJ;;AAEA,gBAAIQ,6BAA6B,IAAjC;AACA,gBAAIC,qBAAqB,KAAzB;AACA,gBAAIC,kBAAkB7yC,SAAtB;;AAEA,gBAAI;AACH,qBAAK,IAAI8yC,aAAa/U,MAAM0Q,OAAOC,QAAb,GAAjB,EAA2CqE,MAAhD,EAAwD,EAAEJ,6BAA6B,CAACI,SAASD,WAAW/mB,IAAX,EAAV,EAA6BxZ,IAA5D,CAAxD,EAA2HogC,6BAA6B,IAAxJ,EAA8J;AAC7J,wBAAIK,gBAAgBD,OAAOt7B,KAA3B;;AAEA,wBAAIu7B,gBAAgBvmB,CAAhB,IAAqB,EAAEskB,KAAF,GAAUjC,MAAnC,EAA2C;AAC1Cc,gCAAQ,UAAR;AACA;AACD,wBAAIoD,iBAAiBvmB,CAArB,EAAwB;AACvB;AACA,4BAAIwmB,IAAIlC,KAAR;AACA,6BAAK,IAAI/jB,IAAI+hB,IAAb,GAAoB,kBAAkB/hB,KAAK+hB,IAA3C,EAAiD;AAChD,gCAAI7qC,IAAI8oB,KAAKokB,IAAL,GAAYpC,IAAZ,GAAmBhiB,KAAKokB,OAAOnC,IAAZ,GAAmBA,IAAnB,GAA0BjiB,IAAIokB,IAAzD;AACA,gCAAI6B,IAAI/uC,CAAR,EAAW;AACV;AACA;AACD,gCAAIgvC,UAAUD,IAAI/uC,CAAlB;AACA,gCAAIstC,aAAazC,OAAO7qC,CAAxB;AACAksC,mCAAOz9B,IAAP,CAAYg9B,mBAAmBgB,aAAazsC,IAAIgvC,UAAU1B,UAA3B,EAAuC,CAAvC,CAAnB,CAAZ;AACAyB,gCAAI3lB,MAAM4lB,UAAU1B,UAAhB,CAAJ;AACA;;AAEDpB,+BAAOz9B,IAAP,CAAYg9B,mBAAmBgB,aAAasC,CAAb,EAAgB,CAAhB,CAAnB,CAAZ;AACA7B,+BAAON,MAAMC,KAAN,EAAa2B,qBAAb,EAAoCR,kBAAkBD,WAAtD,CAAP;AACAlB,gCAAQ,CAAR;AACA,0BAAEmB,cAAF;AACA;AACD;AACD,aA3BD,CA2BE,OAAOn9B,GAAP,EAAY;AACb69B,qCAAqB,IAArB;AACAC,kCAAkB99B,GAAlB;AACA,aA9BD,SA8BU;AACT,oBAAI;AACH,wBAAI,CAAC49B,0BAAD,IAA+BG,WAAWd,MAA9C,EAAsD;AACrDc,mCAAWd,MAAX;AACA;AACD,iBAJD,SAIU;AACT,wBAAIY,kBAAJ,EAAwB;AACvB,8BAAMC,eAAN;AACA;AACD;AACD;;AAED,cAAE9B,KAAF;AACA,cAAEtkB,CAAF;AACA;AACD,eAAO2jB,OAAO10B,IAAP,CAAY,EAAZ,CAAP;AACA,KAnJD;;AAqJA;;;;;;;;;;;AAWA,QAAIy3B,YAAY,SAASA,SAAT,CAAmBpV,KAAnB,EAA0B;AACzC,eAAOgS,UAAUhS,KAAV,EAAiB,UAAUiS,MAAV,EAAkB;AACzC,mBAAOT,cAAc5qC,IAAd,CAAmBqrC,MAAnB,IAA6BkB,OAAOlB,OAAOrjC,KAAP,CAAa,CAAb,EAAgBk8B,WAAhB,EAAP,CAA7B,GAAqEmH,MAA5E;AACA,SAFM,CAAP;AAGA,KAJD;;AAMA;;;;;;;;;;;AAWA,QAAIoD,UAAU,SAASA,OAAT,CAAiBrV,KAAjB,EAAwB;AACrC,eAAOgS,UAAUhS,KAAV,EAAiB,UAAUiS,MAAV,EAAkB;AACzC,mBAAOR,cAAc7qC,IAAd,CAAmBqrC,MAAnB,IAA6B,SAASyB,OAAOzB,MAAP,CAAtC,GAAuDA,MAA9D;AACA,SAFM,CAAP;AAGA,KAJD;;AAMA;;AAEA;AACA,QAAIqD,WAAW;AACd;;;;;AAKA,mBAAW,OANG;AAOd;;;;;;;AAOA,gBAAQ;AACP,sBAAUlD,UADH;AAEP,sBAAUI;AAFH,SAdM;AAkBd,kBAAUW,MAlBI;AAmBd,kBAAUO,MAnBI;AAoBd,mBAAW2B,OApBG;AAqBd,qBAAaD;AArBC,KAAf;;AAwBA;;;;;;;AAOA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,QAAIG,UAAU,EAAd;AACA,aAASC,UAAT,CAAoBC,GAApB,EAAyB;AACrB,YAAI3uB,IAAI2uB,IAAI9mB,UAAJ,CAAe,CAAf,CAAR;AACA,YAAI4C,IAAI,KAAK,CAAb;AACA,YAAIzK,IAAI,EAAR,EAAYyK,IAAI,OAAOzK,EAAE3V,QAAF,CAAW,EAAX,EAAe45B,WAAf,EAAX,CAAZ,KAAyD,IAAIjkB,IAAI,GAAR,EAAayK,IAAI,MAAMzK,EAAE3V,QAAF,CAAW,EAAX,EAAe45B,WAAf,EAAV,CAAb,KAAyD,IAAIjkB,IAAI,IAAR,EAAcyK,IAAI,MAAM,CAACzK,KAAK,CAAL,GAAS,GAAV,EAAe3V,QAAf,CAAwB,EAAxB,EAA4B45B,WAA5B,EAAN,GAAkD,GAAlD,GAAwD,CAACjkB,IAAI,EAAJ,GAAS,GAAV,EAAe3V,QAAf,CAAwB,EAAxB,EAA4B45B,WAA5B,EAA5D,CAAd,KAAyHxZ,IAAI,MAAM,CAACzK,KAAK,EAAL,GAAU,GAAX,EAAgB3V,QAAhB,CAAyB,EAAzB,EAA6B45B,WAA7B,EAAN,GAAmD,GAAnD,GAAyD,CAACjkB,KAAK,CAAL,GAAS,EAAT,GAAc,GAAf,EAAoB3V,QAApB,CAA6B,EAA7B,EAAiC45B,WAAjC,EAAzD,GAA0G,GAA1G,GAAgH,CAACjkB,IAAI,EAAJ,GAAS,GAAV,EAAe3V,QAAf,CAAwB,EAAxB,EAA4B45B,WAA5B,EAApH;AAC3O,eAAOxZ,CAAP;AACH;AACD,aAASmkB,WAAT,CAAqB7uC,GAArB,EAA0B;AACtB,YAAI8uC,SAAS,EAAb;AACA,YAAIpyC,IAAI,CAAR;AACA,YAAIqyC,KAAK/uC,IAAIlB,MAAb;AACA,eAAOpC,IAAIqyC,EAAX,EAAe;AACX,gBAAI9uB,IAAI+uB,SAAShvC,IAAIwR,MAAJ,CAAW9U,IAAI,CAAf,EAAkB,CAAlB,CAAT,EAA+B,EAA/B,CAAR;AACA,gBAAIujB,IAAI,GAAR,EAAa;AACT6uB,0BAAUxjB,OAAOC,YAAP,CAAoBtL,CAApB,CAAV;AACAvjB,qBAAK,CAAL;AACH,aAHD,MAGO,IAAIujB,KAAK,GAAL,IAAYA,IAAI,GAApB,EAAyB;AAC5B,oBAAI8uB,KAAKryC,CAAL,IAAU,CAAd,EAAiB;AACb,wBAAIuyC,KAAKD,SAAShvC,IAAIwR,MAAJ,CAAW9U,IAAI,CAAf,EAAkB,CAAlB,CAAT,EAA+B,EAA/B,CAAT;AACAoyC,8BAAUxjB,OAAOC,YAAP,CAAoB,CAACtL,IAAI,EAAL,KAAY,CAAZ,GAAgBgvB,KAAK,EAAzC,CAAV;AACH,iBAHD,MAGO;AACHH,8BAAU9uC,IAAIwR,MAAJ,CAAW9U,CAAX,EAAc,CAAd,CAAV;AACH;AACDA,qBAAK,CAAL;AACH,aARM,MAQA,IAAIujB,KAAK,GAAT,EAAc;AACjB,oBAAI8uB,KAAKryC,CAAL,IAAU,CAAd,EAAiB;AACb,wBAAIwyC,KAAKF,SAAShvC,IAAIwR,MAAJ,CAAW9U,IAAI,CAAf,EAAkB,CAAlB,CAAT,EAA+B,EAA/B,CAAT;AACA,wBAAIyyC,KAAKH,SAAShvC,IAAIwR,MAAJ,CAAW9U,IAAI,CAAf,EAAkB,CAAlB,CAAT,EAA+B,EAA/B,CAAT;AACAoyC,8BAAUxjB,OAAOC,YAAP,CAAoB,CAACtL,IAAI,EAAL,KAAY,EAAZ,GAAiB,CAACivB,KAAK,EAAN,KAAa,CAA9B,GAAkCC,KAAK,EAA3D,CAAV;AACH,iBAJD,MAIO;AACHL,8BAAU9uC,IAAIwR,MAAJ,CAAW9U,CAAX,EAAc,CAAd,CAAV;AACH;AACDA,qBAAK,CAAL;AACH,aATM,MASA;AACHoyC,0BAAU9uC,IAAIwR,MAAJ,CAAW9U,CAAX,EAAc,CAAd,CAAV;AACAA,qBAAK,CAAL;AACH;AACJ;AACD,eAAOoyC,MAAP;AACH;AACD,aAASM,2BAAT,CAAqCC,UAArC,EAAiDC,QAAjD,EAA2D;AACvD,iBAASC,gBAAT,CAA0BvvC,GAA1B,EAA+B;AAC3B,gBAAIwvC,SAASX,YAAY7uC,GAAZ,CAAb;AACA,mBAAO,CAACwvC,OAAOpvC,KAAP,CAAakvC,SAASvG,UAAtB,CAAD,GAAqC/oC,GAArC,GAA2CwvC,MAAlD;AACH;AACD,YAAIH,WAAWI,MAAf,EAAuBJ,WAAWI,MAAX,GAAoBnkB,OAAO+jB,WAAWI,MAAlB,EAA0BxvC,OAA1B,CAAkCqvC,SAASrG,WAA3C,EAAwDsG,gBAAxD,EAA0EtL,WAA1E,GAAwFhkC,OAAxF,CAAgGqvC,SAAS/G,UAAzG,EAAqH,EAArH,CAApB;AACvB,YAAI8G,WAAWK,QAAX,KAAwBt0C,SAA5B,EAAuCi0C,WAAWK,QAAX,GAAsBpkB,OAAO+jB,WAAWK,QAAlB,EAA4BzvC,OAA5B,CAAoCqvC,SAASrG,WAA7C,EAA0DsG,gBAA1D,EAA4EtvC,OAA5E,CAAoFqvC,SAAS9G,YAA7F,EAA2GmG,UAA3G,EAAuH1uC,OAAvH,CAA+HqvC,SAASrG,WAAxI,EAAqJ/E,WAArJ,CAAtB;AACvC,YAAImL,WAAWM,IAAX,KAAoBv0C,SAAxB,EAAmCi0C,WAAWM,IAAX,GAAkBrkB,OAAO+jB,WAAWM,IAAlB,EAAwB1vC,OAAxB,CAAgCqvC,SAASrG,WAAzC,EAAsDsG,gBAAtD,EAAwEtL,WAAxE,GAAsFhkC,OAAtF,CAA8FqvC,SAAS7G,QAAvG,EAAiHkG,UAAjH,EAA6H1uC,OAA7H,CAAqIqvC,SAASrG,WAA9I,EAA2J/E,WAA3J,CAAlB;AACnC,YAAImL,WAAW1tC,IAAX,KAAoBvG,SAAxB,EAAmCi0C,WAAW1tC,IAAX,GAAkB2pB,OAAO+jB,WAAW1tC,IAAlB,EAAwB1B,OAAxB,CAAgCqvC,SAASrG,WAAzC,EAAsDsG,gBAAtD,EAAwEtvC,OAAxE,CAAgFovC,WAAWI,MAAX,GAAoBH,SAAS5G,QAA7B,GAAwC4G,SAAS3G,iBAAjI,EAAoJgG,UAApJ,EAAgK1uC,OAAhK,CAAwKqvC,SAASrG,WAAjL,EAA8L/E,WAA9L,CAAlB;AACnC,YAAImL,WAAWO,KAAX,KAAqBx0C,SAAzB,EAAoCi0C,WAAWO,KAAX,GAAmBtkB,OAAO+jB,WAAWO,KAAlB,EAAyB3vC,OAAzB,CAAiCqvC,SAASrG,WAA1C,EAAuDsG,gBAAvD,EAAyEtvC,OAAzE,CAAiFqvC,SAAS1G,SAA1F,EAAqG+F,UAArG,EAAiH1uC,OAAjH,CAAyHqvC,SAASrG,WAAlI,EAA+I/E,WAA/I,CAAnB;AACpC,YAAImL,WAAWvnC,QAAX,KAAwB1M,SAA5B,EAAuCi0C,WAAWvnC,QAAX,GAAsBwjB,OAAO+jB,WAAWvnC,QAAlB,EAA4B7H,OAA5B,CAAoCqvC,SAASrG,WAA7C,EAA0DsG,gBAA1D,EAA4EtvC,OAA5E,CAAoFqvC,SAASzG,YAA7F,EAA2G8F,UAA3G,EAAuH1uC,OAAvH,CAA+HqvC,SAASrG,WAAxI,EAAqJ/E,WAArJ,CAAtB;AACvC,eAAOmL,UAAP;AACH;;AAED,aAASQ,kBAAT,CAA4B7vC,GAA5B,EAAiC;AAC7B,eAAOA,IAAIC,OAAJ,CAAY,SAAZ,EAAuB,IAAvB,KAAgC,GAAvC;AACH;AACD,aAAS6vC,cAAT,CAAwBH,IAAxB,EAA8BL,QAA9B,EAAwC;AACpC,YAAInvC,UAAUwvC,KAAKvvC,KAAL,CAAWkvC,SAASpG,WAApB,KAAoC,EAAlD;;AAEA,YAAI6G,WAAWzG,cAAcnpC,OAAd,EAAuB,CAAvB,CAAf;AAAA,YACI6vC,UAAUD,SAAS,CAAT,CADd;;AAGA,YAAIC,OAAJ,EAAa;AACT,mBAAOA,QAAQ1tC,KAAR,CAAc,GAAd,EAAmBs2B,GAAnB,CAAuBiX,kBAAvB,EAA2C/4B,IAA3C,CAAgD,GAAhD,CAAP;AACH,SAFD,MAEO;AACH,mBAAO64B,IAAP;AACH;AACJ;AACD,aAASM,cAAT,CAAwBN,IAAxB,EAA8BL,QAA9B,EAAwC;AACpC,YAAInvC,UAAUwvC,KAAKvvC,KAAL,CAAWkvC,SAASnG,WAApB,KAAoC,EAAlD;;AAEA,YAAI+G,YAAY5G,cAAcnpC,OAAd,EAAuB,CAAvB,CAAhB;AAAA,YACI6vC,UAAUE,UAAU,CAAV,CADd;AAAA,YAEIC,OAAOD,UAAU,CAAV,CAFX;;AAIA,YAAIF,OAAJ,EAAa;AACT,gBAAII,wBAAwBJ,QAAQ/L,WAAR,GAAsB3hC,KAAtB,CAA4B,IAA5B,EAAkCwuB,OAAlC,EAA5B;AAAA,gBACIuf,yBAAyB/G,cAAc8G,qBAAd,EAAqC,CAArC,CAD7B;AAAA,gBAEIE,OAAOD,uBAAuB,CAAvB,CAFX;AAAA,gBAGIE,QAAQF,uBAAuB,CAAvB,CAHZ;;AAKA,gBAAIG,cAAcD,QAAQA,MAAMjuC,KAAN,CAAY,GAAZ,EAAiBs2B,GAAjB,CAAqBiX,kBAArB,CAAR,GAAmD,EAArE;AACA,gBAAIY,aAAaH,KAAKhuC,KAAL,CAAW,GAAX,EAAgBs2B,GAAhB,CAAoBiX,kBAApB,CAAjB;AACA,gBAAIa,yBAAyBpB,SAASpG,WAAT,CAAqBnpC,IAArB,CAA0B0wC,WAAWA,WAAW3xC,MAAX,GAAoB,CAA/B,CAA1B,CAA7B;AACA,gBAAI6xC,aAAaD,yBAAyB,CAAzB,GAA6B,CAA9C;AACA,gBAAIE,kBAAkBH,WAAW3xC,MAAX,GAAoB6xC,UAA1C;AACA,gBAAIE,SAASpxC,MAAMkxC,UAAN,CAAb;AACA,iBAAK,IAAIx1C,IAAI,CAAb,EAAgBA,IAAIw1C,UAApB,EAAgC,EAAEx1C,CAAlC,EAAqC;AACjC01C,uBAAO11C,CAAP,IAAYq1C,YAAYr1C,CAAZ,KAAkBs1C,WAAWG,kBAAkBz1C,CAA7B,CAAlB,IAAqD,EAAjE;AACH;AACD,gBAAIu1C,sBAAJ,EAA4B;AACxBG,uBAAOF,aAAa,CAApB,IAAyBb,eAAee,OAAOF,aAAa,CAApB,CAAf,EAAuCrB,QAAvC,CAAzB;AACH;AACD,gBAAIwB,gBAAgBD,OAAOE,MAAP,CAAc,UAAUC,GAAV,EAAeC,KAAf,EAAsB7jB,KAAtB,EAA6B;AAC3D,oBAAI,CAAC6jB,KAAD,IAAUA,UAAU,GAAxB,EAA6B;AACzB,wBAAIC,cAAcF,IAAIA,IAAIlyC,MAAJ,GAAa,CAAjB,CAAlB;AACA,wBAAIoyC,eAAeA,YAAY9jB,KAAZ,GAAoB8jB,YAAYpyC,MAAhC,KAA2CsuB,KAA9D,EAAqE;AACjE8jB,oCAAYpyC,MAAZ;AACH,qBAFD,MAEO;AACHkyC,4BAAIjjC,IAAJ,CAAS,EAAEqf,OAAOA,KAAT,EAAgBtuB,QAAQ,CAAxB,EAAT;AACH;AACJ;AACD,uBAAOkyC,GAAP;AACH,aAVmB,EAUjB,EAViB,CAApB;AAWA,gBAAIG,oBAAoBL,cAAc39B,IAAd,CAAmB,UAAU3Q,CAAV,EAAaC,CAAb,EAAgB;AACvD,uBAAOA,EAAE3D,MAAF,GAAW0D,EAAE1D,MAApB;AACH,aAFuB,EAErB,CAFqB,CAAxB;AAGA,gBAAIsyC,UAAU,KAAK,CAAnB;AACA,gBAAID,qBAAqBA,kBAAkBryC,MAAlB,GAA2B,CAApD,EAAuD;AACnD,oBAAIuyC,WAAWR,OAAO9oC,KAAP,CAAa,CAAb,EAAgBopC,kBAAkB/jB,KAAlC,CAAf;AACA,oBAAIkkB,UAAUT,OAAO9oC,KAAP,CAAaopC,kBAAkB/jB,KAAlB,GAA0B+jB,kBAAkBryC,MAAzD,CAAd;AACAsyC,0BAAUC,SAASv6B,IAAT,CAAc,GAAd,IAAqB,IAArB,GAA4Bw6B,QAAQx6B,IAAR,CAAa,GAAb,CAAtC;AACH,aAJD,MAIO;AACHs6B,0BAAUP,OAAO/5B,IAAP,CAAY,GAAZ,CAAV;AACH;AACD,gBAAIq5B,IAAJ,EAAU;AACNiB,2BAAW,MAAMjB,IAAjB;AACH;AACD,mBAAOiB,OAAP;AACH,SA5CD,MA4CO;AACH,mBAAOzB,IAAP;AACH;AACJ;AACD,QAAI4B,YAAY,iIAAhB;AACA,QAAIC,wBAAwB,GAAGpxC,KAAH,CAAS,OAAT,EAAkB,CAAlB,MAAyBhF,SAArD;AACA,aAASgM,KAAT,CAAeqqC,SAAf,EAA0B;AACtB,YAAIjoB,UAAU5J,UAAU9gB,MAAV,GAAmB,CAAnB,IAAwB8gB,UAAU,CAAV,MAAiBxkB,SAAzC,GAAqDwkB,UAAU,CAAV,CAArD,GAAoE,EAAlF;;AAEA,YAAIyvB,aAAa,EAAjB;AACA,YAAIC,WAAW9lB,QAAQkoB,GAAR,KAAgB,KAAhB,GAAwBrI,YAAxB,GAAuCD,YAAtD;AACA,YAAI5f,QAAQmoB,SAAR,KAAsB,QAA1B,EAAoCF,YAAY,CAACjoB,QAAQimB,MAAR,GAAiBjmB,QAAQimB,MAAR,GAAiB,GAAlC,GAAwC,EAAzC,IAA+C,IAA/C,GAAsDgC,SAAlE;AACpC,YAAItxC,UAAUsxC,UAAUrxC,KAAV,CAAgBmxC,SAAhB,CAAd;AACA,YAAIpxC,OAAJ,EAAa;AACT,gBAAIqxC,qBAAJ,EAA2B;AACvB;AACAnC,2BAAWI,MAAX,GAAoBtvC,QAAQ,CAAR,CAApB;AACAkvC,2BAAWK,QAAX,GAAsBvvC,QAAQ,CAAR,CAAtB;AACAkvC,2BAAWM,IAAX,GAAkBxvC,QAAQ,CAAR,CAAlB;AACAkvC,2BAAWuC,IAAX,GAAkB5C,SAAS7uC,QAAQ,CAAR,CAAT,EAAqB,EAArB,CAAlB;AACAkvC,2BAAW1tC,IAAX,GAAkBxB,QAAQ,CAAR,KAAc,EAAhC;AACAkvC,2BAAWO,KAAX,GAAmBzvC,QAAQ,CAAR,CAAnB;AACAkvC,2BAAWvnC,QAAX,GAAsB3H,QAAQ,CAAR,CAAtB;AACA;AACA,oBAAIgf,MAAMkwB,WAAWuC,IAAjB,CAAJ,EAA4B;AACxBvC,+BAAWuC,IAAX,GAAkBzxC,QAAQ,CAAR,CAAlB;AACH;AACJ,aAbD,MAaO;AACH;AACA;AACAkvC,2BAAWI,MAAX,GAAoBtvC,QAAQ,CAAR,KAAc/E,SAAlC;AACAi0C,2BAAWK,QAAX,GAAsB+B,UAAUvjC,OAAV,CAAkB,GAAlB,MAA2B,CAAC,CAA5B,GAAgC/N,QAAQ,CAAR,CAAhC,GAA6C/E,SAAnE;AACAi0C,2BAAWM,IAAX,GAAkB8B,UAAUvjC,OAAV,CAAkB,IAAlB,MAA4B,CAAC,CAA7B,GAAiC/N,QAAQ,CAAR,CAAjC,GAA8C/E,SAAhE;AACAi0C,2BAAWuC,IAAX,GAAkB5C,SAAS7uC,QAAQ,CAAR,CAAT,EAAqB,EAArB,CAAlB;AACAkvC,2BAAW1tC,IAAX,GAAkBxB,QAAQ,CAAR,KAAc,EAAhC;AACAkvC,2BAAWO,KAAX,GAAmB6B,UAAUvjC,OAAV,CAAkB,GAAlB,MAA2B,CAAC,CAA5B,GAAgC/N,QAAQ,CAAR,CAAhC,GAA6C/E,SAAhE;AACAi0C,2BAAWvnC,QAAX,GAAsB2pC,UAAUvjC,OAAV,CAAkB,GAAlB,MAA2B,CAAC,CAA5B,GAAgC/N,QAAQ,CAAR,CAAhC,GAA6C/E,SAAnE;AACA;AACA,oBAAI+jB,MAAMkwB,WAAWuC,IAAjB,CAAJ,EAA4B;AACxBvC,+BAAWuC,IAAX,GAAkBH,UAAUrxC,KAAV,CAAgB,+BAAhB,IAAmDD,QAAQ,CAAR,CAAnD,GAAgE/E,SAAlF;AACH;AACJ;AACD,gBAAIi0C,WAAWM,IAAf,EAAqB;AACjB;AACAN,2BAAWM,IAAX,GAAkBM,eAAeH,eAAeT,WAAWM,IAA1B,EAAgCL,QAAhC,CAAf,EAA0DA,QAA1D,CAAlB;AACH;AACD;AACA,gBAAID,WAAWI,MAAX,KAAsBr0C,SAAtB,IAAmCi0C,WAAWK,QAAX,KAAwBt0C,SAA3D,IAAwEi0C,WAAWM,IAAX,KAAoBv0C,SAA5F,IAAyGi0C,WAAWuC,IAAX,KAAoBx2C,SAA7H,IAA0I,CAACi0C,WAAW1tC,IAAtJ,IAA8J0tC,WAAWO,KAAX,KAAqBx0C,SAAvL,EAAkM;AAC9Li0C,2BAAWsC,SAAX,GAAuB,eAAvB;AACH,aAFD,MAEO,IAAItC,WAAWI,MAAX,KAAsBr0C,SAA1B,EAAqC;AACxCi0C,2BAAWsC,SAAX,GAAuB,UAAvB;AACH,aAFM,MAEA,IAAItC,WAAWvnC,QAAX,KAAwB1M,SAA5B,EAAuC;AAC1Ci0C,2BAAWsC,SAAX,GAAuB,UAAvB;AACH,aAFM,MAEA;AACHtC,2BAAWsC,SAAX,GAAuB,KAAvB;AACH;AACD;AACA,gBAAInoB,QAAQmoB,SAAR,IAAqBnoB,QAAQmoB,SAAR,KAAsB,QAA3C,IAAuDnoB,QAAQmoB,SAAR,KAAsBtC,WAAWsC,SAA5F,EAAuG;AACnGtC,2BAAW1xB,KAAX,GAAmB0xB,WAAW1xB,KAAX,IAAoB,kBAAkB6L,QAAQmoB,SAA1B,GAAsC,aAA7E;AACH;AACD;AACA,gBAAIE,gBAAgBnD,QAAQ,CAACllB,QAAQimB,MAAR,IAAkBJ,WAAWI,MAA7B,IAAuC,EAAxC,EAA4CxL,WAA5C,EAAR,CAApB;AACA;AACA,gBAAI,CAACza,QAAQsoB,cAAT,KAA4B,CAACD,aAAD,IAAkB,CAACA,cAAcC,cAA7D,CAAJ,EAAkF;AAC9E;AACA,oBAAIzC,WAAWM,IAAX,KAAoBnmB,QAAQuoB,UAAR,IAAsBF,iBAAiBA,cAAcE,UAAzE,CAAJ,EAA0F;AACtF;AACA,wBAAI;AACA1C,mCAAWM,IAAX,GAAkBlB,SAASD,OAAT,CAAiBa,WAAWM,IAAX,CAAgB1vC,OAAhB,CAAwBqvC,SAASrG,WAAjC,EAA8C4F,WAA9C,EAA2D5K,WAA3D,EAAjB,CAAlB;AACH,qBAFD,CAEE,OAAOvZ,CAAP,EAAU;AACR2kB,mCAAW1xB,KAAX,GAAmB0xB,WAAW1xB,KAAX,IAAoB,oEAAoE+M,CAA3G;AACH;AACJ;AACD;AACA0kB,4CAA4BC,UAA5B,EAAwCjG,YAAxC;AACH,aAZD,MAYO;AACH;AACAgG,4CAA4BC,UAA5B,EAAwCC,QAAxC;AACH;AACD;AACA,gBAAIuC,iBAAiBA,cAAczqC,KAAnC,EAA0C;AACtCyqC,8BAAczqC,KAAd,CAAoBioC,UAApB,EAAgC7lB,OAAhC;AACH;AACJ,SAtED,MAsEO;AACH6lB,uBAAW1xB,KAAX,GAAmB0xB,WAAW1xB,KAAX,IAAoB,wBAAvC;AACH;AACD,eAAO0xB,UAAP;AACH;;AAED,aAAS2C,mBAAT,CAA6B3C,UAA7B,EAAyC7lB,OAAzC,EAAkD;AAC9C,YAAI8lB,WAAW9lB,QAAQkoB,GAAR,KAAgB,KAAhB,GAAwBrI,YAAxB,GAAuCD,YAAtD;AACA,YAAI6I,YAAY,EAAhB;AACA,YAAI5C,WAAWK,QAAX,KAAwBt0C,SAA5B,EAAuC;AACnC62C,sBAAUlkC,IAAV,CAAeshC,WAAWK,QAA1B;AACAuC,sBAAUlkC,IAAV,CAAe,GAAf;AACH;AACD,YAAIshC,WAAWM,IAAX,KAAoBv0C,SAAxB,EAAmC;AAC/B;AACA62C,sBAAUlkC,IAAV,CAAekiC,eAAeH,eAAexkB,OAAO+jB,WAAWM,IAAlB,CAAf,EAAwCL,QAAxC,CAAf,EAAkEA,QAAlE,EAA4ErvC,OAA5E,CAAoFqvC,SAASnG,WAA7F,EAA0G,UAAU+I,CAAV,EAAaC,EAAb,EAAiBC,EAAjB,EAAqB;AAC1I,uBAAO,MAAMD,EAAN,IAAYC,KAAK,QAAQA,EAAb,GAAkB,EAA9B,IAAoC,GAA3C;AACH,aAFc,CAAf;AAGH;AACD,YAAI,OAAO/C,WAAWuC,IAAlB,KAA2B,QAA/B,EAAyC;AACrCK,sBAAUlkC,IAAV,CAAe,GAAf;AACAkkC,sBAAUlkC,IAAV,CAAeshC,WAAWuC,IAAX,CAAgBtnC,QAAhB,CAAyB,EAAzB,CAAf;AACH;AACD,eAAO2nC,UAAUnzC,MAAV,GAAmBmzC,UAAUn7B,IAAV,CAAe,EAAf,CAAnB,GAAwC1b,SAA/C;AACH;;AAED,QAAIi3C,OAAO,UAAX;AACA,QAAIC,OAAO,aAAX;AACA,QAAIC,OAAO,eAAX;AACA,QAAIC,OAAO,wBAAX;AACA,aAASC,iBAAT,CAA2BtZ,KAA3B,EAAkC;AAC9B,YAAIqS,SAAS,EAAb;AACA,eAAOrS,MAAMr6B,MAAb,EAAqB;AACjB,gBAAIq6B,MAAM/4B,KAAN,CAAYiyC,IAAZ,CAAJ,EAAuB;AACnBlZ,wBAAQA,MAAMl5B,OAAN,CAAcoyC,IAAd,EAAoB,EAApB,CAAR;AACH,aAFD,MAEO,IAAIlZ,MAAM/4B,KAAN,CAAYkyC,IAAZ,CAAJ,EAAuB;AAC1BnZ,wBAAQA,MAAMl5B,OAAN,CAAcqyC,IAAd,EAAoB,GAApB,CAAR;AACH,aAFM,MAEA,IAAInZ,MAAM/4B,KAAN,CAAYmyC,IAAZ,CAAJ,EAAuB;AAC1BpZ,wBAAQA,MAAMl5B,OAAN,CAAcsyC,IAAd,EAAoB,GAApB,CAAR;AACA/G,uBAAOp2B,GAAP;AACH,aAHM,MAGA,IAAI+jB,UAAU,GAAV,IAAiBA,UAAU,IAA/B,EAAqC;AACxCA,wBAAQ,EAAR;AACH,aAFM,MAEA;AACH,oBAAIuZ,KAAKvZ,MAAM/4B,KAAN,CAAYoyC,IAAZ,CAAT;AACA,oBAAIE,EAAJ,EAAQ;AACJ,wBAAIpoB,IAAIooB,GAAG,CAAH,CAAR;AACAvZ,4BAAQA,MAAMpxB,KAAN,CAAYuiB,EAAExrB,MAAd,CAAR;AACA0sC,2BAAOz9B,IAAP,CAAYuc,CAAZ;AACH,iBAJD,MAIO;AACH,0BAAM,IAAIloB,KAAJ,CAAU,kCAAV,CAAN;AACH;AACJ;AACJ;AACD,eAAOopC,OAAO10B,IAAP,CAAY,EAAZ,CAAP;AACH;;AAED,aAASnO,SAAT,CAAmB0mC,UAAnB,EAA+B;AAC3B,YAAI7lB,UAAU5J,UAAU9gB,MAAV,GAAmB,CAAnB,IAAwB8gB,UAAU,CAAV,MAAiBxkB,SAAzC,GAAqDwkB,UAAU,CAAV,CAArD,GAAoE,EAAlF;;AAEA,YAAI0vB,WAAW9lB,QAAQkoB,GAAR,GAAcrI,YAAd,GAA6BD,YAA5C;AACA,YAAI6I,YAAY,EAAhB;AACA;AACA,YAAIJ,gBAAgBnD,QAAQ,CAACllB,QAAQimB,MAAR,IAAkBJ,WAAWI,MAA7B,IAAuC,EAAxC,EAA4CxL,WAA5C,EAAR,CAApB;AACA;AACA,YAAI4N,iBAAiBA,cAAclpC,SAAnC,EAA8CkpC,cAAclpC,SAAd,CAAwB0mC,UAAxB,EAAoC7lB,OAApC;AAC9C,YAAI6lB,WAAWM,IAAf,EAAqB;AACjB;AACA,gBAAIL,SAASnG,WAAT,CAAqBppC,IAArB,CAA0BsvC,WAAWM,IAArC,CAAJ,EAAgD,CAAE;AAClD;;AAEA;AAHA,iBAIK,IAAInmB,QAAQuoB,UAAR,IAAsBF,iBAAiBA,cAAcE,UAAzD,EAAqE;AAClE;AACA,wBAAI;AACA1C,mCAAWM,IAAX,GAAkB,CAACnmB,QAAQkoB,GAAT,GAAejD,SAASD,OAAT,CAAiBa,WAAWM,IAAX,CAAgB1vC,OAAhB,CAAwBqvC,SAASrG,WAAjC,EAA8C4F,WAA9C,EAA2D5K,WAA3D,EAAjB,CAAf,GAA4GwK,SAASF,SAAT,CAAmBc,WAAWM,IAA9B,CAA9H;AACH,qBAFD,CAEE,OAAOjlB,CAAP,EAAU;AACR2kB,mCAAW1xB,KAAX,GAAmB0xB,WAAW1xB,KAAX,IAAoB,iDAAiD,CAAC6L,QAAQkoB,GAAT,GAAe,OAAf,GAAyB,SAA1E,IAAuF,iBAAvF,GAA2GhnB,CAAlJ;AACH;AACJ;AACR;AACD;AACA0kB,oCAA4BC,UAA5B,EAAwCC,QAAxC;AACA,YAAI9lB,QAAQmoB,SAAR,KAAsB,QAAtB,IAAkCtC,WAAWI,MAAjD,EAAyD;AACrDwC,sBAAUlkC,IAAV,CAAeshC,WAAWI,MAA1B;AACAwC,sBAAUlkC,IAAV,CAAe,GAAf;AACH;AACD,YAAI4kC,YAAYX,oBAAoB3C,UAApB,EAAgC7lB,OAAhC,CAAhB;AACA,YAAImpB,cAAcv3C,SAAlB,EAA6B;AACzB,gBAAIouB,QAAQmoB,SAAR,KAAsB,QAA1B,EAAoC;AAChCM,0BAAUlkC,IAAV,CAAe,IAAf;AACH;AACDkkC,sBAAUlkC,IAAV,CAAe4kC,SAAf;AACA,gBAAItD,WAAW1tC,IAAX,IAAmB0tC,WAAW1tC,IAAX,CAAgBixC,MAAhB,CAAuB,CAAvB,MAA8B,GAArD,EAA0D;AACtDX,0BAAUlkC,IAAV,CAAe,GAAf;AACH;AACJ;AACD,YAAIshC,WAAW1tC,IAAX,KAAoBvG,SAAxB,EAAmC;AAC/B,gBAAIkvB,IAAI+kB,WAAW1tC,IAAnB;AACA,gBAAI,CAAC6nB,QAAQqpB,YAAT,KAA0B,CAAChB,aAAD,IAAkB,CAACA,cAAcgB,YAA3D,CAAJ,EAA8E;AAC1EvoB,oBAAImoB,kBAAkBnoB,CAAlB,CAAJ;AACH;AACD,gBAAIqoB,cAAcv3C,SAAlB,EAA6B;AACzBkvB,oBAAIA,EAAErqB,OAAF,CAAU,OAAV,EAAmB,MAAnB,CAAJ,CADyB,CACO;AACnC;AACDgyC,sBAAUlkC,IAAV,CAAeuc,CAAf;AACH;AACD,YAAI+kB,WAAWO,KAAX,KAAqBx0C,SAAzB,EAAoC;AAChC62C,sBAAUlkC,IAAV,CAAe,GAAf;AACAkkC,sBAAUlkC,IAAV,CAAeshC,WAAWO,KAA1B;AACH;AACD,YAAIP,WAAWvnC,QAAX,KAAwB1M,SAA5B,EAAuC;AACnC62C,sBAAUlkC,IAAV,CAAe,GAAf;AACAkkC,sBAAUlkC,IAAV,CAAeshC,WAAWvnC,QAA1B;AACH;AACD,eAAOmqC,UAAUn7B,IAAV,CAAe,EAAf,CAAP,CA1D2B,CA0DA;AAC9B;;AAED,aAASg8B,iBAAT,CAA2B3I,IAA3B,EAAiC4I,QAAjC,EAA2C;AACvC,YAAIvpB,UAAU5J,UAAU9gB,MAAV,GAAmB,CAAnB,IAAwB8gB,UAAU,CAAV,MAAiBxkB,SAAzC,GAAqDwkB,UAAU,CAAV,CAArD,GAAoE,EAAlF;AACA,YAAIozB,oBAAoBpzB,UAAU,CAAV,CAAxB;;AAEA,YAAIykB,SAAS,EAAb;AACA,YAAI,CAAC2O,iBAAL,EAAwB;AACpB7I,mBAAO/iC,MAAMuB,UAAUwhC,IAAV,EAAgB3gB,OAAhB,CAAN,EAAgCA,OAAhC,CAAP,CADoB,CAC6B;AACjDupB,uBAAW3rC,MAAMuB,UAAUoqC,QAAV,EAAoBvpB,OAApB,CAAN,EAAoCA,OAApC,CAAX,CAFoB,CAEqC;AAC5D;AACDA,kBAAUA,WAAW,EAArB;AACA,YAAI,CAACA,QAAQypB,QAAT,IAAqBF,SAAStD,MAAlC,EAA0C;AACtCpL,mBAAOoL,MAAP,GAAgBsD,SAAStD,MAAzB;AACA;AACApL,mBAAOqL,QAAP,GAAkBqD,SAASrD,QAA3B;AACArL,mBAAOsL,IAAP,GAAcoD,SAASpD,IAAvB;AACAtL,mBAAOuN,IAAP,GAAcmB,SAASnB,IAAvB;AACAvN,mBAAO1iC,IAAP,GAAc8wC,kBAAkBM,SAASpxC,IAAT,IAAiB,EAAnC,CAAd;AACA0iC,mBAAOuL,KAAP,GAAemD,SAASnD,KAAxB;AACH,SARD,MAQO;AACH,gBAAImD,SAASrD,QAAT,KAAsBt0C,SAAtB,IAAmC23C,SAASpD,IAAT,KAAkBv0C,SAArD,IAAkE23C,SAASnB,IAAT,KAAkBx2C,SAAxF,EAAmG;AAC/F;AACAipC,uBAAOqL,QAAP,GAAkBqD,SAASrD,QAA3B;AACArL,uBAAOsL,IAAP,GAAcoD,SAASpD,IAAvB;AACAtL,uBAAOuN,IAAP,GAAcmB,SAASnB,IAAvB;AACAvN,uBAAO1iC,IAAP,GAAc8wC,kBAAkBM,SAASpxC,IAAT,IAAiB,EAAnC,CAAd;AACA0iC,uBAAOuL,KAAP,GAAemD,SAASnD,KAAxB;AACH,aAPD,MAOO;AACH,oBAAI,CAACmD,SAASpxC,IAAd,EAAoB;AAChB0iC,2BAAO1iC,IAAP,GAAcwoC,KAAKxoC,IAAnB;AACA,wBAAIoxC,SAASnD,KAAT,KAAmBx0C,SAAvB,EAAkC;AAC9BipC,+BAAOuL,KAAP,GAAemD,SAASnD,KAAxB;AACH,qBAFD,MAEO;AACHvL,+BAAOuL,KAAP,GAAezF,KAAKyF,KAApB;AACH;AACJ,iBAPD,MAOO;AACH,wBAAImD,SAASpxC,IAAT,CAAcixC,MAAd,CAAqB,CAArB,MAA4B,GAAhC,EAAqC;AACjCvO,+BAAO1iC,IAAP,GAAc8wC,kBAAkBM,SAASpxC,IAA3B,CAAd;AACH,qBAFD,MAEO;AACH,4BAAI,CAACwoC,KAAKuF,QAAL,KAAkBt0C,SAAlB,IAA+B+uC,KAAKwF,IAAL,KAAcv0C,SAA7C,IAA0D+uC,KAAKyH,IAAL,KAAcx2C,SAAzE,KAAuF,CAAC+uC,KAAKxoC,IAAjG,EAAuG;AACnG0iC,mCAAO1iC,IAAP,GAAc,MAAMoxC,SAASpxC,IAA7B;AACH,yBAFD,MAEO,IAAI,CAACwoC,KAAKxoC,IAAV,EAAgB;AACnB0iC,mCAAO1iC,IAAP,GAAcoxC,SAASpxC,IAAvB;AACH,yBAFM,MAEA;AACH0iC,mCAAO1iC,IAAP,GAAcwoC,KAAKxoC,IAAL,CAAUoG,KAAV,CAAgB,CAAhB,EAAmBoiC,KAAKxoC,IAAL,CAAU+qC,WAAV,CAAsB,GAAtB,IAA6B,CAAhD,IAAqDqG,SAASpxC,IAA5E;AACH;AACD0iC,+BAAO1iC,IAAP,GAAc8wC,kBAAkBpO,OAAO1iC,IAAzB,CAAd;AACH;AACD0iC,2BAAOuL,KAAP,GAAemD,SAASnD,KAAxB;AACH;AACD;AACAvL,uBAAOqL,QAAP,GAAkBvF,KAAKuF,QAAvB;AACArL,uBAAOsL,IAAP,GAAcxF,KAAKwF,IAAnB;AACAtL,uBAAOuN,IAAP,GAAczH,KAAKyH,IAAnB;AACH;AACDvN,mBAAOoL,MAAP,GAAgBtF,KAAKsF,MAArB;AACH;AACDpL,eAAOv8B,QAAP,GAAkBirC,SAASjrC,QAA3B;AACA,eAAOu8B,MAAP;AACH;;AAED,aAAS1+B,OAAT,CAAiButC,OAAjB,EAA0BC,WAA1B,EAAuC3pB,OAAvC,EAAgD;AAC5C,YAAI4pB,oBAAoBhP,OAAO,EAAEqL,QAAQ,MAAV,EAAP,EAA2BjmB,OAA3B,CAAxB;AACA,eAAO7gB,UAAUmqC,kBAAkB1rC,MAAM8rC,OAAN,EAAeE,iBAAf,CAAlB,EAAqDhsC,MAAM+rC,WAAN,EAAmBC,iBAAnB,CAArD,EAA4FA,iBAA5F,EAA+G,IAA/G,CAAV,EAAgIA,iBAAhI,CAAP;AACH;;AAED,aAAS1qC,SAAT,CAAmB2qC,GAAnB,EAAwB7pB,OAAxB,EAAiC;AAC7B,YAAI,OAAO6pB,GAAP,KAAe,QAAnB,EAA6B;AACzBA,kBAAM1qC,UAAUvB,MAAMisC,GAAN,EAAW7pB,OAAX,CAAV,EAA+BA,OAA/B,CAAN;AACH,SAFD,MAEO,IAAIwa,OAAOqP,GAAP,MAAgB,QAApB,EAA8B;AACjCA,kBAAMjsC,MAAMuB,UAAU0qC,GAAV,EAAe7pB,OAAf,CAAN,EAA+BA,OAA/B,CAAN;AACH;AACD,eAAO6pB,GAAP;AACH;;AAED,aAASn2C,KAAT,CAAeo2C,IAAf,EAAqBC,IAArB,EAA2B/pB,OAA3B,EAAoC;AAChC,YAAI,OAAO8pB,IAAP,KAAgB,QAApB,EAA8B;AAC1BA,mBAAO3qC,UAAUvB,MAAMksC,IAAN,EAAY9pB,OAAZ,CAAV,EAAgCA,OAAhC,CAAP;AACH,SAFD,MAEO,IAAIwa,OAAOsP,IAAP,MAAiB,QAArB,EAA+B;AAClCA,mBAAO3qC,UAAU2qC,IAAV,EAAgB9pB,OAAhB,CAAP;AACH;AACD,YAAI,OAAO+pB,IAAP,KAAgB,QAApB,EAA8B;AAC1BA,mBAAO5qC,UAAUvB,MAAMmsC,IAAN,EAAY/pB,OAAZ,CAAV,EAAgCA,OAAhC,CAAP;AACH,SAFD,MAEO,IAAIwa,OAAOuP,IAAP,MAAiB,QAArB,EAA+B;AAClCA,mBAAO5qC,UAAU4qC,IAAV,EAAgB/pB,OAAhB,CAAP;AACH;AACD,eAAO8pB,SAASC,IAAhB;AACH;;AAED,aAASC,eAAT,CAAyBxzC,GAAzB,EAA8BwpB,OAA9B,EAAuC;AACnC,eAAOxpB,OAAOA,IAAIsK,QAAJ,GAAerK,OAAf,CAAuB,CAACupB,OAAD,IAAY,CAACA,QAAQkoB,GAArB,GAA2BtI,aAAaN,MAAxC,GAAiDO,aAAaP,MAArF,EAA6F6F,UAA7F,CAAd;AACH;;AAED,aAAS8E,iBAAT,CAA2BzzC,GAA3B,EAAgCwpB,OAAhC,EAAyC;AACrC,eAAOxpB,OAAOA,IAAIsK,QAAJ,GAAerK,OAAf,CAAuB,CAACupB,OAAD,IAAY,CAACA,QAAQkoB,GAArB,GAA2BtI,aAAaH,WAAxC,GAAsDI,aAAaJ,WAA1F,EAAuG4F,WAAvG,CAAd;AACH;;AAED,QAAI6E,UAAU;AACVjE,gBAAQ,MADE;AAEVsC,oBAAY,IAFF;AAGV3qC,eAAO,SAASA,KAAT,CAAeioC,UAAf,EAA2B7lB,OAA3B,EAAoC;AACvC;AACA,gBAAI,CAAC6lB,WAAWM,IAAhB,EAAsB;AAClBN,2BAAW1xB,KAAX,GAAmB0xB,WAAW1xB,KAAX,IAAoB,6BAAvC;AACH;AACD,mBAAO0xB,UAAP;AACH,SATS;AAUV1mC,mBAAW,SAASA,SAAT,CAAmB0mC,UAAnB,EAA+B7lB,OAA/B,EAAwC;AAC/C;AACA,gBAAI6lB,WAAWuC,IAAX,MAAqBtmB,OAAO+jB,WAAWI,MAAlB,EAA0BxL,WAA1B,OAA4C,OAA5C,GAAsD,EAAtD,GAA2D,GAAhF,KAAwFoL,WAAWuC,IAAX,KAAoB,EAAhH,EAAoH;AAChHvC,2BAAWuC,IAAX,GAAkBx2C,SAAlB;AACH;AACD;AACA,gBAAI,CAACi0C,WAAW1tC,IAAhB,EAAsB;AAClB0tC,2BAAW1tC,IAAX,GAAkB,GAAlB;AACH;AACD;AACA;AACA;AACA,mBAAO0tC,UAAP;AACH;AAvBS,KAAd;;AA0BA,QAAIsE,YAAY;AACZlE,gBAAQ,OADI;AAEZsC,oBAAY2B,QAAQ3B,UAFR;AAGZ3qC,eAAOssC,QAAQtsC,KAHH;AAIZuB,mBAAW+qC,QAAQ/qC;AAJP,KAAhB;;AAOA,QAAIirC,IAAI,EAAR;AACA,QAAIrP,QAAQ,IAAZ;AACA;AACA,QAAIc,eAAe,4BAA4Bd,QAAQ,2EAAR,GAAsF,EAAlH,IAAwH,GAA3I;AACA,QAAIK,WAAW,aAAf,CArqC4B,CAqqCE;AAC9B,QAAIG,eAAehB,OAAOA,OAAO,YAAYa,QAAZ,GAAuB,GAAvB,GAA6BA,QAA7B,GAAwCA,QAAxC,GAAmD,GAAnD,GAAyDA,QAAzD,GAAoEA,QAA3E,IAAuF,GAAvF,GAA6Fb,OAAO,gBAAgBa,QAAhB,GAA2B,GAA3B,GAAiCA,QAAjC,GAA4CA,QAAnD,CAA7F,GAA4J,GAA5J,GAAkKb,OAAO,MAAMa,QAAN,GAAiBA,QAAxB,CAAzK,CAAnB,CAtqC4B,CAsqCoM;AAChO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAIiP,UAAU,uDAAd;AACA,QAAIC,UAAU,4DAAd;AACA,QAAIC,UAAUrQ,MAAMoQ,OAAN,EAAe,YAAf,CAAd;AACA,QAAIE,gBAAgB,qCAApB;AACA,QAAIjL,aAAa,IAAI1oC,MAAJ,CAAWglC,YAAX,EAAyB,GAAzB,CAAjB;AACA,QAAI4D,cAAc,IAAI5oC,MAAJ,CAAW0kC,YAAX,EAAyB,GAAzB,CAAlB;AACA,QAAIkP,iBAAiB,IAAI5zC,MAAJ,CAAWqjC,MAAM,KAAN,EAAamQ,OAAb,EAAsB,OAAtB,EAA+B,OAA/B,EAAwCE,OAAxC,CAAX,EAA6D,GAA7D,CAArB;AACA,QAAIG,aAAa,IAAI7zC,MAAJ,CAAWqjC,MAAM,KAAN,EAAa2B,YAAb,EAA2B2O,aAA3B,CAAX,EAAsD,GAAtD,CAAjB;AACA,QAAIG,cAAcD,UAAlB;AACA,aAAS3E,gBAAT,CAA0BvvC,GAA1B,EAA+B;AAC3B,YAAIwvC,SAASX,YAAY7uC,GAAZ,CAAb;AACA,eAAO,CAACwvC,OAAOpvC,KAAP,CAAa2oC,UAAb,CAAD,GAA4B/oC,GAA5B,GAAkCwvC,MAAzC;AACH;AACD,QAAI4E,YAAY;AACZ3E,gBAAQ,QADI;AAEZroC,eAAO,SAASitC,QAAT,CAAkBhF,UAAlB,EAA8B7lB,OAA9B,EAAuC;AAC1C,gBAAI8qB,mBAAmBjF,UAAvB;AACA,gBAAIjxC,KAAKk2C,iBAAiBl2C,EAAjB,GAAsBk2C,iBAAiB3yC,IAAjB,GAAwB2yC,iBAAiB3yC,IAAjB,CAAsBW,KAAtB,CAA4B,GAA5B,CAAxB,GAA2D,EAA1F;AACAgyC,6BAAiB3yC,IAAjB,GAAwBvG,SAAxB;AACA,gBAAIk5C,iBAAiB1E,KAArB,EAA4B;AACxB,oBAAI2E,iBAAiB,KAArB;AACA,oBAAIC,UAAU,EAAd;AACA,oBAAIC,UAAUH,iBAAiB1E,KAAjB,CAAuBttC,KAAvB,CAA6B,GAA7B,CAAd;AACA,qBAAK,IAAInH,IAAI,CAAR,EAAW2oC,KAAK2Q,QAAQ31C,MAA7B,EAAqC3D,IAAI2oC,EAAzC,EAA6C,EAAE3oC,CAA/C,EAAkD;AAC9C,wBAAIu5C,SAASD,QAAQt5C,CAAR,EAAWmH,KAAX,CAAiB,GAAjB,CAAb;AACA,4BAAQoyC,OAAO,CAAP,CAAR;AACI,6BAAK,IAAL;AACI,gCAAIC,UAAUD,OAAO,CAAP,EAAUpyC,KAAV,CAAgB,GAAhB,CAAd;AACA,iCAAK,IAAI2f,KAAK,CAAT,EAAY2yB,MAAMD,QAAQ71C,MAA/B,EAAuCmjB,KAAK2yB,GAA5C,EAAiD,EAAE3yB,EAAnD,EAAuD;AACnD7jB,mCAAG2P,IAAH,CAAQ4mC,QAAQ1yB,EAAR,CAAR;AACH;AACD;AACJ,6BAAK,SAAL;AACIqyB,6CAAiBO,OAAjB,GAA2BpB,kBAAkBiB,OAAO,CAAP,CAAlB,EAA6BlrB,OAA7B,CAA3B;AACA;AACJ,6BAAK,MAAL;AACI8qB,6CAAiBvxC,IAAjB,GAAwB0wC,kBAAkBiB,OAAO,CAAP,CAAlB,EAA6BlrB,OAA7B,CAAxB;AACA;AACJ;AACI+qB,6CAAiB,IAAjB;AACAC,oCAAQf,kBAAkBiB,OAAO,CAAP,CAAlB,EAA6BlrB,OAA7B,CAAR,IAAiDiqB,kBAAkBiB,OAAO,CAAP,CAAlB,EAA6BlrB,OAA7B,CAAjD;AACA;AAhBR;AAkBH;AACD,oBAAI+qB,cAAJ,EAAoBD,iBAAiBE,OAAjB,GAA2BA,OAA3B;AACvB;AACDF,6BAAiB1E,KAAjB,GAAyBx0C,SAAzB;AACA,iBAAK,IAAI05C,MAAM,CAAV,EAAaC,OAAO32C,GAAGU,MAA5B,EAAoCg2C,MAAMC,IAA1C,EAAgD,EAAED,GAAlD,EAAuD;AACnD,oBAAIE,OAAO52C,GAAG02C,GAAH,EAAQxyC,KAAR,CAAc,GAAd,CAAX;AACA0yC,qBAAK,CAAL,IAAUvB,kBAAkBuB,KAAK,CAAL,CAAlB,CAAV;AACA,oBAAI,CAACxrB,QAAQsoB,cAAb,EAA6B;AACzB;AACA,wBAAI;AACAkD,6BAAK,CAAL,IAAUvG,SAASD,OAAT,CAAiBiF,kBAAkBuB,KAAK,CAAL,CAAlB,EAA2BxrB,OAA3B,EAAoCya,WAApC,EAAjB,CAAV;AACH,qBAFD,CAEE,OAAOvZ,CAAP,EAAU;AACR4pB,yCAAiB32B,KAAjB,GAAyB22B,iBAAiB32B,KAAjB,IAA0B,6EAA6E+M,CAAhI;AACH;AACJ,iBAPD,MAOO;AACHsqB,yBAAK,CAAL,IAAUvB,kBAAkBuB,KAAK,CAAL,CAAlB,EAA2BxrB,OAA3B,EAAoCya,WAApC,EAAV;AACH;AACD7lC,mBAAG02C,GAAH,IAAUE,KAAKl+B,IAAL,CAAU,GAAV,CAAV;AACH;AACD,mBAAOw9B,gBAAP;AACH,SAlDW;AAmDZ3rC,mBAAW,SAASssC,YAAT,CAAsBX,gBAAtB,EAAwC9qB,OAAxC,EAAiD;AACxD,gBAAI6lB,aAAaiF,gBAAjB;AACA,gBAAIl2C,KAAK+lC,QAAQmQ,iBAAiBl2C,EAAzB,CAAT;AACA,gBAAIA,EAAJ,EAAQ;AACJ,qBAAK,IAAIjD,IAAI,CAAR,EAAW2oC,KAAK1lC,GAAGU,MAAxB,EAAgC3D,IAAI2oC,EAApC,EAAwC,EAAE3oC,CAA1C,EAA6C;AACzC,wBAAI+5C,SAAS5pB,OAAOltB,GAAGjD,CAAH,CAAP,CAAb;AACA,wBAAIg6C,QAAQD,OAAOxI,WAAP,CAAmB,GAAnB,CAAZ;AACA,wBAAI0I,YAAYF,OAAOntC,KAAP,CAAa,CAAb,EAAgBotC,KAAhB,EAAuBl1C,OAAvB,CAA+BgpC,WAA/B,EAA4CsG,gBAA5C,EAA8DtvC,OAA9D,CAAsEgpC,WAAtE,EAAmF/E,WAAnF,EAAgGjkC,OAAhG,CAAwGg0C,cAAxG,EAAwHtF,UAAxH,CAAhB;AACA,wBAAI0G,SAASH,OAAOntC,KAAP,CAAaotC,QAAQ,CAArB,CAAb;AACA;AACA,wBAAI;AACAE,iCAAS,CAAC7rB,QAAQkoB,GAAT,GAAejD,SAASD,OAAT,CAAiBiF,kBAAkB4B,MAAlB,EAA0B7rB,OAA1B,EAAmCya,WAAnC,EAAjB,CAAf,GAAoFwK,SAASF,SAAT,CAAmB8G,MAAnB,CAA7F;AACH,qBAFD,CAEE,OAAO3qB,CAAP,EAAU;AACR2kB,mCAAW1xB,KAAX,GAAmB0xB,WAAW1xB,KAAX,IAAoB,0DAA0D,CAAC6L,QAAQkoB,GAAT,GAAe,OAAf,GAAyB,SAAnF,IAAgG,iBAAhG,GAAoHhnB,CAA3J;AACH;AACDtsB,uBAAGjD,CAAH,IAAQi6C,YAAY,GAAZ,GAAkBC,MAA1B;AACH;AACDhG,2BAAW1tC,IAAX,GAAkBvD,GAAG0Y,IAAH,CAAQ,GAAR,CAAlB;AACH;AACD,gBAAI09B,UAAUF,iBAAiBE,OAAjB,GAA2BF,iBAAiBE,OAAjB,IAA4B,EAArE;AACA,gBAAIF,iBAAiBO,OAArB,EAA8BL,QAAQ,SAAR,IAAqBF,iBAAiBO,OAAtC;AAC9B,gBAAIP,iBAAiBvxC,IAArB,EAA2ByxC,QAAQ,MAAR,IAAkBF,iBAAiBvxC,IAAnC;AAC3B,gBAAI8tC,SAAS,EAAb;AACA,iBAAK,IAAIhlC,IAAT,IAAiB2oC,OAAjB,EAA0B;AACtB,oBAAIA,QAAQ3oC,IAAR,MAAkB+nC,EAAE/nC,IAAF,CAAtB,EAA+B;AAC3BglC,2BAAO9iC,IAAP,CAAYlC,KAAK5L,OAAL,CAAagpC,WAAb,EAA0BsG,gBAA1B,EAA4CtvC,OAA5C,CAAoDgpC,WAApD,EAAiE/E,WAAjE,EAA8EjkC,OAA9E,CAAsFi0C,UAAtF,EAAkGvF,UAAlG,IAAgH,GAAhH,GAAsH6F,QAAQ3oC,IAAR,EAAc5L,OAAd,CAAsBgpC,WAAtB,EAAmCsG,gBAAnC,EAAqDtvC,OAArD,CAA6DgpC,WAA7D,EAA0E/E,WAA1E,EAAuFjkC,OAAvF,CAA+Fk0C,WAA/F,EAA4GxF,UAA5G,CAAlI;AACH;AACJ;AACD,gBAAIkC,OAAO/xC,MAAX,EAAmB;AACfuwC,2BAAWO,KAAX,GAAmBiB,OAAO/5B,IAAP,CAAY,GAAZ,CAAnB;AACH;AACD,mBAAOu4B,UAAP;AACH;AAnFW,KAAhB;;AAsFA,QAAIiG,YAAY,iBAAhB;AACA;AACA,QAAIC,YAAY;AACZ9F,gBAAQ,KADI;AAEZroC,eAAO,SAASitC,QAAT,CAAkBhF,UAAlB,EAA8B7lB,OAA9B,EAAuC;AAC1C,gBAAIrpB,UAAUkvC,WAAW1tC,IAAX,IAAmB0tC,WAAW1tC,IAAX,CAAgBvB,KAAhB,CAAsBk1C,SAAtB,CAAjC;AACA,gBAAIE,gBAAgBnG,UAApB;AACA,gBAAIlvC,OAAJ,EAAa;AACT,oBAAIsvC,SAASjmB,QAAQimB,MAAR,IAAkB+F,cAAc/F,MAAhC,IAA0C,KAAvD;AACA,oBAAIgG,MAAMt1C,QAAQ,CAAR,EAAW8jC,WAAX,EAAV;AACA,oBAAIyR,MAAMv1C,QAAQ,CAAR,CAAV;AACA,oBAAIw1C,YAAYlG,SAAS,GAAT,IAAgBjmB,QAAQisB,GAAR,IAAeA,GAA/B,CAAhB;AACA,oBAAI5D,gBAAgBnD,QAAQiH,SAAR,CAApB;AACAH,8BAAcC,GAAd,GAAoBA,GAApB;AACAD,8BAAcE,GAAd,GAAoBA,GAApB;AACAF,8BAAc7zC,IAAd,GAAqBvG,SAArB;AACA,oBAAIy2C,aAAJ,EAAmB;AACf2D,oCAAgB3D,cAAczqC,KAAd,CAAoBouC,aAApB,EAAmChsB,OAAnC,CAAhB;AACH;AACJ,aAZD,MAYO;AACHgsB,8BAAc73B,KAAd,GAAsB63B,cAAc73B,KAAd,IAAuB,wBAA7C;AACH;AACD,mBAAO63B,aAAP;AACH,SArBW;AAsBZ7sC,mBAAW,SAASssC,YAAT,CAAsBO,aAAtB,EAAqChsB,OAArC,EAA8C;AACrD,gBAAIimB,SAASjmB,QAAQimB,MAAR,IAAkB+F,cAAc/F,MAAhC,IAA0C,KAAvD;AACA,gBAAIgG,MAAMD,cAAcC,GAAxB;AACA,gBAAIE,YAAYlG,SAAS,GAAT,IAAgBjmB,QAAQisB,GAAR,IAAeA,GAA/B,CAAhB;AACA,gBAAI5D,gBAAgBnD,QAAQiH,SAAR,CAApB;AACA,gBAAI9D,aAAJ,EAAmB;AACf2D,gCAAgB3D,cAAclpC,SAAd,CAAwB6sC,aAAxB,EAAuChsB,OAAvC,CAAhB;AACH;AACD,gBAAIosB,gBAAgBJ,aAApB;AACA,gBAAIE,MAAMF,cAAcE,GAAxB;AACAE,0BAAcj0C,IAAd,GAAqB,CAAC8zC,OAAOjsB,QAAQisB,GAAhB,IAAuB,GAAvB,GAA6BC,GAAlD;AACA,mBAAOE,aAAP;AACH;AAlCW,KAAhB;;AAqCA,QAAIC,OAAO,0DAAX;AACA;AACA,QAAIC,YAAY;AACZrG,gBAAQ,UADI;AAEZroC,eAAO,SAASA,KAAT,CAAeouC,aAAf,EAA8BhsB,OAA9B,EAAuC;AAC1C,gBAAIusB,iBAAiBP,aAArB;AACAO,2BAAeC,IAAf,GAAsBD,eAAeL,GAArC;AACAK,2BAAeL,GAAf,GAAqBt6C,SAArB;AACA,gBAAI,CAACouB,QAAQypB,QAAT,KAAsB,CAAC8C,eAAeC,IAAhB,IAAwB,CAACD,eAAeC,IAAf,CAAoB51C,KAApB,CAA0By1C,IAA1B,CAA/C,CAAJ,EAAqF;AACjFE,+BAAep4B,KAAf,GAAuBo4B,eAAep4B,KAAf,IAAwB,oBAA/C;AACH;AACD,mBAAOo4B,cAAP;AACH,SAVW;AAWZptC,mBAAW,SAASA,SAAT,CAAmBotC,cAAnB,EAAmCvsB,OAAnC,EAA4C;AACnD,gBAAIgsB,gBAAgBO,cAApB;AACA;AACAP,0BAAcE,GAAd,GAAoB,CAACK,eAAeC,IAAf,IAAuB,EAAxB,EAA4B/R,WAA5B,EAApB;AACA,mBAAOuR,aAAP;AACH;AAhBW,KAAhB;;AAmBA9G,YAAQgF,QAAQjE,MAAhB,IAA0BiE,OAA1B;AACAhF,YAAQiF,UAAUlE,MAAlB,IAA4BkE,SAA5B;AACAjF,YAAQ0F,UAAU3E,MAAlB,IAA4B2E,SAA5B;AACA1F,YAAQ6G,UAAU9F,MAAlB,IAA4B8F,SAA5B;AACA7G,YAAQoH,UAAUrG,MAAlB,IAA4BqG,SAA5B;;AAEA95C,YAAQ0yC,OAAR,GAAkBA,OAAlB;AACA1yC,YAAQ2yC,UAAR,GAAqBA,UAArB;AACA3yC,YAAQ6yC,WAAR,GAAsBA,WAAtB;AACA7yC,YAAQoL,KAAR,GAAgBA,KAAhB;AACApL,YAAQy2C,iBAAR,GAA4BA,iBAA5B;AACAz2C,YAAQ2M,SAAR,GAAoBA,SAApB;AACA3M,YAAQ82C,iBAAR,GAA4BA,iBAA5B;AACA92C,YAAQ2J,OAAR,GAAkBA,OAAlB;AACA3J,YAAQ0M,SAAR,GAAoBA,SAApB;AACA1M,YAAQkB,KAAR,GAAgBA,KAAhB;AACAlB,YAAQw3C,eAAR,GAA0BA,eAA1B;AACAx3C,YAAQy3C,iBAAR,GAA4BA,iBAA5B;;AAEAp3C,WAAOC,cAAP,CAAsBN,OAAtB,EAA+B,YAA/B,EAA6C,EAAE6W,OAAO,IAAT,EAA7C;AAEC,CA12CA,CAAD;AA22CA,mC;;;;;;;AC52Ca;;AAEb;AACA;;AACA9W,OAAOC,OAAP,GAAiB,SAASoB,UAAT,CAAoB4C,GAApB,EAAyB;AACxC,MAAIlB,SAAS,CAAb;AAAA,MACIiyB,MAAM/wB,IAAIlB,MADd;AAAA,MAEIivB,MAAM,CAFV;AAAA,MAGIlb,KAHJ;AAIA,SAAOkb,MAAMgD,GAAb,EAAkB;AAChBjyB;AACA+T,YAAQ7S,IAAI8nB,UAAJ,CAAeiG,KAAf,CAAR;AACA,QAAIlb,SAAS,MAAT,IAAmBA,SAAS,MAA5B,IAAsCkb,MAAMgD,GAAhD,EAAqD;AACnD;AACAle,cAAQ7S,IAAI8nB,UAAJ,CAAeiG,GAAf,CAAR;AACA,UAAI,CAAClb,QAAQ,MAAT,KAAoB,MAAxB,EAAgCkb,MAHmB,CAGZ;AACxC;AACF;AACD,SAAOjvB,MAAP;AACD,CAfD,C;;;;;;;ACJa;;;;AAEb,IAAI4G,WAAW3J,OAAOC,OAAP,GAAiB,UAAUqF,MAAV,EAAkBkR,IAAlB,EAAwB0jC,EAAxB,EAA4B;AAC1D;AACA,MAAI,OAAO1jC,IAAP,IAAe,UAAnB,EAA+B;AAC7B0jC,SAAK1jC,IAAL;AACAA,WAAO,EAAP;AACD;;AAED0jC,OAAK1jC,KAAK0jC,EAAL,IAAWA,EAAhB;AACA,MAAIC,MAAO,OAAOD,EAAP,IAAa,UAAd,GAA4BA,EAA5B,GAAiCA,GAAGC,GAAH,IAAU,YAAW,CAAE,CAAlE;AACA,MAAIC,OAAOF,GAAGE,IAAH,IAAW,YAAW,CAAE,CAAnC;;AAEAC,YAAU7jC,IAAV,EAAgB2jC,GAAhB,EAAqBC,IAArB,EAA2B90C,MAA3B,EAAmC,EAAnC,EAAuCA,MAAvC;AACD,CAZD;;AAeAqE,SAAS2wC,QAAT,GAAoB;AAClBC,mBAAiB,IADC;AAElBv+B,SAAO,IAFW;AAGlBw+B,YAAU,IAHQ;AAIlBC,wBAAsB,IAJJ;AAKlBC,iBAAe,IALG;AAMlBC,OAAK;AANa,CAApB;;AASAhxC,SAASixC,aAAT,GAAyB;AACvB5+B,SAAO,IADgB;AAEvB6+B,SAAO,IAFgB;AAGvBC,SAAO,IAHgB;AAIvBC,SAAO;AAJgB,CAAzB;;AAOApxC,SAASqxC,aAAT,GAAyB;AACvBC,eAAa,IADU;AAEvB3/B,cAAY,IAFW;AAGvB4/B,qBAAmB,IAHI;AAIvBC,gBAAc;AAJS,CAAzB;;AAOAxxC,SAASyxC,YAAT,GAAwB;AACtBv/B,WAAS,IADa;AAEtBw/B,QAAM,IAFgB;AAGtB3Y,SAAO,IAHe;AAItB4Y,YAAU,IAJY;AAKtBC,WAAS,IALa;AAMtBC,WAAS,IANa;AAOtBC,oBAAkB,IAPI;AAQtBC,oBAAkB,IARI;AAStBC,cAAY,IATU;AAUtBC,aAAW,IAVW;AAWtBC,aAAW,IAXW;AAYtBC,WAAS,IAZa;AAatBna,UAAQ,IAbc;AActBoa,YAAU,IAdY;AAetBC,YAAU,IAfY;AAgBtBC,eAAa,IAhBS;AAiBtBC,iBAAe,IAjBO;AAkBtBC,iBAAe;AAlBO,CAAxB;;AAsBA,SAAS9B,SAAT,CAAmB7jC,IAAnB,EAAyB2jC,GAAzB,EAA8BC,IAA9B,EAAoC90C,MAApC,EAA4C+H,OAA5C,EAAqDC,UAArD,EAAiEC,aAAjE,EAAgFC,aAAhF,EAA+FC,YAA/F,EAA6GC,QAA7G,EAAuH;AACrH,MAAIpI,UAAU,QAAOA,MAAP,yCAAOA,MAAP,MAAiB,QAA3B,IAAuC,CAAC5B,MAAMC,OAAN,CAAc2B,MAAd,CAA5C,EAAmE;AACjE60C,QAAI70C,MAAJ,EAAY+H,OAAZ,EAAqBC,UAArB,EAAiCC,aAAjC,EAAgDC,aAAhD,EAA+DC,YAA/D,EAA6EC,QAA7E;AACA,SAAK,IAAIpL,GAAT,IAAgBgD,MAAhB,EAAwB;AACtB,UAAI8H,MAAM9H,OAAOhD,GAAP,CAAV;AACA,UAAIoB,MAAMC,OAAN,CAAcyJ,GAAd,CAAJ,EAAwB;AACtB,YAAI9K,OAAOqH,SAASixC,aAApB,EAAmC;AACjC,eAAK,IAAIj6C,IAAE,CAAX,EAAcA,IAAEyM,IAAIrK,MAApB,EAA4BpC,GAA5B;AACE05C,sBAAU7jC,IAAV,EAAgB2jC,GAAhB,EAAqBC,IAArB,EAA2BhtC,IAAIzM,CAAJ,CAA3B,EAAmC0M,UAAU,GAAV,GAAgB/K,GAAhB,GAAsB,GAAtB,GAA4B3B,CAA/D,EAAkE2M,UAAlE,EAA8ED,OAA9E,EAAuF/K,GAAvF,EAA4FgD,MAA5F,EAAoG3E,CAApG;AADF;AAED;AACF,OALD,MAKO,IAAI2B,OAAOqH,SAASqxC,aAApB,EAAmC;AACxC,YAAI5tC,OAAO,QAAOA,GAAP,yCAAOA,GAAP,MAAc,QAAzB,EAAmC;AACjC,eAAK,IAAItH,IAAT,IAAiBsH,GAAjB;AACEitC,sBAAU7jC,IAAV,EAAgB2jC,GAAhB,EAAqBC,IAArB,EAA2BhtC,IAAItH,IAAJ,CAA3B,EAAsCuH,UAAU,GAAV,GAAgB/K,GAAhB,GAAsB,GAAtB,GAA4B85C,cAAct2C,IAAd,CAAlE,EAAuFwH,UAAvF,EAAmGD,OAAnG,EAA4G/K,GAA5G,EAAiHgD,MAAjH,EAAyHQ,IAAzH;AADF;AAED;AACF,OALM,MAKA,IAAIxD,OAAOqH,SAAS2wC,QAAhB,IAA6B9jC,KAAKrJ,OAAL,IAAgB,EAAE7K,OAAOqH,SAASyxC,YAAlB,CAAjD,EAAmF;AACxFf,kBAAU7jC,IAAV,EAAgB2jC,GAAhB,EAAqBC,IAArB,EAA2BhtC,GAA3B,EAAgCC,UAAU,GAAV,GAAgB/K,GAAhD,EAAqDgL,UAArD,EAAiED,OAAjE,EAA0E/K,GAA1E,EAA+EgD,MAA/E;AACD;AACF;AACD80C,SAAK90C,MAAL,EAAa+H,OAAb,EAAsBC,UAAtB,EAAkCC,aAAlC,EAAiDC,aAAjD,EAAgEC,YAAhE,EAA8EC,QAA9E;AACD;AACF;;AAGD,SAAS0uC,aAAT,CAAuBn4C,GAAvB,EAA4B;AAC1B,SAAOA,IAAIC,OAAJ,CAAY,IAAZ,EAAkB,IAAlB,EAAwBA,OAAxB,CAAgC,KAAhC,EAAuC,IAAvC,CAAP;AACD,C;;;;;;;ACxFY;;AAGb,IAAIg8B,QAAQlgC,OAAOC,OAAP,GAAiB,SAASigC,KAAT,GAAiB;AAC5C,OAAK0B,MAAL,GAAc,EAAd;AACD,CAFD;;AAKA1B,MAAMryB,SAAN,CAAgBo2B,GAAhB,GAAsB,SAASoY,SAAT,CAAmB/5C,GAAnB,EAAwBwU,KAAxB,EAA+B;AACnD,OAAK8qB,MAAL,CAAYt/B,GAAZ,IAAmBwU,KAAnB;AACD,CAFD;;AAKAopB,MAAMryB,SAAN,CAAgBpN,GAAhB,GAAsB,SAAS67C,SAAT,CAAmBh6C,GAAnB,EAAwB;AAC5C,SAAO,KAAKs/B,MAAL,CAAYt/B,GAAZ,CAAP;AACD,CAFD;;AAKA49B,MAAMryB,SAAN,CAAgB21B,GAAhB,GAAsB,SAAS+Y,SAAT,CAAmBj6C,GAAnB,EAAwB;AAC5C,SAAO,KAAKs/B,MAAL,CAAYt/B,GAAZ,CAAP;AACD,CAFD;;AAKA49B,MAAMryB,SAAN,CAAgB2X,KAAhB,GAAwB,SAASg3B,WAAT,GAAuB;AAC7C,OAAK5a,MAAL,GAAc,EAAd;AACD,CAFD,C;;;;;;;ACvBa;;AAEb,IAAIn4B,OAAOrI,mBAAOA,CAAC,CAAR,CAAX;;AAEA,IAAIq7C,OAAO,4BAAX;AACA,IAAIC,OAAO,CAAC,CAAD,EAAG,EAAH,EAAM,EAAN,EAAS,EAAT,EAAY,EAAZ,EAAe,EAAf,EAAkB,EAAlB,EAAqB,EAArB,EAAwB,EAAxB,EAA2B,EAA3B,EAA8B,EAA9B,EAAiC,EAAjC,EAAoC,EAApC,CAAX;AACA,IAAIC,OAAO,mDAAX;AACA,IAAIC,WAAW,oFAAf;AACA,IAAIpzC,MAAM,8nCAAV;AACA,IAAIqzC,SAAS,woCAAb;AACA;AACA,IAAIC,cAAc,mLAAlB;AACA;AACA;AACA;AACA;AACA,IAAIC,MAAM,2rDAAV;AACA,IAAIjD,OAAO,8DAAX;AACA,IAAI/zC,eAAe,2BAAnB;AACA,IAAIi3C,4BAA4B,8DAAhC;AACA,IAAIh3C,wBAAwB,kDAA5B;;AAGAhG,OAAOC,OAAP,GAAiBmgC,OAAjB;;AAEA,SAASA,OAAT,CAAiB6c,IAAjB,EAAuB;AACrBA,SAAOA,QAAQ,MAAR,GAAiB,MAAjB,GAA0B,MAAjC;AACA,SAAOxzC,KAAK7I,IAAL,CAAUw/B,QAAQ6c,IAAR,CAAV,CAAP;AACD;;AAGD7c,QAAQ8c,IAAR,GAAe;AACb;AACAC,QAAM,4BAFO;AAGb;AACAC,QAAM,uEAJO;AAKb,eAAa,mGALA;AAMb;AACA9F,OAAK,2CAPQ;AAQb,mBAAiB,wEARJ;AASb,kBAAgBwF,WATH;AAUb9yC,OAAK+yC,GAVQ;AAWb;AACA;AACA;AACAM,SAAO,kHAdM;AAebC,YAAUV,QAfG;AAgBb;AACAW,QAAM,2EAjBO;AAkBb;AACAC,QAAM,opCAnBO;AAoBb7Z,SAAOA,KApBM;AAqBb;AACAsW,QAAMH,IAtBO;AAuBb;AACA;AACA,kBAAgB/zC,YAzBH;AA0Bb,+BAA6Bi3C,yBA1BhB;AA2Bb;AACA,2BAAyBh3C;AA5BZ,CAAf;;AAgCAo6B,QAAQqd,IAAR,GAAe;AACbN,QAAMA,IADO;AAEbC,QAAMA,IAFO;AAGb,eAAaM,SAHA;AAIbpG,OAAKA,GAJQ;AAKb,mBAAiBuF,MALJ;AAMb,kBAAgBC,WANH;AAOb9yC,OAAK+yC,GAPQ;AAQbM,SAAO,0IARM;AASbC,YAAUA,QATG;AAUbC,QAAM,2EAVO;AAWbC,QAAM,opCAXO;AAYb7Z,SAAOA,KAZM;AAabsW,QAAMH,IAbO;AAcb,kBAAgB/zC,YAdH;AAeb,+BAA6Bi3C,yBAfhB;AAgBb,2BAAyBh3C;AAhBZ,CAAf;;AAoBA,SAAS23C,UAAT,CAAoBC,IAApB,EAA0B;AACxB;AACA,SAAOA,OAAO,CAAP,KAAa,CAAb,KAAmBA,OAAO,GAAP,KAAe,CAAf,IAAoBA,OAAO,GAAP,KAAe,CAAtD,CAAP;AACD;;AAGD,SAAST,IAAT,CAAcl5C,GAAd,EAAmB;AACjB;AACA,MAAIG,UAAUH,IAAII,KAAJ,CAAUo4C,IAAV,CAAd;AACA,MAAI,CAACr4C,OAAL,EAAc,OAAO,KAAP;;AAEd,MAAIw5C,OAAO,CAACx5C,QAAQ,CAAR,CAAZ;AACA,MAAIy5C,QAAQ,CAACz5C,QAAQ,CAAR,CAAb;AACA,MAAI05C,MAAM,CAAC15C,QAAQ,CAAR,CAAX;;AAEA,SAAOy5C,SAAS,CAAT,IAAcA,SAAS,EAAvB,IAA6BC,OAAO,CAApC,IACCA,QAAQD,SAAS,CAAT,IAAcF,WAAWC,IAAX,CAAd,GAAiC,EAAjC,GAAsClB,KAAKmB,KAAL,CAA9C,CADR;AAED;;AAGD,SAAST,IAAT,CAAcn5C,GAAd,EAAmBw5C,IAAnB,EAAyB;AACvB,MAAIr5C,UAAUH,IAAII,KAAJ,CAAUs4C,IAAV,CAAd;AACA,MAAI,CAACv4C,OAAL,EAAc,OAAO,KAAP;;AAEd,MAAI25C,OAAO35C,QAAQ,CAAR,CAAX;AACA,MAAI45C,SAAS55C,QAAQ,CAAR,CAAb;AACA,MAAI65C,SAAS75C,QAAQ,CAAR,CAAb;AACA,MAAI85C,WAAW95C,QAAQ,CAAR,CAAf;AACA,SAAO,CAAE25C,QAAQ,EAAR,IAAcC,UAAU,EAAxB,IAA8BC,UAAU,EAAzC,IACCF,QAAQ,EAAR,IAAcC,UAAU,EAAxB,IAA8BC,UAAU,EAD1C,MAEC,CAACR,IAAD,IAASS,QAFV,CAAP;AAGD;;AAGD,IAAIC,sBAAsB,OAA1B;AACA,SAAST,SAAT,CAAmBz5C,GAAnB,EAAwB;AACtB;AACA,MAAIm6C,WAAWn6C,IAAIsC,KAAJ,CAAU43C,mBAAV,CAAf;AACA,SAAOC,SAASr7C,MAAT,IAAmB,CAAnB,IAAwBo6C,KAAKiB,SAAS,CAAT,CAAL,CAAxB,IAA6ChB,KAAKgB,SAAS,CAAT,CAAL,EAAkB,IAAlB,CAApD;AACD;;AAGD,SAASd,QAAT,CAAkBr5C,GAAlB,EAAuB;AACrB;AACA;AACA,SAAOA,IAAIlB,MAAJ,IAAc,GAAd,IAAqB65C,SAAS54C,IAAT,CAAcC,GAAd,CAA5B;AACD;;AAGD,IAAIo6C,mBAAmB,MAAvB;AACA,SAAS/G,GAAT,CAAarzC,GAAb,EAAkB;AAChB;AACA,SAAOo6C,iBAAiBr6C,IAAjB,CAAsBC,GAAtB,KAA8BuF,IAAIxF,IAAJ,CAASC,GAAT,CAArC;AACD;;AAGD,IAAIq6C,WAAW,UAAf;AACA,SAAS3a,KAAT,CAAe1/B,GAAf,EAAoB;AAClB,MAAIq6C,SAASt6C,IAAT,CAAcC,GAAd,CAAJ,EAAwB,OAAO,KAAP;AACxB,MAAI;AACF,QAAIK,MAAJ,CAAWL,GAAX;AACA,WAAO,IAAP;AACD,GAHD,CAGE,OAAM0qB,CAAN,EAAS;AACT,WAAO,KAAP;AACD;AACF,C;;;;;;;ACpJY;;;;AAEb,IAAI4vB,cAAcn9C,mBAAOA,CAAC,EAAR,CAAlB;AAAA,IACIJ,SAASI,mBAAOA,CAAC,CAAR,EAAkBJ,MAD/B;;AAGAhB,OAAOC,OAAP,GAAiB,SAASsF,KAAT,GAAiB;AAChC,MAAIqS,QAAQ,CACV,EAAE7P,MAAM,QAAR;AACExC,WAAO,CAAE,EAAE,WAAW,CAAC,kBAAD,CAAb,EAAF,EACE,EAAE,WAAW,CAAC,kBAAD,CAAb,EADF,EACuC,YADvC,EACqD,QADrD,CADT,EADU,EAIV,EAAEwC,MAAM,QAAR;AACExC,WAAO,CAAE,WAAF,EAAe,WAAf,EAA4B,SAA5B,EAAuC,QAAvC,CADT,EAJU,EAMV,EAAEwC,MAAM,OAAR;AACExC,WAAO,CAAE,UAAF,EAAc,UAAd,EAA0B,OAA1B,EAAmC,UAAnC,EAA+C,aAA/C,CADT,EANU,EAQV,EAAEwC,MAAM,QAAR;AACExC,WAAO,CAAE,eAAF,EAAmB,eAAnB,EAAoC,UAApC,EAAgD,cAAhD,EAAgE,eAAhE,EACE,EAAE,cAAc,CAAC,sBAAD,EAAyB,mBAAzB,CAAhB,EADF,CADT,EARU,EAWV,EAAEA,OAAO,CAAE,MAAF,EAAU,OAAV,EAAmB,MAAnB,EAA2B,KAA3B,EAAkC,OAAlC,EAA2C,OAA3C,EAAoD,OAApD,EAA6D,IAA7D,CAAT,EAXU,CAAZ;;AAcA,MAAIi5C,MAAM,CAAE,MAAF,EAAU,UAAV,CAAV;AACA,MAAIC,WAAW,CACb,SADa,EACF,KADE,EACK,IADL,EACW,OADX,EACoB,OADpB,EAEb,aAFa,EAEE,SAFF,EAEa,aAFb,EAGb,UAHa,EAGD,UAHC,EAGW,WAHX,EAIb,kBAJa,EAIO,iBAJP,EAKb,iBALa,EAKM,MALN,EAKc,MALd,CAAf;AAOA,MAAIC,QAAQ,CAAE,QAAF,EAAY,SAAZ,EAAuB,QAAvB,EAAiC,OAAjC,EAA0C,QAA1C,EAAoD,SAApD,EAA+D,MAA/D,CAAZ;AACA9mC,QAAMC,GAAN,GAAY7W,OAAOw9C,GAAP,CAAZ;AACA5mC,QAAM3U,KAAN,GAAcjC,OAAO09C,KAAP,CAAd;;AAEA9mC,QAAMxF,OAAN,CAAc,UAAUusC,KAAV,EAAiB;AAC7BA,UAAMp5C,KAAN,GAAco5C,MAAMp5C,KAAN,CAAYs3B,GAAZ,CAAgB,UAAUpgB,OAAV,EAAmB;AAC/C,UAAImiC,YAAJ;AACA,UAAI,QAAOniC,OAAP,yCAAOA,OAAP,MAAkB,QAAtB,EAAgC;AAC9B,YAAIna,MAAMhC,OAAOmL,IAAP,CAAYgR,OAAZ,EAAqB,CAArB,CAAV;AACAmiC,uBAAeniC,QAAQna,GAAR,CAAf;AACAma,kBAAUna,GAAV;AACAs8C,qBAAaxsC,OAAb,CAAqB,UAAUia,CAAV,EAAa;AAChCmyB,cAAIxsC,IAAJ,CAASqa,CAAT;AACAzU,gBAAMC,GAAN,CAAUwU,CAAV,IAAe,IAAf;AACD,SAHD;AAID;AACDmyB,UAAIxsC,IAAJ,CAASyK,OAAT;AACA,UAAI6qB,OAAO1vB,MAAMC,GAAN,CAAU4E,OAAV,IAAqB;AAC9BA,iBAASA,OADqB;AAE9BzZ,cAAMu7C,YAAY9hC,OAAZ,CAFwB;AAG9BC,oBAAYkiC;AAHkB,OAAhC;AAKA,aAAOtX,IAAP;AACD,KAlBa,CAAd;;AAoBA1vB,UAAMC,GAAN,CAAUqC,QAAV,GAAqB;AACnBuC,eAAS,UADU;AAEnBzZ,YAAMu7C,YAAYrkC;AAFC,KAArB;;AAKA,QAAIykC,MAAM52C,IAAV,EAAgB6P,MAAM3U,KAAN,CAAY07C,MAAM52C,IAAlB,IAA0B42C,KAA1B;AACjB,GA3BD;;AA6BA/mC,QAAM0iC,QAAN,GAAiBt5C,OAAOw9C,IAAIzkC,MAAJ,CAAW0kC,QAAX,CAAP,CAAjB;AACA7mC,QAAMinC,MAAN,GAAe,EAAf;;AAEA,SAAOjnC,KAAP;AACD,CA5DD,C;;;;;;;ACLa;;AAEb;;AACA5X,OAAOC,OAAP,GAAiB;AACf,UAAQmB,mBAAOA,CAAC,EAAR,CADO;AAEfy5C,SAAOz5C,mBAAOA,CAAC,EAAR,CAFQ;AAGf05C,SAAO15C,mBAAOA,CAAC,EAAR,CAHQ;AAIf,cAAYA,mBAAOA,CAAC,EAAR,CAJG;AAKfshC,SAAOthC,mBAAOA,CAAC,EAAR,CALQ;AAMfo5C,YAAUp5C,mBAAOA,CAAC,EAAR,CANK;AAOf+5C,gBAAc/5C,mBAAOA,CAAC,EAAR,CAPC;AAQf,UAAQA,mBAAOA,CAAC,EAAR,CARO;AASfugC,UAAQvgC,mBAAOA,CAAC,EAAR,CATO;AAUf,QAAMA,mBAAOA,CAAC,EAAR,CAVS;AAWf4a,SAAO5a,mBAAOA,CAAC,EAAR,CAXQ;AAYfm6C,WAASn6C,mBAAOA,CAAC,EAAR,CAZM;AAafo6C,WAASp6C,mBAAOA,CAAC,EAAR,CAbM;AAcf26C,YAAU36C,mBAAOA,CAAC,EAAR,CAdK;AAef46C,YAAU56C,mBAAOA,CAAC,EAAR,CAfK;AAgBfw6C,aAAWx6C,mBAAOA,CAAC,EAAR,CAhBI;AAiBfy6C,aAAWz6C,mBAAOA,CAAC,EAAR,CAjBI;AAkBf86C,iBAAe96C,mBAAOA,CAAC,EAAR,CAlBA;AAmBf+6C,iBAAe/6C,mBAAOA,CAAC,EAAR,CAnBA;AAoBfu6C,cAAYv6C,mBAAOA,CAAC,EAAR,CApBG;AAqBfu5C,OAAKv5C,mBAAOA,CAAC,EAAR,CArBU;AAsBf25C,SAAO35C,mBAAOA,CAAC,EAAR,CAtBQ;AAuBf06C,WAAS16C,mBAAOA,CAAC,EAAR,CAvBM;AAwBfka,cAAYla,mBAAOA,CAAC,EAAR,CAxBG;AAyBfs5C,iBAAet5C,mBAAOA,CAAC,EAAR,CAzBA;AA0Bfk6C,YAAUl6C,mBAAOA,CAAC,EAAR,CA1BK;AA2Bf66C,eAAa76C,mBAAOA,CAAC,EAAR,CA3BE;AA4Bf2J,YAAU3J,mBAAOA,CAAC,EAAR;AA5BK,CAAjB,C;;;;;;;ACHa;;AACbpB,OAAOC,OAAP,GAAiB,SAAS6+C,YAAT,CAAsBvnC,EAAtB,EAA0BC,QAA1B,EAAoCC,SAApC,EAA+C;AAC9D,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAI3S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAIU,SAAS,UAAUZ,IAAvB;AACA,MAAIR,MAAJ,EAAYqnC,QAAZ;AACA,MAAIzmC,WAAW,GAAX,IAAkBA,WAAW,IAAjC,EAAuC;AACrC,QAAIf,GAAGuuB,MAAP,EAAe;AACbpuB,eAASH,GAAGlS,KAAZ;AACA05C,iBAAW,UAAX;AACD,KAHD,MAGO;AACLrnC,eAASH,GAAGhN,IAAH,CAAQjF,MAAR,CAAeoS,MAAf,KAA0B,IAAnC;AACAqnC,iBAAW,gBAAX;AACD;AACF,GARD,MAQO;AACL,QAAIC,UAAUznC,GAAGwuB,UAAH,CAAcxuB,GAAGpM,MAAjB,EAAyBmN,OAAzB,EAAkCf,GAAGuuB,MAArC,CAAd;AACA,QAAIkZ,YAAY3/C,SAAhB,EAA2B;AACzB,UAAI4/C,WAAW1nC,GAAG3I,eAAH,CAAmBE,OAAnB,CAA2ByI,GAAGpM,MAA9B,EAAsCmN,OAAtC,CAAf;AACA,UAAIf,GAAGf,IAAH,CAAQ0oC,WAAR,IAAuB,MAA3B,EAAmC;AACjC3nC,WAAG0C,MAAH,CAAU2H,KAAV,CAAgBq9B,QAAhB;AACA,YAAIlmC,aAAaA,cAAc,EAA/B;AACAA,mBAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,cAAM,EAAN,CAJiC,CAIvB;AACV,YAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,iBAAO,mBAAoB,MAApB,GAA8B,sCAA9B,GAAwE4S,GAAG0B,SAA3E,GAAwF,iBAAxF,GAA6G1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAA7G,GAAuJ,sBAAvJ,GAAiLlB,GAAG9N,IAAH,CAAQvI,YAAR,CAAqBoX,OAArB,CAAjL,GAAkN,OAAzN;AACA,cAAIf,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,mBAAO,8CAA+C4S,GAAG9N,IAAH,CAAQvI,YAAR,CAAqBoX,OAArB,CAA/C,GAAgF,KAAvF;AACD;AACD,cAAIf,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,mBAAO,gBAAiB4S,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB0W,OAAvB,CAAjB,GAAoD,kCAApD,GAA0Ff,GAAGiB,UAA7F,GAA2G,WAA3G,GAA0HvS,KAA1H,GAAmI,GAA1I;AACD;AACDtB,iBAAO,KAAP;AACD,SATD,MASO;AACLA,iBAAO,MAAP;AACD;AACD,YAAIyU,QAAQzU,GAAZ;AACAA,cAAMoU,WAAWM,GAAX,EAAN;AACA,YAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,cAAIpB,GAAGlS,KAAP,EAAc;AACZV,mBAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,WAFD,MAEO;AACLzU,mBAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,SAND,MAMO;AACLzU,iBAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACD,YAAIT,aAAJ,EAAmB;AACjBhU,iBAAO,gBAAP;AACD;AACF,OA/BD,MA+BO,IAAI4S,GAAGf,IAAH,CAAQ0oC,WAAR,IAAuB,QAA3B,EAAqC;AAC1C3nC,WAAG0C,MAAH,CAAU3D,IAAV,CAAe2oC,QAAf;AACA,YAAItmC,aAAJ,EAAmB;AACjBhU,iBAAO,eAAP;AACD;AACF,OALM,MAKA;AACL,cAAM,IAAI4S,GAAG3I,eAAP,CAAuB2I,GAAGpM,MAA1B,EAAkCmN,OAAlC,EAA2C2mC,QAA3C,CAAN;AACD;AACF,KAzCD,MAyCO,IAAID,QAAQ7X,MAAZ,EAAoB;AACzB,UAAIgY,MAAM5nC,GAAG9N,IAAH,CAAQ7I,IAAR,CAAa2W,EAAb,CAAV;AACA4nC,UAAIhnC,KAAJ;AACA,UAAIinC,aAAa,UAAUD,IAAIhnC,KAA/B;AACAgnC,UAAI75C,MAAJ,GAAa05C,QAAQ15C,MAArB;AACA65C,UAAI3mC,UAAJ,GAAiB,EAAjB;AACA2mC,UAAIzmC,aAAJ,GAAoBJ,OAApB;AACA,UAAIkE,QAAQjF,GAAGxM,QAAH,CAAYo0C,GAAZ,EAAiBj7C,OAAjB,CAAyB,mBAAzB,EAA8C86C,QAAQh8C,IAAtD,CAAZ;AACA2B,aAAO,MAAO6X,KAAP,GAAgB,GAAvB;AACA,UAAI7D,aAAJ,EAAmB;AACjBhU,eAAO,UAAWy6C,UAAX,GAAyB,MAAhC;AACD;AACF,KAZM,MAYA;AACL1nC,eAASsnC,QAAQtnC,MAAR,KAAmB,IAAnB,IAA4BH,GAAGlS,KAAH,IAAY25C,QAAQtnC,MAAR,KAAmB,KAApE;AACAqnC,iBAAWC,QAAQh8C,IAAnB;AACD;AACF;AACD,MAAI+7C,QAAJ,EAAc;AACZ,QAAIhmC,aAAaA,cAAc,EAA/B;AACAA,eAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,UAAM,EAAN;AACA,QAAI4S,GAAGf,IAAH,CAAQ6oC,WAAZ,EAAyB;AACvB16C,aAAO,MAAOo6C,QAAP,GAAmB,cAA1B;AACD,KAFD,MAEO;AACLp6C,aAAO,MAAOo6C,QAAP,GAAmB,IAA1B;AACD;AACDp6C,WAAO,MAAOsB,KAAP,GAAgB,sBAAvB;AACA,QAAIsR,GAAG0B,SAAH,IAAgB,IAApB,EAA0B;AACxBtU,aAAO,QAAS4S,GAAG0B,SAAnB;AACD;AACD,QAAI+B,cAAc5C,WAAW,UAAWA,WAAW,CAAZ,IAAkB,EAA5B,CAAX,GAA6C,YAA/D;AAAA,QACE6C,sBAAsB7C,WAAWb,GAAGkC,WAAH,CAAerB,QAAf,CAAX,GAAsC,oBAD9D;AAEAzT,WAAO,QAASqW,WAAT,GAAwB,KAAxB,GAAiCC,mBAAjC,GAAwD,eAA/D;AACA,QAAIqkC,iBAAiB36C,GAArB;AACAA,UAAMoU,WAAWM,GAAX,EAAN;AACA,QAAI3B,MAAJ,EAAY;AACV,UAAI,CAACH,GAAGlS,KAAR,EAAe,MAAM,IAAIgB,KAAJ,CAAU,wCAAV,CAAN;AACf,UAAIsS,aAAJ,EAAmB;AACjBhU,eAAO,UAAWmU,MAAX,GAAqB,IAA5B;AACD;AACDnU,aAAO,kBAAmB26C,cAAnB,GAAqC,IAA5C;AACA,UAAI3mC,aAAJ,EAAmB;AACjBhU,eAAO,MAAOmU,MAAP,GAAiB,WAAxB;AACD;AACDnU,aAAO,2KAAP;AACA,UAAIgU,aAAJ,EAAmB;AACjBhU,eAAO,MAAOmU,MAAP,GAAiB,YAAxB;AACD;AACDnU,aAAO,KAAP;AACA,UAAIgU,aAAJ,EAAmB;AACjBhU,eAAO,UAAWmU,MAAX,GAAqB,MAA5B;AACD;AACF,KAjBD,MAiBO;AACLnU,aAAO,WAAY26C,cAAZ,GAA8B,sCAA9B,GAAwEP,QAAxE,GAAoF,yCAApF,GAAiIA,QAAjI,GAA6I,uCAApJ;AACA,UAAIpmC,aAAJ,EAAmB;AACjBhU,eAAO,UAAP;AACD;AACF;AACF;AACD,SAAOA,GAAP;AACD,CAzHD,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAASs/C,cAAT,CAAwBhoC,EAAxB,EAA4BC,QAA5B,EAAsCC,SAAtC,EAAiD;AAChE,MAAI9S,MAAM,GAAV;AACA,MAAI2T,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAIumC,MAAM5nC,GAAG9N,IAAH,CAAQ7I,IAAR,CAAa2W,EAAb,CAAV;AACA,MAAIioC,iBAAiB,EAArB;AACAL,MAAIhnC,KAAJ;AACA,MAAIinC,aAAa,UAAUD,IAAIhnC,KAA/B;AACA,MAAIsnC,iBAAiBN,IAAIh0C,MAAzB;AAAA,MACEu0C,mBAAmB,IADrB;AAEA,MAAI/kC,OAAOrC,OAAX;AACA,MAAIqC,IAAJ,EAAU;AACR,QAAIiB,IAAJ;AAAA,QAAUf,KAAK,CAAC,CAAhB;AAAA,QACEC,KAAKH,KAAK5X,MAAL,GAAc,CADrB;AAEA,WAAO8X,KAAKC,EAAZ,EAAgB;AACdc,aAAOjB,KAAKE,MAAM,CAAX,CAAP;AACA,UAAItD,GAAG9N,IAAH,CAAQ/H,cAAR,CAAuBka,IAAvB,EAA6BrE,GAAGK,KAAH,CAASC,GAAtC,CAAJ,EAAgD;AAC9C6nC,2BAAmB,KAAnB;AACAP,YAAI75C,MAAJ,GAAasW,IAAb;AACAujC,YAAI3mC,UAAJ,GAAiBD,cAAc,GAAd,GAAoBsC,EAApB,GAAyB,GAA1C;AACAskC,YAAIzmC,aAAJ,GAAoBD,iBAAiB,GAAjB,GAAuBoC,EAA3C;AACAlW,eAAO,OAAQ4S,GAAGxM,QAAH,CAAYo0C,GAAZ,CAAR,GAA4B,GAAnC;AACAA,YAAIh0C,MAAJ,GAAas0C,cAAb;AACA,YAAI9mC,aAAJ,EAAmB;AACjBhU,iBAAO,UAAWy6C,UAAX,GAAyB,MAAhC;AACAI,4BAAkB,GAAlB;AACD;AACF;AACF;AACF;AACD,MAAI7mC,aAAJ,EAAmB;AACjB,QAAI+mC,gBAAJ,EAAsB;AACpB/6C,aAAO,eAAP;AACD,KAFD,MAEO;AACLA,aAAO,MAAO66C,eAAexzC,KAAf,CAAqB,CAArB,EAAwB,CAAC,CAAzB,CAAP,GAAsC,GAA7C;AACD;AACF;AACDrH,QAAM4S,GAAG9N,IAAH,CAAQjI,WAAR,CAAoBmD,GAApB,CAAN;AACA,SAAOA,GAAP;AACD,CAzCD,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAAS0/C,cAAT,CAAwBpoC,EAAxB,EAA4BC,QAA5B,EAAsCC,SAAtC,EAAiD;AAChE,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAI3S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAIU,SAAS,UAAUZ,IAAvB;AACA,MAAI0nC,QAAQ,WAAW1nC,IAAvB;AACA,MAAIinC,MAAM5nC,GAAG9N,IAAH,CAAQ7I,IAAR,CAAa2W,EAAb,CAAV;AACA,MAAIioC,iBAAiB,EAArB;AACAL,MAAIhnC,KAAJ;AACA,MAAIinC,aAAa,UAAUD,IAAIhnC,KAA/B;AACA,MAAI0nC,iBAAiBvnC,QAAQwnC,KAAR,CAAc,UAASlkC,IAAT,EAAe;AAChD,WAAOrE,GAAG9N,IAAH,CAAQ/H,cAAR,CAAuBka,IAAvB,EAA6BrE,GAAGK,KAAH,CAASC,GAAtC,CAAP;AACD,GAFoB,CAArB;AAGA,MAAIgoC,cAAJ,EAAoB;AAClB,QAAIJ,iBAAiBN,IAAIh0C,MAAzB;AACAxG,WAAO,UAAWi7C,KAAX,GAAoB,iBAApB,GAAyC9mC,MAAzC,GAAmD,aAA1D;AACA,QAAIinC,gBAAgBxoC,GAAG+B,aAAvB;AACA/B,OAAG+B,aAAH,GAAmB6lC,IAAI7lC,aAAJ,GAAoB,IAAvC;AACA,QAAIqB,OAAOrC,OAAX;AACA,QAAIqC,IAAJ,EAAU;AACR,UAAIiB,IAAJ;AAAA,UAAUf,KAAK,CAAC,CAAhB;AAAA,UACEC,KAAKH,KAAK5X,MAAL,GAAc,CADrB;AAEA,aAAO8X,KAAKC,EAAZ,EAAgB;AACdc,eAAOjB,KAAKE,MAAM,CAAX,CAAP;AACAskC,YAAI75C,MAAJ,GAAasW,IAAb;AACAujC,YAAI3mC,UAAJ,GAAiBD,cAAc,GAAd,GAAoBsC,EAApB,GAAyB,GAA1C;AACAskC,YAAIzmC,aAAJ,GAAoBD,iBAAiB,GAAjB,GAAuBoC,EAA3C;AACAlW,eAAO,OAAQ4S,GAAGxM,QAAH,CAAYo0C,GAAZ,CAAR,GAA4B,GAAnC;AACAA,YAAIh0C,MAAJ,GAAas0C,cAAb;AACA96C,eAAO,MAAOmU,MAAP,GAAiB,KAAjB,GAA0BA,MAA1B,GAAoC,MAApC,GAA8CsmC,UAA9C,GAA4D,SAA5D,GAAyEtmC,MAAzE,GAAmF,MAA1F;AACA0mC,0BAAkB,GAAlB;AACD;AACF;AACDjoC,OAAG+B,aAAH,GAAmB6lC,IAAI7lC,aAAJ,GAAoBymC,aAAvC;AACAp7C,WAAO,MAAO66C,cAAP,GAAyB,QAAzB,GAAqC1mC,MAArC,GAA+C,oBAAtD,CArBkB,CAqB0D;AAC5E,QAAIvB,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,aAAO,mBAAoB,OAApB,GAA+B,sCAA/B,GAAyE4S,GAAG0B,SAA5E,GAAyF,iBAAzF,GAA8G1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAA9G,GAAwJ,gBAA/J;AACA,UAAIlB,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,eAAO,oDAAP;AACD;AACD,UAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,eAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,aAAO,KAAP;AACD,KATD,MASO;AACLA,aAAO,MAAP;AACD;AACDA,WAAO,8EAAP;AACA,QAAI,CAAC4S,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,UAAIpB,GAAGlS,KAAP,EAAc;AACZV,eAAO,uCAAP;AACD,OAFD,MAEO;AACLA,eAAO,4CAAP;AACD;AACF;AACDA,WAAO,yBAA0Bi7C,KAA1B,GAAmC,gCAAnC,GAAuEA,KAAvE,GAAgF,qBAAhF,GAAyGA,KAAzG,GAAkH,2BAAzH;AACA,QAAIroC,GAAGf,IAAH,CAAQoC,SAAZ,EAAuB;AACrBjU,aAAO,KAAP;AACD;AACDA,UAAM4S,GAAG9N,IAAH,CAAQjI,WAAR,CAAoBmD,GAApB,CAAN;AACD,GA/CD,MA+CO;AACL,QAAIgU,aAAJ,EAAmB;AACjBhU,aAAO,eAAP;AACD;AACF;AACD,SAAOA,GAAP;AACD,CAvED,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAAS+/C,gBAAT,CAA0BzoC,EAA1B,EAA8BC,QAA9B,EAAwCC,SAAxC,EAAmD;AAClE,MAAI9S,MAAM,GAAV;AACA,MAAI2T,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAIsB,WAAW3C,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB0W,OAAvB,CAAf;AACA,MAAIf,GAAGf,IAAH,CAAQ0D,QAAR,KAAqB,IAAzB,EAA+B;AAC7BvV,WAAO,kBAAmBuV,QAAnB,GAA+B,IAAtC;AACD,GAFD,MAEO,IAAI,OAAO3C,GAAGf,IAAH,CAAQ0D,QAAf,IAA2B,UAA/B,EAA2C;AAChDvV,WAAO,0BAA2BuV,QAA3B,GAAuC,IAAvC,GAA+C3C,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAA/C,GAAyF,0BAAhG;AACD;AACD,SAAO9T,GAAP;AACD,CAZD,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAASggD,cAAT,CAAwB1oC,EAAxB,EAA4BC,QAA5B,EAAsCC,SAAtC,EAAiD;AAChE,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAI3S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAIU,SAAS,UAAUZ,IAAvB;AACA,MAAI4E,UAAUvF,GAAGf,IAAH,CAAQvQ,KAAR,IAAiBqS,OAAjB,IAA4BA,QAAQrS,KAAlD;AAAA,MACE8W,YADF;AAEA,MAAID,OAAJ,EAAa;AACXnY,WAAO,gBAAiBuT,IAAjB,GAAyB,KAAzB,GAAkCX,GAAG9N,IAAH,CAAQ1H,OAAR,CAAgBuW,QAAQrS,KAAxB,EAA+BmS,QAA/B,EAAyCb,GAAGkC,WAA5C,CAAlC,GAA8F,IAArG;AACAsD,mBAAe,WAAW7E,IAA1B;AACD,GAHD,MAGO;AACL6E,mBAAezE,OAAf;AACD;AACD,MAAI,CAACwE,OAAL,EAAc;AACZnY,WAAO,gBAAiBuT,IAAjB,GAAyB,oBAAzB,GAAiDK,WAAjD,GAAgE,GAAvE;AACD;AACD5T,SAAO,SAAUmU,MAAV,GAAoB,WAApB,GAAmC7S,KAAnC,GAA4C,UAA5C,GAA0DiS,IAA1D,GAAkE,UAAlE,GAAgFY,MAAhF,GAA0F,QAAjG;AACA,MAAIC,aAAaA,cAAc,EAA/B;AACAA,aAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,QAAM,EAAN,CAxBgE,CAwBtD;AACV,MAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,WAAO,mBAAoB,OAApB,GAA+B,sCAA/B,GAAyE4S,GAAG0B,SAA5E,GAAyF,iBAAzF,GAA8G1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAA9G,GAAwJ,mCAAxJ,GAA+LP,IAA/L,GAAuM,KAA9M;AACA,QAAIX,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,aAAO,8CAAP;AACD;AACD,QAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,aAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,WAAO,KAAP;AACD,GATD,MASO;AACLA,WAAO,MAAP;AACD;AACD,MAAIyU,QAAQzU,GAAZ;AACAA,QAAMoU,WAAWM,GAAX,EAAN;AACA,MAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,QAAIpB,GAAGlS,KAAP,EAAc;AACZV,aAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,KAFD,MAEO;AACLzU,aAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,GAND,MAMO;AACLzU,WAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,SAAO,IAAP;AACA,MAAIgU,aAAJ,EAAmB;AACjBhU,WAAO,UAAP;AACD;AACD,SAAOA,GAAP;AACD,CArDD,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAASigD,iBAAT,CAA2B3oC,EAA3B,EAA+BC,QAA/B,EAAyCC,SAAzC,EAAoD;AACnE,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAI3S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAIU,SAAS,UAAUZ,IAAvB;AACA,MAAI0nC,QAAQ,WAAW1nC,IAAvB;AACA,MAAIinC,MAAM5nC,GAAG9N,IAAH,CAAQ7I,IAAR,CAAa2W,EAAb,CAAV;AACA,MAAIioC,iBAAiB,EAArB;AACAL,MAAIhnC,KAAJ;AACA,MAAIinC,aAAa,UAAUD,IAAIhnC,KAA/B;AACA,MAAIgoC,OAAO,MAAMjoC,IAAjB;AAAA,MACEkoC,WAAWjB,IAAI9mC,SAAJ,GAAgBd,GAAGc,SAAH,GAAe,CAD5C;AAAA,MAEEgoC,YAAY,SAASD,QAFvB;AAAA,MAGEX,iBAAiBloC,GAAGpM,MAHtB;AAAA,MAIEm1C,kBAAkB/oC,GAAG9N,IAAH,CAAQ/H,cAAR,CAAuB4W,OAAvB,EAAgCf,GAAGK,KAAH,CAASC,GAAzC,CAJpB;AAKAlT,SAAO,SAAUi7C,KAAV,GAAmB,gBAAnB,GAAuC9mC,MAAvC,GAAiD,GAAxD;AACA,MAAIwnC,eAAJ,EAAqB;AACnB,QAAIP,gBAAgBxoC,GAAG+B,aAAvB;AACA/B,OAAG+B,aAAH,GAAmB6lC,IAAI7lC,aAAJ,GAAoB,IAAvC;AACA6lC,QAAI75C,MAAJ,GAAagT,OAAb;AACA6mC,QAAI3mC,UAAJ,GAAiBD,WAAjB;AACA4mC,QAAIzmC,aAAJ,GAAoBD,cAApB;AACA9T,WAAO,UAAWy6C,UAAX,GAAyB,qBAAzB,GAAkDe,IAAlD,GAA0D,QAA1D,GAAsEA,IAAtE,GAA8E,KAA9E,GAAuFl6C,KAAvF,GAAgG,WAAhG,GAA+Gk6C,IAA/G,GAAuH,QAA9H;AACAhB,QAAIlmC,SAAJ,GAAgB1B,GAAG9N,IAAH,CAAQ5H,WAAR,CAAoB0V,GAAG0B,SAAvB,EAAkCknC,IAAlC,EAAwC5oC,GAAGf,IAAH,CAAQ9Q,YAAhD,EAA8D,IAA9D,CAAhB;AACA,QAAIoW,YAAY7V,QAAQ,GAAR,GAAck6C,IAAd,GAAqB,GAArC;AACAhB,QAAI1lC,WAAJ,CAAgB2mC,QAAhB,IAA4BD,IAA5B;AACA,QAAI3jC,QAAQjF,GAAGxM,QAAH,CAAYo0C,GAAZ,CAAZ;AACAA,QAAIh0C,MAAJ,GAAas0C,cAAb;AACA,QAAIloC,GAAG9N,IAAH,CAAQnI,aAAR,CAAsBkb,KAAtB,EAA6B6jC,SAA7B,IAA0C,CAA9C,EAAiD;AAC/C17C,aAAO,MAAO4S,GAAG9N,IAAH,CAAQlI,UAAR,CAAmBib,KAAnB,EAA0B6jC,SAA1B,EAAqCvkC,SAArC,CAAP,GAA0D,GAAjE;AACD,KAFD,MAEO;AACLnX,aAAO,UAAW07C,SAAX,GAAwB,KAAxB,GAAiCvkC,SAAjC,GAA8C,IAA9C,GAAsDU,KAAtD,GAA+D,GAAtE;AACD;AACD7X,WAAO,UAAWy6C,UAAX,GAAyB,cAAhC;AACA7nC,OAAG+B,aAAH,GAAmB6lC,IAAI7lC,aAAJ,GAAoBymC,aAAvC;AACAp7C,WAAO,MAAO66C,cAAP,GAAyB,QAAzB,GAAqCJ,UAArC,GAAmD,KAA1D;AACD,GApBD,MAoBO;AACLz6C,WAAO,UAAWsB,KAAX,GAAoB,iBAA3B;AACD;AACD,MAAI8S,aAAaA,cAAc,EAA/B;AACAA,aAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,QAAM,EAAN,CA9CmE,CA8CzD;AACV,MAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,WAAO,mBAAoB,UAApB,GAAkC,sCAAlC,GAA4E4S,GAAG0B,SAA/E,GAA4F,iBAA5F,GAAiH1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAAjH,GAA2J,gBAAlK;AACA,QAAIlB,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,aAAO,8CAAP;AACD;AACD,QAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,aAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,WAAO,KAAP;AACD,GATD,MASO;AACLA,WAAO,MAAP;AACD;AACD,MAAIyU,QAAQzU,GAAZ;AACAA,QAAMoU,WAAWM,GAAX,EAAN;AACA,MAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,QAAIpB,GAAGlS,KAAP,EAAc;AACZV,aAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,KAFD,MAEO;AACLzU,aAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,GAND,MAMO;AACLzU,WAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,SAAO,YAAP;AACA,MAAI27C,eAAJ,EAAqB;AACnB37C,WAAO,gBAAiBi7C,KAAjB,GAA0B,gCAA1B,GAA8DA,KAA9D,GAAuE,qBAAvE,GAAgGA,KAAhG,GAAyG,2BAAhH;AACD;AACD,MAAIroC,GAAGf,IAAH,CAAQoC,SAAZ,EAAuB;AACrBjU,WAAO,KAAP;AACD;AACDA,QAAM4S,GAAG9N,IAAH,CAAQjI,WAAR,CAAoBmD,GAApB,CAAN;AACA,SAAOA,GAAP;AACD,CA/ED,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAASsgD,qBAAT,CAA+BhpC,EAA/B,EAAmCC,QAAnC,EAA6CC,SAA7C,EAAwD;AACvE,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAI3S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAIwnC,QAAQ,WAAW1nC,IAAvB;AACA,MAAIinC,MAAM5nC,GAAG9N,IAAH,CAAQ7I,IAAR,CAAa2W,EAAb,CAAV;AACA,MAAIioC,iBAAiB,EAArB;AACAL,MAAIhnC,KAAJ;AACA,MAAIinC,aAAa,UAAUD,IAAIhnC,KAA/B;AACA,MAAIqoC,cAAc,EAAlB;AAAA,MACEC,gBAAgB,EADlB;AAAA,MAEEC,iBAAiBnpC,GAAGf,IAAH,CAAQmqC,aAF3B;AAGA,OAAKC,SAAL,IAAkBtoC,OAAlB,EAA2B;AACzB,QAAIsD,OAAOtD,QAAQsoC,SAAR,CAAX;AACA,QAAIC,QAAQn9C,MAAMC,OAAN,CAAciY,IAAd,IAAsB6kC,aAAtB,GAAsCD,WAAlD;AACAK,UAAMD,SAAN,IAAmBhlC,IAAnB;AACD;AACDjX,SAAO,SAAUi7C,KAAV,GAAmB,YAA1B;AACA,MAAIkB,oBAAoBvpC,GAAG0B,SAA3B;AACAtU,SAAO,gBAAiBuT,IAAjB,GAAyB,GAAhC;AACA,OAAK,IAAI0oC,SAAT,IAAsBH,aAAtB,EAAqC;AACnCI,YAAQJ,cAAcG,SAAd,CAAR;AACA,QAAIC,MAAM99C,MAAV,EAAkB;AAChB4B,aAAO,WAAYsB,KAAZ,GAAsBsR,GAAG9N,IAAH,CAAQxI,WAAR,CAAoB2/C,SAApB,CAAtB,GAAwD,iBAA/D;AACA,UAAIF,cAAJ,EAAoB;AAClB/7C,eAAO,8CAA+CsB,KAA/C,GAAwD,MAAxD,GAAkEsR,GAAG9N,IAAH,CAAQvI,YAAR,CAAqB0/C,SAArB,CAAlE,GAAqG,MAA5G;AACD;AACD,UAAIjoC,aAAJ,EAAmB;AACjBhU,eAAO,QAAP;AACA,YAAIgW,OAAOkmC,KAAX;AACA,YAAIlmC,IAAJ,EAAU;AACR,cAAIc,YAAJ;AAAA,cAAkBZ,KAAK,CAAC,CAAxB;AAAA,cACEC,KAAKH,KAAK5X,MAAL,GAAc,CADrB;AAEA,iBAAO8X,KAAKC,EAAZ,EAAgB;AACdW,2BAAed,KAAKE,MAAM,CAAX,CAAf;AACA,gBAAIA,EAAJ,EAAQ;AACNlW,qBAAO,MAAP;AACD;AACD,gBAAIo8C,QAAQxpC,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBwa,YAApB,CAAZ;AAAA,gBACEulC,WAAW/6C,QAAQ86C,KADrB;AAEAp8C,mBAAO,UAAWq8C,QAAX,GAAuB,iBAA9B;AACA,gBAAIN,cAAJ,EAAoB;AAClB/7C,qBAAO,gDAAiDsB,KAAjD,GAA0D,MAA1D,GAAoEsR,GAAG9N,IAAH,CAAQvI,YAAR,CAAqBua,YAArB,CAApE,GAA0G,MAAjH;AACD;AACD9W,mBAAO,kBAAmBuT,IAAnB,GAA2B,KAA3B,GAAoCX,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB2V,GAAGf,IAAH,CAAQ9Q,YAAR,GAAuB+V,YAAvB,GAAsCslC,KAA7D,CAApC,GAA2G,MAAlH;AACD;AACF;AACDp8C,eAAO,QAAP;AACA,YAAIs8C,gBAAgB,YAAY/oC,IAAhC;AAAA,YACEgpC,mBAAmB,UAAUD,aAAV,GAA0B,OAD/C;AAEA,YAAI1pC,GAAGf,IAAH,CAAQ2rB,sBAAZ,EAAoC;AAClC5qB,aAAG0B,SAAH,GAAe1B,GAAGf,IAAH,CAAQ9Q,YAAR,GAAuB6R,GAAG9N,IAAH,CAAQ5H,WAAR,CAAoBi/C,iBAApB,EAAuCG,aAAvC,EAAsD,IAAtD,CAAvB,GAAqFH,oBAAoB,KAApB,GAA4BG,aAAhI;AACD;AACD,YAAIloC,aAAaA,cAAc,EAA/B;AACAA,mBAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,cAAM,EAAN,CA5BiB,CA4BP;AACV,YAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,iBAAO,mBAAoB,cAApB,GAAsC,sCAAtC,GAAgF4S,GAAG0B,SAAnF,GAAgG,iBAAhG,GAAqH1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAArH,GAA+J,2BAA/J,GAA8LlB,GAAG9N,IAAH,CAAQvI,YAAR,CAAqB0/C,SAArB,CAA9L,GAAiO,yBAAjO,GAA8PM,gBAA9P,GAAkR,iBAAlR,GAAuSL,MAAM99C,MAA7S,GAAuT,YAAvT,GAAuUwU,GAAG9N,IAAH,CAAQvI,YAAR,CAAqB2/C,MAAM99C,MAAN,IAAgB,CAAhB,GAAoB89C,MAAM,CAAN,CAApB,GAA+BA,MAAM9lC,IAAN,CAAW,IAAX,CAApD,CAAvU,GAAgZ,OAAvZ;AACA,cAAIxD,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,mBAAO,4BAAP;AACA,gBAAIk8C,MAAM99C,MAAN,IAAgB,CAApB,EAAuB;AACrB4B,qBAAO,cAAe4S,GAAG9N,IAAH,CAAQvI,YAAR,CAAqB2/C,MAAM,CAAN,CAArB,CAAtB;AACD,aAFD,MAEO;AACLl8C,qBAAO,gBAAiB4S,GAAG9N,IAAH,CAAQvI,YAAR,CAAqB2/C,MAAM9lC,IAAN,CAAW,IAAX,CAArB,CAAxB;AACD;AACDpW,mBAAO,oBAAqB4S,GAAG9N,IAAH,CAAQvI,YAAR,CAAqB0/C,SAArB,CAArB,GAAwD,gBAA/D;AACD;AACD,cAAIrpC,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,mBAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,iBAAO,KAAP;AACD,SAfD,MAeO;AACLA,iBAAO,MAAP;AACD;AACD,YAAIyU,QAAQzU,GAAZ;AACAA,cAAMoU,WAAWM,GAAX,EAAN;AACA,YAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,cAAIpB,GAAGlS,KAAP,EAAc;AACZV,mBAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,WAFD,MAEO;AACLzU,mBAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,SAND,MAMO;AACLzU,iBAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACF,OA1DD,MA0DO;AACLzU,eAAO,OAAP;AACA,YAAIuW,OAAO2lC,KAAX;AACA,YAAI3lC,IAAJ,EAAU;AACR,cAAIO,YAAJ;AAAA,cAAkBN,KAAK,CAAC,CAAxB;AAAA,cACEC,KAAKF,KAAKnY,MAAL,GAAc,CADrB;AAEA,iBAAOoY,KAAKC,EAAZ,EAAgB;AACdK,2BAAeP,KAAKC,MAAM,CAAX,CAAf;AACA,gBAAI4lC,QAAQxpC,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBwa,YAApB,CAAZ;AAAA,gBACEylC,mBAAmB3pC,GAAG9N,IAAH,CAAQvI,YAAR,CAAqBua,YAArB,CADrB;AAAA,gBAEEulC,WAAW/6C,QAAQ86C,KAFrB;AAGA,gBAAIxpC,GAAGf,IAAH,CAAQ2rB,sBAAZ,EAAoC;AAClC5qB,iBAAG0B,SAAH,GAAe1B,GAAG9N,IAAH,CAAQ3H,OAAR,CAAgBg/C,iBAAhB,EAAmCrlC,YAAnC,EAAiDlE,GAAGf,IAAH,CAAQ9Q,YAAzD,CAAf;AACD;AACDf,mBAAO,WAAYq8C,QAAZ,GAAwB,iBAA/B;AACA,gBAAIN,cAAJ,EAAoB;AAClB/7C,qBAAO,gDAAiDsB,KAAjD,GAA0D,MAA1D,GAAoEsR,GAAG9N,IAAH,CAAQvI,YAAR,CAAqBua,YAArB,CAApE,GAA0G,MAAjH;AACD;AACD9W,mBAAO,mBAAP,CAZc,CAYc;AAC5B,gBAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,qBAAO,mBAAoB,cAApB,GAAsC,sCAAtC,GAAgF4S,GAAG0B,SAAnF,GAAgG,iBAAhG,GAAqH1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAArH,GAA+J,2BAA/J,GAA8LlB,GAAG9N,IAAH,CAAQvI,YAAR,CAAqB0/C,SAArB,CAA9L,GAAiO,yBAAjO,GAA8PM,gBAA9P,GAAkR,iBAAlR,GAAuSL,MAAM99C,MAA7S,GAAuT,YAAvT,GAAuUwU,GAAG9N,IAAH,CAAQvI,YAAR,CAAqB2/C,MAAM99C,MAAN,IAAgB,CAAhB,GAAoB89C,MAAM,CAAN,CAApB,GAA+BA,MAAM9lC,IAAN,CAAW,IAAX,CAApD,CAAvU,GAAgZ,OAAvZ;AACA,kBAAIxD,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,uBAAO,4BAAP;AACA,oBAAIk8C,MAAM99C,MAAN,IAAgB,CAApB,EAAuB;AACrB4B,yBAAO,cAAe4S,GAAG9N,IAAH,CAAQvI,YAAR,CAAqB2/C,MAAM,CAAN,CAArB,CAAtB;AACD,iBAFD,MAEO;AACLl8C,yBAAO,gBAAiB4S,GAAG9N,IAAH,CAAQvI,YAAR,CAAqB2/C,MAAM9lC,IAAN,CAAW,IAAX,CAArB,CAAxB;AACD;AACDpW,uBAAO,oBAAqB4S,GAAG9N,IAAH,CAAQvI,YAAR,CAAqB0/C,SAArB,CAArB,GAAwD,gBAA/D;AACD;AACD,kBAAIrpC,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,uBAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,qBAAO,KAAP;AACD,aAfD,MAeO;AACLA,qBAAO,MAAP;AACD;AACDA,mBAAO,gFAAP;AACD;AACF;AACF;AACDA,aAAO,OAAP;AACA,UAAIgU,aAAJ,EAAmB;AACjB6mC,0BAAkB,GAAlB;AACA76C,eAAO,UAAP;AACD;AACF;AACF;AACD4S,KAAG0B,SAAH,GAAe6nC,iBAAf;AACA,MAAIrB,iBAAiBN,IAAIh0C,MAAzB;AACA,OAAK,IAAIy1C,SAAT,IAAsBJ,WAAtB,EAAmC;AACjC,QAAI5kC,OAAO4kC,YAAYI,SAAZ,CAAX;AACA,QAAIrpC,GAAG9N,IAAH,CAAQ/H,cAAR,CAAuBka,IAAvB,EAA6BrE,GAAGK,KAAH,CAASC,GAAtC,CAAJ,EAAgD;AAC9ClT,aAAO,MAAOy6C,UAAP,GAAqB,gBAArB,GAAyCn5C,KAAzC,GAAmDsR,GAAG9N,IAAH,CAAQxI,WAAR,CAAoB2/C,SAApB,CAAnD,GAAqF,iBAA5F;AACA,UAAIF,cAAJ,EAAoB;AAClB/7C,eAAO,8CAA+CsB,KAA/C,GAAwD,MAAxD,GAAkEsR,GAAG9N,IAAH,CAAQvI,YAAR,CAAqB0/C,SAArB,CAAlE,GAAqG,MAA5G;AACD;AACDj8C,aAAO,MAAP;AACAw6C,UAAI75C,MAAJ,GAAasW,IAAb;AACAujC,UAAI3mC,UAAJ,GAAiBD,cAAchB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoB2/C,SAApB,CAA/B;AACAzB,UAAIzmC,aAAJ,GAAoBD,iBAAiB,GAAjB,GAAuBlB,GAAG9N,IAAH,CAAQvH,cAAR,CAAuB0+C,SAAvB,CAA3C;AACAj8C,aAAO,OAAQ4S,GAAGxM,QAAH,CAAYo0C,GAAZ,CAAR,GAA4B,GAAnC;AACAA,UAAIh0C,MAAJ,GAAas0C,cAAb;AACA96C,aAAO,MAAP;AACA,UAAIgU,aAAJ,EAAmB;AACjBhU,eAAO,UAAWy6C,UAAX,GAAyB,MAAhC;AACAI,0BAAkB,GAAlB;AACD;AACF;AACF;AACD,MAAI7mC,aAAJ,EAAmB;AACjBhU,WAAO,QAAS66C,cAAT,GAA2B,OAA3B,GAAsCI,KAAtC,GAA+C,eAAtD;AACD;AACDj7C,QAAM4S,GAAG9N,IAAH,CAAQjI,WAAR,CAAoBmD,GAApB,CAAN;AACA,SAAOA,GAAP;AACD,CArKD,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAASkhD,aAAT,CAAuB5pC,EAAvB,EAA2BC,QAA3B,EAAqCC,SAArC,EAAgD;AAC/D,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAI3S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAIU,SAAS,UAAUZ,IAAvB;AACA,MAAI4E,UAAUvF,GAAGf,IAAH,CAAQvQ,KAAR,IAAiBqS,OAAjB,IAA4BA,QAAQrS,KAAlD;AAAA,MACE8W,YADF;AAEA,MAAID,OAAJ,EAAa;AACXnY,WAAO,gBAAiBuT,IAAjB,GAAyB,KAAzB,GAAkCX,GAAG9N,IAAH,CAAQ1H,OAAR,CAAgBuW,QAAQrS,KAAxB,EAA+BmS,QAA/B,EAAyCb,GAAGkC,WAA5C,CAAlC,GAA8F,IAArG;AACAsD,mBAAe,WAAW7E,IAA1B;AACD,GAHD,MAGO;AACL6E,mBAAezE,OAAf;AACD;AACD,MAAIuC,KAAK,MAAM3C,IAAf;AAAA,MACEkpC,WAAW,WAAWlpC,IADxB;AAEA,MAAI,CAAC4E,OAAL,EAAc;AACZnY,WAAO,UAAWy8C,QAAX,GAAuB,oBAAvB,GAA+C7oC,WAA/C,GAA8D,GAArE;AACD;AACD5T,SAAO,SAAUmU,MAAV,GAAoB,GAA3B;AACA,MAAIgE,OAAJ,EAAa;AACXnY,WAAO,gBAAiBuT,IAAjB,GAAyB,kBAAzB,GAA+CY,MAA/C,GAAyD,yCAAzD,GAAsGZ,IAAtG,GAA8G,KAA9G,GAAuHY,MAAvH,GAAiI,kBAAxI;AACD;AACDnU,SAAO,KAAMmU,MAAN,GAAgB,oBAAhB,GAAwC+B,EAAxC,GAA8C,MAA9C,GAAwDA,EAAxD,GAA8D,GAA9D,GAAqEumC,QAArE,GAAiF,WAAjF,GAAgGvmC,EAAhG,GAAsG,gBAAtG,GAA0H5U,KAA1H,GAAmI,IAAnI,GAA2Im7C,QAA3I,GAAuJ,GAAvJ,GAA8JvmC,EAA9J,GAAoK,QAApK,GAAgL/B,MAAhL,GAA0L,mBAAjM;AACA,MAAIgE,OAAJ,EAAa;AACXnY,WAAO,OAAP;AACD;AACDA,SAAO,WAAYmU,MAAZ,GAAsB,QAA7B;AACA,MAAIC,aAAaA,cAAc,EAA/B;AACAA,aAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,QAAM,EAAN,CAlC+D,CAkCrD;AACV,MAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,WAAO,mBAAoB,MAApB,GAA8B,sCAA9B,GAAwE4S,GAAG0B,SAA3E,GAAwF,iBAAxF,GAA6G1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAA7G,GAAuJ,oCAAvJ,GAA+LP,IAA/L,GAAuM,KAA9M;AACA,QAAIX,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,aAAO,+DAAP;AACD;AACD,QAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,aAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,WAAO,KAAP;AACD,GATD,MASO;AACLA,WAAO,MAAP;AACD;AACD,MAAIyU,QAAQzU,GAAZ;AACAA,QAAMoU,WAAWM,GAAX,EAAN;AACA,MAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,QAAIpB,GAAGlS,KAAP,EAAc;AACZV,aAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,KAFD,MAEO;AACLzU,aAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,GAND,MAMO;AACLzU,WAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,SAAO,IAAP;AACA,MAAIgU,aAAJ,EAAmB;AACjBhU,WAAO,UAAP;AACD;AACD,SAAOA,GAAP;AACD,CA/DD,C;;;;;;;ACDa;;;;AACb3E,OAAOC,OAAP,GAAiB,SAASohD,eAAT,CAAyB9pC,EAAzB,EAA6BC,QAA7B,EAAuCC,SAAvC,EAAkD;AACjE,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAI3S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAIb,GAAGf,IAAH,CAAQmrB,MAAR,KAAmB,KAAvB,EAA8B;AAC5B,QAAIhpB,aAAJ,EAAmB;AACjBhU,aAAO,eAAP;AACD;AACD,WAAOA,GAAP;AACD;AACD,MAAImY,UAAUvF,GAAGf,IAAH,CAAQvQ,KAAR,IAAiBqS,OAAjB,IAA4BA,QAAQrS,KAAlD;AAAA,MACE8W,YADF;AAEA,MAAID,OAAJ,EAAa;AACXnY,WAAO,gBAAiBuT,IAAjB,GAAyB,KAAzB,GAAkCX,GAAG9N,IAAH,CAAQ1H,OAAR,CAAgBuW,QAAQrS,KAAxB,EAA+BmS,QAA/B,EAAyCb,GAAGkC,WAA5C,CAAlC,GAA8F,IAArG;AACAsD,mBAAe,WAAW7E,IAA1B;AACD,GAHD,MAGO;AACL6E,mBAAezE,OAAf;AACD;AACD,MAAIgpC,kBAAkB/pC,GAAGf,IAAH,CAAQ+qC,cAA9B;AAAA,MACEC,gBAAgB99C,MAAMC,OAAN,CAAc29C,eAAd,CADlB;AAEA,MAAIxkC,OAAJ,EAAa;AACX,QAAI2kC,UAAU,WAAWvpC,IAAzB;AAAA,QACEwpC,YAAY,aAAaxpC,IAD3B;AAAA,QAEEypC,cAAc,eAAezpC,IAF/B;AAGAvT,WAAO,UAAW88C,OAAX,GAAsB,aAAtB,GAAuC1kC,YAAvC,GAAuD,SAAvD,GAAoE2kC,SAApE,GAAiF,YAAjF,GAAiGD,OAAjG,GAA4G,sBAA5G,GAAsIA,OAAtI,GAAiJ,yBAAjJ,GAA8KA,OAA9K,GAAyL,iBAAzL,GAA8ME,WAA9M,GAA6N,KAA7N,GAAsOD,SAAtO,GAAmP,MAAnP,GAA6PD,OAA7P,GAAwQ,2BAAxQ,GAAuSC,SAAvS,GAAoT,MAA3T;AACA,QAAInqC,GAAGlS,KAAP,EAAc;AACZV,aAAO,eAAgBuT,IAAhB,GAAwB,KAAxB,GAAiCupC,OAAjC,GAA4C,UAAnD;AACD;AACD98C,WAAO,MAAO88C,OAAP,GAAkB,KAAlB,GAA2BA,OAA3B,GAAsC,qBAA7C;AACA,QAAI3kC,OAAJ,EAAa;AACXnY,aAAO,OAAQoY,YAAR,GAAwB,2BAAxB,GAAuDA,YAAvD,GAAuE,qBAA9E;AACD;AACDpY,WAAO,IAAP;AACA,QAAI28C,mBAAmB,QAAvB,EAAiC;AAC/B38C,aAAO,OAAQoY,YAAR,GAAwB,OAAxB,GAAmC0kC,OAAnC,GAA8C,GAArD;AACA,UAAID,aAAJ,EAAmB;AACjB78C,eAAO,2CAA4CoY,YAA5C,GAA4D,UAAnE;AACD;AACDpY,aAAO,OAAP;AACD;AACDA,WAAO,OAAQ88C,OAAR,GAAmB,MAAnB,GAA6BE,WAA7B,GAA4C,QAA5C,GAAwDlqC,SAAxD,GAAqE,iBAArE,GAA0FgqC,OAA1F,GAAqG,qBAA5G;AACA,QAAIlqC,GAAGlS,KAAP,EAAc;AACZV,aAAO,YAAauT,IAAb,GAAqB,WAArB,GAAoCupC,OAApC,GAA+C,GAA/C,GAAsDx7C,KAAtD,GAA+D,MAA/D,GAAyEw7C,OAAzE,GAAoF,GAApF,GAA2Fx7C,KAA3F,GAAoG,KAA3G;AACD,KAFD,MAEO;AACLtB,aAAO,MAAO88C,OAAP,GAAkB,GAAlB,GAAyBx7C,KAAzB,GAAkC,IAAzC;AACD;AACDtB,WAAO,QAAS88C,OAAT,GAAoB,QAApB,GAAgCx7C,KAAhC,GAAyC,SAAhD;AACD,GA3BD,MA2BO;AACL,QAAIw7C,UAAUlqC,GAAG6oB,OAAH,CAAW9nB,OAAX,CAAd;AACA,QAAI,CAACmpC,OAAL,EAAc;AACZ,UAAIH,mBAAmB,QAAvB,EAAiC;AAC/B/pC,WAAG0C,MAAH,CAAU3D,IAAV,CAAe,qBAAqBgC,OAArB,GAA+B,+BAA/B,GAAiEf,GAAGmB,aAApE,GAAoF,GAAnG;AACA,YAAIC,aAAJ,EAAmB;AACjBhU,iBAAO,eAAP;AACD;AACD,eAAOA,GAAP;AACD,OAND,MAMO,IAAI68C,iBAAiBF,gBAAgBnvC,OAAhB,CAAwBmG,OAAxB,KAAoC,CAAzD,EAA4D;AACjE,YAAIK,aAAJ,EAAmB;AACjBhU,iBAAO,eAAP;AACD;AACD,eAAOA,GAAP;AACD,OALM,MAKA;AACL,cAAM,IAAI0B,KAAJ,CAAU,qBAAqBiS,OAArB,GAA+B,+BAA/B,GAAiEf,GAAGmB,aAApE,GAAoF,GAA9F,CAAN;AACD;AACF;AACD,QAAIgpC,YAAY,QAAOD,OAAP,yCAAOA,OAAP,MAAkB,QAAlB,IAA8B,EAAEA,mBAAmBn9C,MAArB,CAA9B,IAA8Dm9C,QAAQ12C,QAAtF;AACA,QAAI42C,cAAcD,aAAaD,QAAQ15C,IAArB,IAA6B,QAA/C;AACA,QAAI25C,SAAJ,EAAe;AACb,UAAIhqC,SAAS+pC,QAAQp8C,KAAR,KAAkB,IAA/B;AACAo8C,gBAAUA,QAAQ12C,QAAlB;AACD;AACD,QAAI42C,eAAelqC,SAAnB,EAA8B;AAC5B,UAAIkB,aAAJ,EAAmB;AACjBhU,eAAO,eAAP;AACD;AACD,aAAOA,GAAP;AACD;AACD,QAAI+S,MAAJ,EAAY;AACV,UAAI,CAACH,GAAGlS,KAAR,EAAe,MAAM,IAAIgB,KAAJ,CAAU,6BAAV,CAAN;AACf,UAAIu7C,aAAa,YAAYrqC,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBqX,OAApB,CAAZ,GAA2C,WAA5D;AACA3T,aAAO,kBAAmBi9C,UAAnB,GAAiC,GAAjC,GAAwC37C,KAAxC,GAAiD,QAAxD;AACD,KAJD,MAIO;AACLtB,aAAO,SAAP;AACA,UAAIi9C,aAAa,YAAYrqC,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBqX,OAApB,CAA7B;AACA,UAAIopC,SAAJ,EAAeE,cAAc,WAAd;AACf,UAAI,OAAOH,OAAP,IAAkB,UAAtB,EAAkC;AAChC98C,eAAO,MAAOi9C,UAAP,GAAqB,GAArB,GAA4B37C,KAA5B,GAAqC,IAA5C;AACD,OAFD,MAEO;AACLtB,eAAO,MAAOi9C,UAAP,GAAqB,QAArB,GAAiC37C,KAAjC,GAA0C,IAAjD;AACD;AACDtB,aAAO,MAAP;AACD;AACF;AACD,MAAIoU,aAAaA,cAAc,EAA/B;AACAA,aAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,QAAM,EAAN,CApGiE,CAoGvD;AACV,MAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,WAAO,mBAAoB,QAApB,GAAgC,sCAAhC,GAA0E4S,GAAG0B,SAA7E,GAA0F,iBAA1F,GAA+G1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAA/G,GAAyJ,wBAAhK;AACA,QAAIqE,OAAJ,EAAa;AACXnY,aAAO,KAAMoY,YAAb;AACD,KAFD,MAEO;AACLpY,aAAO,KAAM4S,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB0W,OAAvB,CAAb;AACD;AACD3T,WAAO,MAAP;AACA,QAAI4S,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,aAAO,qCAAP;AACA,UAAImY,OAAJ,EAAa;AACXnY,eAAO,UAAWoY,YAAX,GAA2B,OAAlC;AACD,OAFD,MAEO;AACLpY,eAAO,KAAM4S,GAAG9N,IAAH,CAAQvI,YAAR,CAAqBoX,OAArB,CAAb;AACD;AACD3T,aAAO,MAAP;AACD;AACD,QAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,aAAO,cAAP;AACA,UAAImY,OAAJ,EAAa;AACXnY,eAAO,oBAAqB4T,WAA5B;AACD,OAFD,MAEO;AACL5T,eAAO,KAAM4S,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB0W,OAAvB,CAAb;AACD;AACD3T,aAAO,6CAA8C4S,GAAGiB,UAAjD,GAA+D,WAA/D,GAA8EvS,KAA9E,GAAuF,GAA9F;AACD;AACDtB,WAAO,KAAP;AACD,GA3BD,MA2BO;AACLA,WAAO,MAAP;AACD;AACD,MAAIyU,QAAQzU,GAAZ;AACAA,QAAMoU,WAAWM,GAAX,EAAN;AACA,MAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,QAAIpB,GAAGlS,KAAP,EAAc;AACZV,aAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,KAFD,MAEO;AACLzU,aAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,GAND,MAMO;AACLzU,WAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,SAAO,KAAP;AACA,MAAIgU,aAAJ,EAAmB;AACjBhU,WAAO,UAAP;AACD;AACD,SAAOA,GAAP;AACD,CAnJD,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAAS4hD,WAAT,CAAqBtqC,EAArB,EAAyBC,QAAzB,EAAmCC,SAAnC,EAA8C;AAC7D,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAI3S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAIU,SAAS,UAAUZ,IAAvB;AACA,MAAI0nC,QAAQ,WAAW1nC,IAAvB;AACA,MAAIinC,MAAM5nC,GAAG9N,IAAH,CAAQ7I,IAAR,CAAa2W,EAAb,CAAV;AACA4nC,MAAIhnC,KAAJ;AACA,MAAIinC,aAAa,UAAUD,IAAIhnC,KAA/B;AACA,MAAI2pC,WAAWvqC,GAAGjS,MAAH,CAAU,MAAV,CAAf;AAAA,MACEy8C,WAAWxqC,GAAGjS,MAAH,CAAU,MAAV,CADb;AAAA,MAEE08C,eAAeF,aAAaziD,SAAb,IAA0BkY,GAAG9N,IAAH,CAAQ/H,cAAR,CAAuBogD,QAAvB,EAAiCvqC,GAAGK,KAAH,CAASC,GAA1C,CAF3C;AAAA,MAGEoqC,eAAeF,aAAa1iD,SAAb,IAA0BkY,GAAG9N,IAAH,CAAQ/H,cAAR,CAAuBqgD,QAAvB,EAAiCxqC,GAAGK,KAAH,CAASC,GAA1C,CAH3C;AAAA,MAIE4nC,iBAAiBN,IAAIh0C,MAJvB;AAKA,MAAI62C,gBAAgBC,YAApB,EAAkC;AAChC,QAAIC,SAAJ;AACA/C,QAAInmC,YAAJ,GAAmB,KAAnB;AACAmmC,QAAI75C,MAAJ,GAAagT,OAAb;AACA6mC,QAAI3mC,UAAJ,GAAiBD,WAAjB;AACA4mC,QAAIzmC,aAAJ,GAAoBD,cAApB;AACA9T,WAAO,UAAWi7C,KAAX,GAAoB,iBAApB,GAAyC9mC,MAAzC,GAAmD,YAA1D;AACA,QAAIinC,gBAAgBxoC,GAAG+B,aAAvB;AACA/B,OAAG+B,aAAH,GAAmB6lC,IAAI7lC,aAAJ,GAAoB,IAAvC;AACA3U,WAAO,OAAQ4S,GAAGxM,QAAH,CAAYo0C,GAAZ,CAAR,GAA4B,GAAnC;AACAA,QAAIh0C,MAAJ,GAAas0C,cAAb;AACAN,QAAInmC,YAAJ,GAAmB,IAAnB;AACArU,WAAO,gBAAiBi7C,KAAjB,GAA0B,gCAA1B,GAA8DA,KAA9D,GAAuE,qBAAvE,GAAgGA,KAAhG,GAAyG,4BAAhH;AACAroC,OAAG+B,aAAH,GAAmB6lC,IAAI7lC,aAAJ,GAAoBymC,aAAvC;AACA,QAAIiC,YAAJ,EAAkB;AAChBr9C,aAAO,UAAWy6C,UAAX,GAAyB,OAAhC;AACAD,UAAI75C,MAAJ,GAAaiS,GAAGjS,MAAH,CAAU,MAAV,CAAb;AACA65C,UAAI3mC,UAAJ,GAAiBjB,GAAGiB,UAAH,GAAgB,OAAjC;AACA2mC,UAAIzmC,aAAJ,GAAoBnB,GAAGmB,aAAH,GAAmB,OAAvC;AACA/T,aAAO,OAAQ4S,GAAGxM,QAAH,CAAYo0C,GAAZ,CAAR,GAA4B,GAAnC;AACAA,UAAIh0C,MAAJ,GAAas0C,cAAb;AACA96C,aAAO,MAAOmU,MAAP,GAAiB,KAAjB,GAA0BsmC,UAA1B,GAAwC,IAA/C;AACA,UAAI4C,gBAAgBC,YAApB,EAAkC;AAChCC,oBAAY,aAAahqC,IAAzB;AACAvT,eAAO,UAAWu9C,SAAX,GAAwB,eAA/B;AACD,OAHD,MAGO;AACLA,oBAAY,UAAZ;AACD;AACDv9C,aAAO,KAAP;AACA,UAAIs9C,YAAJ,EAAkB;AAChBt9C,eAAO,UAAP;AACD;AACF,KAlBD,MAkBO;AACLA,aAAO,WAAYy6C,UAAZ,GAA0B,MAAjC;AACD;AACD,QAAI6C,YAAJ,EAAkB;AAChB9C,UAAI75C,MAAJ,GAAaiS,GAAGjS,MAAH,CAAU,MAAV,CAAb;AACA65C,UAAI3mC,UAAJ,GAAiBjB,GAAGiB,UAAH,GAAgB,OAAjC;AACA2mC,UAAIzmC,aAAJ,GAAoBnB,GAAGmB,aAAH,GAAmB,OAAvC;AACA/T,aAAO,OAAQ4S,GAAGxM,QAAH,CAAYo0C,GAAZ,CAAR,GAA4B,GAAnC;AACAA,UAAIh0C,MAAJ,GAAas0C,cAAb;AACA96C,aAAO,MAAOmU,MAAP,GAAiB,KAAjB,GAA0BsmC,UAA1B,GAAwC,IAA/C;AACA,UAAI4C,gBAAgBC,YAApB,EAAkC;AAChCC,oBAAY,aAAahqC,IAAzB;AACAvT,eAAO,UAAWu9C,SAAX,GAAwB,eAA/B;AACD,OAHD,MAGO;AACLA,oBAAY,UAAZ;AACD;AACDv9C,aAAO,KAAP;AACD;AACDA,WAAO,WAAYmU,MAAZ,GAAsB,oBAA7B,CAlDgC,CAkDmB;AACnD,QAAIvB,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,aAAO,mBAAoB,IAApB,GAA4B,sCAA5B,GAAsE4S,GAAG0B,SAAzE,GAAsF,iBAAtF,GAA2G1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAA3G,GAAqJ,+BAArJ,GAAwLypC,SAAxL,GAAqM,KAA5M;AACA,UAAI3qC,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,eAAO,sCAAuCu9C,SAAvC,GAAoD,kBAA3D;AACD;AACD,UAAI3qC,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,eAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,aAAO,KAAP;AACD,KATD,MASO;AACLA,aAAO,MAAP;AACD;AACDA,WAAO,8EAAP;AACA,QAAI,CAAC4S,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,UAAIpB,GAAGlS,KAAP,EAAc;AACZV,eAAO,uCAAP;AACD,OAFD,MAEO;AACLA,eAAO,4CAAP;AACD;AACF;AACDA,WAAO,OAAP;AACA,QAAIgU,aAAJ,EAAmB;AACjBhU,aAAO,UAAP;AACD;AACDA,UAAM4S,GAAG9N,IAAH,CAAQjI,WAAR,CAAoBmD,GAApB,CAAN;AACD,GA5ED,MA4EO;AACL,QAAIgU,aAAJ,EAAmB;AACjBhU,aAAO,eAAP;AACD;AACF;AACD,SAAOA,GAAP;AACD,CArGD,C;;;;;;;ACDa;;;;AACb3E,OAAOC,OAAP,GAAiB,SAASkiD,cAAT,CAAwB5qC,EAAxB,EAA4BC,QAA5B,EAAsCC,SAAtC,EAAiD;AAChE,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAI3S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAIU,SAAS,UAAUZ,IAAvB;AACA,MAAI0nC,QAAQ,WAAW1nC,IAAvB;AACA,MAAIinC,MAAM5nC,GAAG9N,IAAH,CAAQ7I,IAAR,CAAa2W,EAAb,CAAV;AACA,MAAIioC,iBAAiB,EAArB;AACAL,MAAIhnC,KAAJ;AACA,MAAIinC,aAAa,UAAUD,IAAIhnC,KAA/B;AACA,MAAIgoC,OAAO,MAAMjoC,IAAjB;AAAA,MACEkoC,WAAWjB,IAAI9mC,SAAJ,GAAgBd,GAAGc,SAAH,GAAe,CAD5C;AAAA,MAEEgoC,YAAY,SAASD,QAFvB;AAAA,MAGEX,iBAAiBloC,GAAGpM,MAHtB;AAIAxG,SAAO,SAAUi7C,KAAV,GAAmB,gBAAnB,GAAuC9mC,MAAvC,GAAiD,GAAxD;AACA,MAAIpV,MAAMC,OAAN,CAAc2U,OAAd,CAAJ,EAA4B;AAC1B,QAAI8pC,mBAAmB7qC,GAAGjS,MAAH,CAAUi1C,eAAjC;AACA,QAAI6H,qBAAqB,KAAzB,EAAgC;AAC9Bz9C,aAAO,MAAOmU,MAAP,GAAiB,KAAjB,GAA0B7S,KAA1B,GAAmC,aAAnC,GAAoDqS,QAAQvV,MAA5D,GAAsE,IAA7E;AACA,UAAIs/C,qBAAqB5pC,cAAzB;AACAA,uBAAiBlB,GAAGmB,aAAH,GAAmB,kBAApC;AACA/T,aAAO,YAAamU,MAAb,GAAuB,QAA9B;AACA,UAAIC,aAAaA,cAAc,EAA/B;AACAA,iBAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,YAAM,EAAN,CAP8B,CAOpB;AACV,UAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,eAAO,mBAAoB,iBAApB,GAAyC,sCAAzC,GAAmF4S,GAAG0B,SAAtF,GAAmG,iBAAnG,GAAwH1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAAxH,GAAkK,sBAAlK,GAA4LH,QAAQvV,MAApM,GAA8M,KAArN;AACA,YAAIwU,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,iBAAO,6CAA8C2T,QAAQvV,MAAtD,GAAgE,WAAvE;AACD;AACD,YAAIwU,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,iBAAO,qDAAsD4S,GAAGiB,UAAzD,GAAuE,WAAvE,GAAsFvS,KAAtF,GAA+F,GAAtG;AACD;AACDtB,eAAO,KAAP;AACD,OATD,MASO;AACLA,eAAO,MAAP;AACD;AACD,UAAIyU,QAAQzU,GAAZ;AACAA,YAAMoU,WAAWM,GAAX,EAAN;AACA,UAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,YAAIpB,GAAGlS,KAAP,EAAc;AACZV,iBAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,SAFD,MAEO;AACLzU,iBAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,OAND,MAMO;AACLzU,eAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,aAAO,KAAP;AACA8T,uBAAiB4pC,kBAAjB;AACA,UAAI1pC,aAAJ,EAAmB;AACjB6mC,0BAAkB,GAAlB;AACA76C,eAAO,UAAP;AACD;AACF;AACD,QAAIgW,OAAOrC,OAAX;AACA,QAAIqC,IAAJ,EAAU;AACR,UAAIiB,IAAJ;AAAA,UAAUf,KAAK,CAAC,CAAhB;AAAA,UACEC,KAAKH,KAAK5X,MAAL,GAAc,CADrB;AAEA,aAAO8X,KAAKC,EAAZ,EAAgB;AACdc,eAAOjB,KAAKE,MAAM,CAAX,CAAP;AACA,YAAItD,GAAG9N,IAAH,CAAQ/H,cAAR,CAAuBka,IAAvB,EAA6BrE,GAAGK,KAAH,CAASC,GAAtC,CAAJ,EAAgD;AAC9ClT,iBAAO,MAAOy6C,UAAP,GAAqB,eAArB,GAAwCn5C,KAAxC,GAAiD,YAAjD,GAAiE4U,EAAjE,GAAuE,MAA9E;AACA,cAAIiB,YAAY7V,QAAQ,GAAR,GAAc4U,EAAd,GAAmB,GAAnC;AACAskC,cAAI75C,MAAJ,GAAasW,IAAb;AACAujC,cAAI3mC,UAAJ,GAAiBD,cAAc,GAAd,GAAoBsC,EAApB,GAAyB,GAA1C;AACAskC,cAAIzmC,aAAJ,GAAoBD,iBAAiB,GAAjB,GAAuBoC,EAA3C;AACAskC,cAAIlmC,SAAJ,GAAgB1B,GAAG9N,IAAH,CAAQ5H,WAAR,CAAoB0V,GAAG0B,SAAvB,EAAkC4B,EAAlC,EAAsCtD,GAAGf,IAAH,CAAQ9Q,YAA9C,EAA4D,IAA5D,CAAhB;AACAy5C,cAAI1lC,WAAJ,CAAgB2mC,QAAhB,IAA4BvlC,EAA5B;AACA,cAAI2B,QAAQjF,GAAGxM,QAAH,CAAYo0C,GAAZ,CAAZ;AACAA,cAAIh0C,MAAJ,GAAas0C,cAAb;AACA,cAAIloC,GAAG9N,IAAH,CAAQnI,aAAR,CAAsBkb,KAAtB,EAA6B6jC,SAA7B,IAA0C,CAA9C,EAAiD;AAC/C17C,mBAAO,MAAO4S,GAAG9N,IAAH,CAAQlI,UAAR,CAAmBib,KAAnB,EAA0B6jC,SAA1B,EAAqCvkC,SAArC,CAAP,GAA0D,GAAjE;AACD,WAFD,MAEO;AACLnX,mBAAO,UAAW07C,SAAX,GAAwB,KAAxB,GAAiCvkC,SAAjC,GAA8C,IAA9C,GAAsDU,KAAtD,GAA+D,GAAtE;AACD;AACD7X,iBAAO,MAAP;AACA,cAAIgU,aAAJ,EAAmB;AACjBhU,mBAAO,UAAWy6C,UAAX,GAAyB,MAAhC;AACAI,8BAAkB,GAAlB;AACD;AACF;AACF;AACF;AACD,QAAI,QAAO4C,gBAAP,yCAAOA,gBAAP,MAA2B,QAA3B,IAAuC7qC,GAAG9N,IAAH,CAAQ/H,cAAR,CAAuB0gD,gBAAvB,EAAyC7qC,GAAGK,KAAH,CAASC,GAAlD,CAA3C,EAAmG;AACjGsnC,UAAI75C,MAAJ,GAAa88C,gBAAb;AACAjD,UAAI3mC,UAAJ,GAAiBjB,GAAGiB,UAAH,GAAgB,kBAAjC;AACA2mC,UAAIzmC,aAAJ,GAAoBnB,GAAGmB,aAAH,GAAmB,kBAAvC;AACA/T,aAAO,MAAOy6C,UAAP,GAAqB,eAArB,GAAwCn5C,KAAxC,GAAiD,YAAjD,GAAiEqS,QAAQvV,MAAzE,GAAmF,gBAAnF,GAAuGo9C,IAAvG,GAA+G,KAA/G,GAAwH7nC,QAAQvV,MAAhI,GAA0I,IAA1I,GAAkJo9C,IAAlJ,GAA0J,KAA1J,GAAmKl6C,KAAnK,GAA4K,WAA5K,GAA2Lk6C,IAA3L,GAAmM,QAA1M;AACAhB,UAAIlmC,SAAJ,GAAgB1B,GAAG9N,IAAH,CAAQ5H,WAAR,CAAoB0V,GAAG0B,SAAvB,EAAkCknC,IAAlC,EAAwC5oC,GAAGf,IAAH,CAAQ9Q,YAAhD,EAA8D,IAA9D,CAAhB;AACA,UAAIoW,YAAY7V,QAAQ,GAAR,GAAck6C,IAAd,GAAqB,GAArC;AACAhB,UAAI1lC,WAAJ,CAAgB2mC,QAAhB,IAA4BD,IAA5B;AACA,UAAI3jC,QAAQjF,GAAGxM,QAAH,CAAYo0C,GAAZ,CAAZ;AACAA,UAAIh0C,MAAJ,GAAas0C,cAAb;AACA,UAAIloC,GAAG9N,IAAH,CAAQnI,aAAR,CAAsBkb,KAAtB,EAA6B6jC,SAA7B,IAA0C,CAA9C,EAAiD;AAC/C17C,eAAO,MAAO4S,GAAG9N,IAAH,CAAQlI,UAAR,CAAmBib,KAAnB,EAA0B6jC,SAA1B,EAAqCvkC,SAArC,CAAP,GAA0D,GAAjE;AACD,OAFD,MAEO;AACLnX,eAAO,UAAW07C,SAAX,GAAwB,KAAxB,GAAiCvkC,SAAjC,GAA8C,IAA9C,GAAsDU,KAAtD,GAA+D,GAAtE;AACD;AACD,UAAI7D,aAAJ,EAAmB;AACjBhU,eAAO,WAAYy6C,UAAZ,GAA0B,WAAjC;AACD;AACDz6C,aAAO,QAAP;AACA,UAAIgU,aAAJ,EAAmB;AACjBhU,eAAO,UAAWy6C,UAAX,GAAyB,MAAhC;AACAI,0BAAkB,GAAlB;AACD;AACF;AACF,GA7FD,MA6FO,IAAIjoC,GAAG9N,IAAH,CAAQ/H,cAAR,CAAuB4W,OAAvB,EAAgCf,GAAGK,KAAH,CAASC,GAAzC,CAAJ,EAAmD;AACxDsnC,QAAI75C,MAAJ,GAAagT,OAAb;AACA6mC,QAAI3mC,UAAJ,GAAiBD,WAAjB;AACA4mC,QAAIzmC,aAAJ,GAAoBD,cAApB;AACA9T,WAAO,gBAAiBw7C,IAAjB,GAAyB,KAAzB,GAAkC,CAAlC,GAAuC,IAAvC,GAA+CA,IAA/C,GAAuD,KAAvD,GAAgEl6C,KAAhE,GAAyE,WAAzE,GAAwFk6C,IAAxF,GAAgG,QAAvG;AACAhB,QAAIlmC,SAAJ,GAAgB1B,GAAG9N,IAAH,CAAQ5H,WAAR,CAAoB0V,GAAG0B,SAAvB,EAAkCknC,IAAlC,EAAwC5oC,GAAGf,IAAH,CAAQ9Q,YAAhD,EAA8D,IAA9D,CAAhB;AACA,QAAIoW,YAAY7V,QAAQ,GAAR,GAAck6C,IAAd,GAAqB,GAArC;AACAhB,QAAI1lC,WAAJ,CAAgB2mC,QAAhB,IAA4BD,IAA5B;AACA,QAAI3jC,QAAQjF,GAAGxM,QAAH,CAAYo0C,GAAZ,CAAZ;AACAA,QAAIh0C,MAAJ,GAAas0C,cAAb;AACA,QAAIloC,GAAG9N,IAAH,CAAQnI,aAAR,CAAsBkb,KAAtB,EAA6B6jC,SAA7B,IAA0C,CAA9C,EAAiD;AAC/C17C,aAAO,MAAO4S,GAAG9N,IAAH,CAAQlI,UAAR,CAAmBib,KAAnB,EAA0B6jC,SAA1B,EAAqCvkC,SAArC,CAAP,GAA0D,GAAjE;AACD,KAFD,MAEO;AACLnX,aAAO,UAAW07C,SAAX,GAAwB,KAAxB,GAAiCvkC,SAAjC,GAA8C,IAA9C,GAAsDU,KAAtD,GAA+D,GAAtE;AACD;AACD,QAAI7D,aAAJ,EAAmB;AACjBhU,aAAO,WAAYy6C,UAAZ,GAA0B,WAAjC;AACD;AACDz6C,WAAO,IAAP;AACD;AACD,MAAIgU,aAAJ,EAAmB;AACjBhU,WAAO,MAAO66C,cAAP,GAAyB,OAAzB,GAAoCI,KAApC,GAA6C,eAApD;AACD;AACDj7C,QAAM4S,GAAG9N,IAAH,CAAQjI,WAAR,CAAoBmD,GAApB,CAAN;AACA,SAAOA,GAAP;AACD,CA1ID,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAASqiD,mBAAT,CAA6B/qC,EAA7B,EAAiCC,QAAjC,EAA2CC,SAA3C,EAAsD;AACrE,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAI3S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAI0E,UAAUvF,GAAGf,IAAH,CAAQvQ,KAAR,IAAiBqS,OAAjB,IAA4BA,QAAQrS,KAAlD;AAAA,MACE8W,YADF;AAEA,MAAID,OAAJ,EAAa;AACXnY,WAAO,gBAAiBuT,IAAjB,GAAyB,KAAzB,GAAkCX,GAAG9N,IAAH,CAAQ1H,OAAR,CAAgBuW,QAAQrS,KAAxB,EAA+BmS,QAA/B,EAAyCb,GAAGkC,WAA5C,CAAlC,GAA8F,IAArG;AACAsD,mBAAe,WAAW7E,IAA1B;AACD,GAHD,MAGO;AACL6E,mBAAezE,OAAf;AACD;AACD3T,SAAO,iBAAkBuT,IAAlB,GAA0B,OAAjC;AACA,MAAI4E,OAAJ,EAAa;AACXnY,WAAO,MAAOoY,YAAP,GAAuB,6BAAvB,GAAwDA,YAAxD,GAAwE,oBAA/E;AACD;AACDpY,SAAO,eAAgBuT,IAAhB,GAAwB,KAAxB,GAAiCjS,KAAjC,GAA0C,KAA1C,GAAmD8W,YAAnD,GAAmE,IAA1E;AACA,MAAIxF,GAAGf,IAAH,CAAQ+rC,mBAAZ,EAAiC;AAC/B59C,WAAO,kCAAmCuT,IAAnC,GAA2C,cAA3C,GAA6DA,IAA7D,GAAqE,SAArE,GAAkFX,GAAGf,IAAH,CAAQ+rC,mBAA1F,GAAiH,GAAxH;AACD,GAFD,MAEO;AACL59C,WAAO,cAAeuT,IAAf,GAAuB,wBAAvB,GAAmDA,IAAnD,GAA2D,IAAlE;AACD;AACDvT,SAAO,KAAP;AACA,MAAImY,OAAJ,EAAa;AACXnY,WAAO,OAAP;AACD;AACDA,SAAO,SAAP;AACA,MAAIoU,aAAaA,cAAc,EAA/B;AACAA,aAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,QAAM,EAAN,CAlCqE,CAkC3D;AACV,MAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,WAAO,mBAAoB,YAApB,GAAoC,sCAApC,GAA8E4S,GAAG0B,SAAjF,GAA8F,iBAA9F,GAAmH1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAAnH,GAA6J,2BAA7J,GAA4LsE,YAA5L,GAA4M,KAAnN;AACA,QAAIxF,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,aAAO,sCAAP;AACA,UAAImY,OAAJ,EAAa;AACXnY,eAAO,UAAWoY,YAAlB;AACD,OAFD,MAEO;AACLpY,eAAO,KAAMoY,YAAN,GAAsB,IAA7B;AACD;AACF;AACD,QAAIxF,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,aAAO,cAAP;AACA,UAAImY,OAAJ,EAAa;AACXnY,eAAO,oBAAqB4T,WAA5B;AACD,OAFD,MAEO;AACL5T,eAAO,KAAM2T,OAAb;AACD;AACD3T,aAAO,6CAA8C4S,GAAGiB,UAAjD,GAA+D,WAA/D,GAA8EvS,KAA9E,GAAuF,GAA9F;AACD;AACDtB,WAAO,KAAP;AACD,GApBD,MAoBO;AACLA,WAAO,MAAP;AACD;AACD,MAAIyU,QAAQzU,GAAZ;AACAA,QAAMoU,WAAWM,GAAX,EAAN;AACA,MAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,QAAIpB,GAAGlS,KAAP,EAAc;AACZV,aAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,KAFD,MAEO;AACLzU,aAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,GAND,MAMO;AACLzU,WAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,SAAO,IAAP;AACA,MAAIgU,aAAJ,EAAmB;AACjBhU,WAAO,UAAP;AACD;AACD,SAAOA,GAAP;AACD,CA1ED,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAASuiD,YAAT,CAAsBjrC,EAAtB,EAA0BC,QAA1B,EAAoCC,SAApC,EAA+C;AAC9D,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAI3S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAIwnC,QAAQ,WAAW1nC,IAAvB;AACA,MAAIinC,MAAM5nC,GAAG9N,IAAH,CAAQ7I,IAAR,CAAa2W,EAAb,CAAV;AACA4nC,MAAIhnC,KAAJ;AACA,MAAIinC,aAAa,UAAUD,IAAIhnC,KAA/B;AACA,MAAIZ,GAAG9N,IAAH,CAAQ/H,cAAR,CAAuB4W,OAAvB,EAAgCf,GAAGK,KAAH,CAASC,GAAzC,CAAJ,EAAmD;AACjDsnC,QAAI75C,MAAJ,GAAagT,OAAb;AACA6mC,QAAI3mC,UAAJ,GAAiBD,WAAjB;AACA4mC,QAAIzmC,aAAJ,GAAoBD,cAApB;AACA9T,WAAO,UAAWi7C,KAAX,GAAoB,cAA3B;AACA,QAAIG,gBAAgBxoC,GAAG+B,aAAvB;AACA/B,OAAG+B,aAAH,GAAmB6lC,IAAI7lC,aAAJ,GAAoB,IAAvC;AACA6lC,QAAInmC,YAAJ,GAAmB,KAAnB;AACA,QAAIypC,gBAAJ;AACA,QAAItD,IAAI3oC,IAAJ,CAASoC,SAAb,EAAwB;AACtB6pC,yBAAmBtD,IAAI3oC,IAAJ,CAASoC,SAA5B;AACAumC,UAAI3oC,IAAJ,CAASoC,SAAT,GAAqB,KAArB;AACD;AACDjU,WAAO,MAAO4S,GAAGxM,QAAH,CAAYo0C,GAAZ,CAAP,GAA2B,GAAlC;AACAA,QAAInmC,YAAJ,GAAmB,IAAnB;AACA,QAAIypC,gBAAJ,EAAsBtD,IAAI3oC,IAAJ,CAASoC,SAAT,GAAqB6pC,gBAArB;AACtBlrC,OAAG+B,aAAH,GAAmB6lC,IAAI7lC,aAAJ,GAAoBymC,aAAvC;AACAp7C,WAAO,UAAWy6C,UAAX,GAAyB,QAAhC;AACA,QAAIrmC,aAAaA,cAAc,EAA/B;AACAA,eAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,UAAM,EAAN,CApBiD,CAoBvC;AACV,QAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,aAAO,mBAAoB,KAApB,GAA6B,sCAA7B,GAAuE4S,GAAG0B,SAA1E,GAAuF,iBAAvF,GAA4G1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAA5G,GAAsJ,gBAA7J;AACA,UAAIlB,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,eAAO,sCAAP;AACD;AACD,UAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,eAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,aAAO,KAAP;AACD,KATD,MASO;AACLA,aAAO,MAAP;AACD;AACD,QAAIyU,QAAQzU,GAAZ;AACAA,UAAMoU,WAAWM,GAAX,EAAN;AACA,QAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,UAAIpB,GAAGlS,KAAP,EAAc;AACZV,eAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,OAFD,MAEO;AACLzU,eAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,KAND,MAMO;AACLzU,aAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,WAAO,yBAA0Bi7C,KAA1B,GAAmC,gCAAnC,GAAuEA,KAAvE,GAAgF,qBAAhF,GAAyGA,KAAzG,GAAkH,2BAAzH;AACA,QAAIroC,GAAGf,IAAH,CAAQoC,SAAZ,EAAuB;AACrBjU,aAAO,KAAP;AACD;AACF,GAhDD,MAgDO;AACLA,WAAO,gBAAP,CADK,CACoB;AACzB,QAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,aAAO,mBAAoB,KAApB,GAA6B,sCAA7B,GAAuE4S,GAAG0B,SAA1E,GAAuF,iBAAvF,GAA4G1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAA5G,GAAsJ,gBAA7J;AACA,UAAIlB,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,eAAO,sCAAP;AACD;AACD,UAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,eAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,aAAO,KAAP;AACD,KATD,MASO;AACLA,aAAO,MAAP;AACD;AACDA,WAAO,8EAAP;AACA,QAAIgU,aAAJ,EAAmB;AACjBhU,aAAO,gBAAP;AACD;AACF;AACD,SAAOA,GAAP;AACD,CAjFD,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAASyiD,cAAT,CAAwBnrC,EAAxB,EAA4BC,QAA5B,EAAsCC,SAAtC,EAAiD;AAChE,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAI3S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAIU,SAAS,UAAUZ,IAAvB;AACA,MAAI0nC,QAAQ,WAAW1nC,IAAvB;AACA,MAAIinC,MAAM5nC,GAAG9N,IAAH,CAAQ7I,IAAR,CAAa2W,EAAb,CAAV;AACA,MAAIioC,iBAAiB,EAArB;AACAL,MAAIhnC,KAAJ;AACA,MAAIinC,aAAa,UAAUD,IAAIhnC,KAA/B;AACA,MAAIsnC,iBAAiBN,IAAIh0C,MAAzB;AAAA,MACEw3C,aAAa,cAAczqC,IAD7B;AAAA,MAEE0qC,kBAAkB,mBAAmB1qC,IAFvC;AAGAvT,SAAO,SAAUi7C,KAAV,GAAmB,cAAnB,GAAqC+C,UAArC,GAAmD,aAAnD,GAAoE7pC,MAApE,GAA8E,aAA9E,GAA+F8pC,eAA/F,GAAkH,WAAzH;AACA,MAAI7C,gBAAgBxoC,GAAG+B,aAAvB;AACA/B,KAAG+B,aAAH,GAAmB6lC,IAAI7lC,aAAJ,GAAoB,IAAvC;AACA,MAAIqB,OAAOrC,OAAX;AACA,MAAIqC,IAAJ,EAAU;AACR,QAAIiB,IAAJ;AAAA,QAAUf,KAAK,CAAC,CAAhB;AAAA,QACEC,KAAKH,KAAK5X,MAAL,GAAc,CADrB;AAEA,WAAO8X,KAAKC,EAAZ,EAAgB;AACdc,aAAOjB,KAAKE,MAAM,CAAX,CAAP;AACA,UAAItD,GAAG9N,IAAH,CAAQ/H,cAAR,CAAuBka,IAAvB,EAA6BrE,GAAGK,KAAH,CAASC,GAAtC,CAAJ,EAAgD;AAC9CsnC,YAAI75C,MAAJ,GAAasW,IAAb;AACAujC,YAAI3mC,UAAJ,GAAiBD,cAAc,GAAd,GAAoBsC,EAApB,GAAyB,GAA1C;AACAskC,YAAIzmC,aAAJ,GAAoBD,iBAAiB,GAAjB,GAAuBoC,EAA3C;AACAlW,eAAO,OAAQ4S,GAAGxM,QAAH,CAAYo0C,GAAZ,CAAR,GAA4B,GAAnC;AACAA,YAAIh0C,MAAJ,GAAas0C,cAAb;AACD,OAND,MAMO;AACL96C,eAAO,UAAWy6C,UAAX,GAAyB,WAAhC;AACD;AACD,UAAIvkC,EAAJ,EAAQ;AACNlW,eAAO,UAAWy6C,UAAX,GAAyB,MAAzB,GAAmCuD,UAAnC,GAAiD,MAAjD,GAA2D7pC,MAA3D,GAAqE,YAArE,GAAqF8pC,eAArF,GAAwG,MAAxG,GAAkHA,eAAlH,GAAqI,IAArI,GAA6I/nC,EAA7I,GAAmJ,cAA1J;AACA2kC,0BAAkB,GAAlB;AACD;AACD76C,aAAO,UAAWy6C,UAAX,GAAyB,MAAzB,GAAmCtmC,MAAnC,GAA6C,KAA7C,GAAsD6pC,UAAtD,GAAoE,WAApE,GAAmFC,eAAnF,GAAsG,KAAtG,GAA+G/nC,EAA/G,GAAqH,KAA5H;AACD;AACF;AACDtD,KAAG+B,aAAH,GAAmB6lC,IAAI7lC,aAAJ,GAAoBymC,aAAvC;AACAp7C,SAAO,KAAM66C,cAAN,GAAwB,OAAxB,GAAmC1mC,MAAnC,GAA6C,oBAApD,CA5CgE,CA4CU;AAC1E,MAAIvB,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,WAAO,mBAAoB,OAApB,GAA+B,sCAA/B,GAAyE4S,GAAG0B,SAA5E,GAAyF,iBAAzF,GAA8G1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAA9G,GAAwJ,+BAAxJ,GAA2LmqC,eAA3L,GAA8M,KAArN;AACA,QAAIrrC,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,aAAO,2DAAP;AACD;AACD,QAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,aAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,WAAO,KAAP;AACD,GATD,MASO;AACLA,WAAO,MAAP;AACD;AACDA,SAAO,8EAAP;AACA,MAAI,CAAC4S,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,QAAIpB,GAAGlS,KAAP,EAAc;AACZV,aAAO,uCAAP;AACD,KAFD,MAEO;AACLA,aAAO,4CAAP;AACD;AACF;AACDA,SAAO,wBAAyBi7C,KAAzB,GAAkC,gCAAlC,GAAsEA,KAAtE,GAA+E,qBAA/E,GAAwGA,KAAxG,GAAiH,0BAAxH;AACA,MAAIroC,GAAGf,IAAH,CAAQoC,SAAZ,EAAuB;AACrBjU,WAAO,KAAP;AACD;AACD,SAAOA,GAAP;AACD,CAtED,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAAS4iD,gBAAT,CAA0BtrC,EAA1B,EAA8BC,QAA9B,EAAwCC,SAAxC,EAAmD;AAClE,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAI3S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAI0E,UAAUvF,GAAGf,IAAH,CAAQvQ,KAAR,IAAiBqS,OAAjB,IAA4BA,QAAQrS,KAAlD;AAAA,MACE8W,YADF;AAEA,MAAID,OAAJ,EAAa;AACXnY,WAAO,gBAAiBuT,IAAjB,GAAyB,KAAzB,GAAkCX,GAAG9N,IAAH,CAAQ1H,OAAR,CAAgBuW,QAAQrS,KAAxB,EAA+BmS,QAA/B,EAAyCb,GAAGkC,WAA5C,CAAlC,GAA8F,IAArG;AACAsD,mBAAe,WAAW7E,IAA1B;AACD,GAHD,MAGO;AACL6E,mBAAezE,OAAf;AACD;AACD,MAAIwqC,UAAUhmC,UAAU,iBAAiBC,YAAjB,GAAgC,IAA1C,GAAiDxF,GAAGyuB,UAAH,CAAc1tB,OAAd,CAA/D;AACA3T,SAAO,OAAP;AACA,MAAImY,OAAJ,EAAa;AACXnY,WAAO,OAAQoY,YAAR,GAAwB,2BAAxB,GAAuDA,YAAvD,GAAuE,qBAA9E;AACD;AACDpY,SAAO,OAAQm+C,OAAR,GAAmB,QAAnB,GAA+B78C,KAA/B,GAAwC,UAA/C;AACA,MAAI8S,aAAaA,cAAc,EAA/B;AACAA,aAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,QAAM,EAAN,CAzBkE,CAyBxD;AACV,MAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,WAAO,mBAAoB,SAApB,GAAiC,sCAAjC,GAA2E4S,GAAG0B,SAA9E,GAA2F,iBAA3F,GAAgH1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAAhH,GAA0J,yBAAjK;AACA,QAAIqE,OAAJ,EAAa;AACXnY,aAAO,KAAMoY,YAAb;AACD,KAFD,MAEO;AACLpY,aAAO,KAAM4S,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB0W,OAAvB,CAAb;AACD;AACD3T,WAAO,MAAP;AACA,QAAI4S,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,aAAO,sCAAP;AACA,UAAImY,OAAJ,EAAa;AACXnY,eAAO,UAAWoY,YAAX,GAA2B,OAAlC;AACD,OAFD,MAEO;AACLpY,eAAO,KAAM4S,GAAG9N,IAAH,CAAQvI,YAAR,CAAqBoX,OAArB,CAAb;AACD;AACD3T,aAAO,MAAP;AACD;AACD,QAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,aAAO,cAAP;AACA,UAAImY,OAAJ,EAAa;AACXnY,eAAO,oBAAqB4T,WAA5B;AACD,OAFD,MAEO;AACL5T,eAAO,KAAM4S,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB0W,OAAvB,CAAb;AACD;AACD3T,aAAO,6CAA8C4S,GAAGiB,UAAjD,GAA+D,WAA/D,GAA8EvS,KAA9E,GAAuF,GAA9F;AACD;AACDtB,WAAO,KAAP;AACD,GA3BD,MA2BO;AACLA,WAAO,MAAP;AACD;AACD,MAAIyU,QAAQzU,GAAZ;AACAA,QAAMoU,WAAWM,GAAX,EAAN;AACA,MAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,QAAIpB,GAAGlS,KAAP,EAAc;AACZV,aAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,KAFD,MAEO;AACLzU,aAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,GAND,MAMO;AACLzU,WAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,SAAO,IAAP;AACA,MAAIgU,aAAJ,EAAmB;AACjBhU,WAAO,UAAP;AACD;AACD,SAAOA,GAAP;AACD,CAxED,C;;;;;;;ACDa;;;;AACb3E,OAAOC,OAAP,GAAiB,SAAS8iD,mBAAT,CAA6BxrC,EAA7B,EAAiCC,QAAjC,EAA2CC,SAA3C,EAAsD;AACrE,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAI3S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAIwnC,QAAQ,WAAW1nC,IAAvB;AACA,MAAIinC,MAAM5nC,GAAG9N,IAAH,CAAQ7I,IAAR,CAAa2W,EAAb,CAAV;AACA,MAAIioC,iBAAiB,EAArB;AACAL,MAAIhnC,KAAJ;AACA,MAAIinC,aAAa,UAAUD,IAAIhnC,KAA/B;AACA,MAAI6qC,OAAO,QAAQ9qC,IAAnB;AAAA,MACEioC,OAAO,QAAQjoC,IADjB;AAAA,MAEEkoC,WAAWjB,IAAI9mC,SAAJ,GAAgBd,GAAGc,SAAH,GAAe,CAF5C;AAAA,MAGEgoC,YAAY,SAASD,QAHvB;AAAA,MAIE6C,kBAAkB,mBAAmB/qC,IAJvC;AAKA,MAAIqD,cAAcjb,OAAOmL,IAAP,CAAY6M,WAAW,EAAvB,CAAlB;AAAA,MACE4qC,eAAe3rC,GAAGjS,MAAH,CAAU41C,iBAAV,IAA+B,EADhD;AAAA,MAEEiI,iBAAiB7iD,OAAOmL,IAAP,CAAYy3C,YAAZ,CAFnB;AAAA,MAGEE,eAAe7rC,GAAGjS,MAAH,CAAUm1C,oBAH3B;AAAA,MAIE4I,kBAAkB9nC,YAAYxY,MAAZ,IAAsBogD,eAAepgD,MAJzD;AAAA,MAKEugD,gBAAgBF,iBAAiB,KALnC;AAAA,MAMEG,sBAAsB,QAAOH,YAAP,yCAAOA,YAAP,MAAuB,QAAvB,IAAmC9iD,OAAOmL,IAAP,CAAY23C,YAAZ,EAA0BrgD,MANrF;AAAA,MAOEygD,oBAAoBjsC,GAAGf,IAAH,CAAQitC,gBAP9B;AAAA,MAQEC,mBAAmBJ,iBAAiBC,mBAAjB,IAAwCC,iBAR7D;AAAA,MASE9C,iBAAiBnpC,GAAGf,IAAH,CAAQmqC,aAT3B;AAAA,MAUElB,iBAAiBloC,GAAGpM,MAVtB;AAWA,MAAIw4C,YAAYpsC,GAAGjS,MAAH,CAAUg2C,QAA1B;AACA,MAAIqI,aAAa,EAAEpsC,GAAGf,IAAH,CAAQvQ,KAAR,IAAiB09C,UAAU19C,KAA7B,CAAb,IAAoD09C,UAAU5gD,MAAV,GAAmBwU,GAAGf,IAAH,CAAQyrB,YAAnF,EAAiG,IAAI2hB,gBAAgBrsC,GAAG9N,IAAH,CAAQzI,MAAR,CAAe2iD,SAAf,CAApB;AACjGh/C,SAAO,SAAUi7C,KAAV,GAAmB,gBAAnB,GAAuCR,UAAvC,GAAqD,UAA5D;AACA,MAAIsB,cAAJ,EAAoB;AAClB/7C,WAAO,UAAWs+C,eAAX,GAA8B,eAArC;AACD;AACD,MAAIS,gBAAJ,EAAsB;AACpB,QAAIhD,cAAJ,EAAoB;AAClB/7C,aAAO,MAAOs+C,eAAP,GAA0B,KAA1B,GAAmCA,eAAnC,GAAsD,kBAAtD,GAA4Eh9C,KAA5E,GAAqF,cAArF,GAAuGk6C,IAAvG,GAA+G,MAA/G,GAAyHA,IAAzH,GAAiI,GAAjI,GAAwI8C,eAAxI,GAA2J,WAA3J,GAA0K9C,IAA1K,GAAkL,YAAlL,GAAkM6C,IAAlM,GAA0M,KAA1M,GAAmNC,eAAnN,GAAsO,GAAtO,GAA6O9C,IAA7O,GAAqP,KAA5P;AACD,KAFD,MAEO;AACLx7C,aAAO,eAAgBq+C,IAAhB,GAAwB,MAAxB,GAAkC/8C,KAAlC,GAA2C,MAAlD;AACD;AACD,QAAIo9C,eAAJ,EAAqB;AACnB1+C,aAAO,sBAAuBuT,IAAvB,GAA+B,aAAtC;AACA,UAAIqD,YAAYxY,MAAhB,EAAwB;AACtB,YAAIwY,YAAYxY,MAAZ,GAAqB,CAAzB,EAA4B;AAC1B4B,iBAAO,wBAAyB4T,WAAzB,GAAwC,kBAAxC,GAA8DyqC,IAA9D,GAAsE,IAA7E;AACD,SAFD,MAEO;AACL,cAAIroC,OAAOY,WAAX;AACA,cAAIZ,IAAJ,EAAU;AACR,gBAAIc,YAAJ;AAAA,gBAAkBooC,KAAK,CAAC,CAAxB;AAAA,gBACE/oC,KAAKH,KAAK5X,MAAL,GAAc,CADrB;AAEA,mBAAO8gD,KAAK/oC,EAAZ,EAAgB;AACdW,6BAAed,KAAKkpC,MAAM,CAAX,CAAf;AACAl/C,qBAAO,SAAUq+C,IAAV,GAAkB,MAAlB,GAA4BzrC,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6Z,YAAvB,CAA5B,GAAoE,GAA3E;AACD;AACF;AACF;AACF;AACD,UAAI0nC,eAAepgD,MAAnB,EAA2B;AACzB,YAAImY,OAAOioC,cAAX;AACA,YAAIjoC,IAAJ,EAAU;AACR,cAAI4oC,UAAJ;AAAA,cAAgBjpC,KAAK,CAAC,CAAtB;AAAA,cACEO,KAAKF,KAAKnY,MAAL,GAAc,CADrB;AAEA,iBAAO8X,KAAKO,EAAZ,EAAgB;AACd0oC,yBAAa5oC,KAAKL,MAAM,CAAX,CAAb;AACAlW,mBAAO,SAAU4S,GAAGyuB,UAAH,CAAc8d,UAAd,CAAV,GAAuC,QAAvC,GAAmDd,IAAnD,GAA2D,IAAlE;AACD;AACF;AACF;AACDr+C,aAAO,yBAA0BuT,IAA1B,GAAkC,MAAzC;AACD;AACD,QAAIsrC,qBAAqB,KAAzB,EAAgC;AAC9B7+C,aAAO,aAAcsB,KAAd,GAAuB,GAAvB,GAA8B+8C,IAA9B,GAAsC,KAA7C;AACD,KAFD,MAEO;AACL,UAAIlC,oBAAoBvpC,GAAG0B,SAA3B;AACA,UAAI8qC,sBAAsB,UAAUf,IAAV,GAAiB,OAA3C;AACA,UAAIzrC,GAAGf,IAAH,CAAQ2rB,sBAAZ,EAAoC;AAClC5qB,WAAG0B,SAAH,GAAe1B,GAAG9N,IAAH,CAAQ5H,WAAR,CAAoB0V,GAAG0B,SAAvB,EAAkC+pC,IAAlC,EAAwCzrC,GAAGf,IAAH,CAAQ9Q,YAAhD,CAAf;AACD;AACD,UAAI49C,aAAJ,EAAmB;AACjB,YAAIE,iBAAJ,EAAuB;AACrB7+C,iBAAO,aAAcsB,KAAd,GAAuB,GAAvB,GAA8B+8C,IAA9B,GAAsC,KAA7C;AACD,SAFD,MAEO;AACLr+C,iBAAO,MAAOy6C,UAAP,GAAqB,YAA5B;AACA,cAAIiD,qBAAqB5pC,cAAzB;AACAA,2BAAiBlB,GAAGmB,aAAH,GAAmB,uBAApC;AACA,cAAIK,aAAaA,cAAc,EAA/B;AACAA,qBAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,gBAAM,EAAN,CANK,CAMK;AACV,cAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,mBAAO,mBAAoB,sBAApB,GAA8C,sCAA9C,GAAwF4S,GAAG0B,SAA3F,GAAwG,iBAAxG,GAA6H1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAA7H,GAAuK,qCAAvK,GAAgNsrC,mBAAhN,GAAuO,OAA9O;AACA,gBAAIxsC,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,qBAAO,gBAAP;AACA,kBAAI4S,GAAGf,IAAH,CAAQ2rB,sBAAZ,EAAoC;AAClCx9B,uBAAO,mCAAP;AACD,eAFD,MAEO;AACLA,uBAAO,uCAAP;AACD;AACDA,qBAAO,KAAP;AACD;AACD,gBAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,qBAAO,qDAAsD4S,GAAGiB,UAAzD,GAAuE,WAAvE,GAAsFvS,KAAtF,GAA+F,GAAtG;AACD;AACDtB,mBAAO,KAAP;AACD,WAfD,MAeO;AACLA,mBAAO,MAAP;AACD;AACD,cAAIyU,QAAQzU,GAAZ;AACAA,gBAAMoU,WAAWM,GAAX,EAAN;AACA,cAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,gBAAIpB,GAAGlS,KAAP,EAAc;AACZV,qBAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,aAFD,MAEO;AACLzU,qBAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,WAND,MAMO;AACLzU,mBAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDX,2BAAiB4pC,kBAAjB;AACA,cAAI1pC,aAAJ,EAAmB;AACjBhU,mBAAO,UAAP;AACD;AACF;AACF,OA5CD,MA4CO,IAAI4+C,mBAAJ,EAAyB;AAC9B,YAAIC,qBAAqB,SAAzB,EAAoC;AAClC7+C,iBAAO,UAAWi7C,KAAX,GAAoB,cAA3B;AACA,cAAIG,gBAAgBxoC,GAAG+B,aAAvB;AACA/B,aAAG+B,aAAH,GAAmB6lC,IAAI7lC,aAAJ,GAAoB,IAAvC;AACA6lC,cAAI75C,MAAJ,GAAa89C,YAAb;AACAjE,cAAI3mC,UAAJ,GAAiBjB,GAAGiB,UAAH,GAAgB,uBAAjC;AACA2mC,cAAIzmC,aAAJ,GAAoBnB,GAAGmB,aAAH,GAAmB,uBAAvC;AACAymC,cAAIlmC,SAAJ,GAAgB1B,GAAGf,IAAH,CAAQ2rB,sBAAR,GAAiC5qB,GAAG0B,SAApC,GAAgD1B,GAAG9N,IAAH,CAAQ5H,WAAR,CAAoB0V,GAAG0B,SAAvB,EAAkC+pC,IAAlC,EAAwCzrC,GAAGf,IAAH,CAAQ9Q,YAAhD,CAAhE;AACA,cAAIoW,YAAY7V,QAAQ,GAAR,GAAc+8C,IAAd,GAAqB,GAArC;AACA7D,cAAI1lC,WAAJ,CAAgB2mC,QAAhB,IAA4B4C,IAA5B;AACA,cAAIxmC,QAAQjF,GAAGxM,QAAH,CAAYo0C,GAAZ,CAAZ;AACAA,cAAIh0C,MAAJ,GAAas0C,cAAb;AACA,cAAIloC,GAAG9N,IAAH,CAAQnI,aAAR,CAAsBkb,KAAtB,EAA6B6jC,SAA7B,IAA0C,CAA9C,EAAiD;AAC/C17C,mBAAO,MAAO4S,GAAG9N,IAAH,CAAQlI,UAAR,CAAmBib,KAAnB,EAA0B6jC,SAA1B,EAAqCvkC,SAArC,CAAP,GAA0D,GAAjE;AACD,WAFD,MAEO;AACLnX,mBAAO,UAAW07C,SAAX,GAAwB,KAAxB,GAAiCvkC,SAAjC,GAA8C,IAA9C,GAAsDU,KAAtD,GAA+D,GAAtE;AACD;AACD7X,iBAAO,WAAYy6C,UAAZ,GAA0B,eAA1B,GAA6CQ,KAA7C,GAAsD,uHAAtD,GAAiL35C,KAAjL,GAA0L,GAA1L,GAAiM+8C,IAAjM,GAAyM,QAAhN;AACAzrC,aAAG+B,aAAH,GAAmB6lC,IAAI7lC,aAAJ,GAAoBymC,aAAvC;AACD,SAnBD,MAmBO;AACLZ,cAAI75C,MAAJ,GAAa89C,YAAb;AACAjE,cAAI3mC,UAAJ,GAAiBjB,GAAGiB,UAAH,GAAgB,uBAAjC;AACA2mC,cAAIzmC,aAAJ,GAAoBnB,GAAGmB,aAAH,GAAmB,uBAAvC;AACAymC,cAAIlmC,SAAJ,GAAgB1B,GAAGf,IAAH,CAAQ2rB,sBAAR,GAAiC5qB,GAAG0B,SAApC,GAAgD1B,GAAG9N,IAAH,CAAQ5H,WAAR,CAAoB0V,GAAG0B,SAAvB,EAAkC+pC,IAAlC,EAAwCzrC,GAAGf,IAAH,CAAQ9Q,YAAhD,CAAhE;AACA,cAAIoW,YAAY7V,QAAQ,GAAR,GAAc+8C,IAAd,GAAqB,GAArC;AACA7D,cAAI1lC,WAAJ,CAAgB2mC,QAAhB,IAA4B4C,IAA5B;AACA,cAAIxmC,QAAQjF,GAAGxM,QAAH,CAAYo0C,GAAZ,CAAZ;AACAA,cAAIh0C,MAAJ,GAAas0C,cAAb;AACA,cAAIloC,GAAG9N,IAAH,CAAQnI,aAAR,CAAsBkb,KAAtB,EAA6B6jC,SAA7B,IAA0C,CAA9C,EAAiD;AAC/C17C,mBAAO,MAAO4S,GAAG9N,IAAH,CAAQlI,UAAR,CAAmBib,KAAnB,EAA0B6jC,SAA1B,EAAqCvkC,SAArC,CAAP,GAA0D,GAAjE;AACD,WAFD,MAEO;AACLnX,mBAAO,UAAW07C,SAAX,GAAwB,KAAxB,GAAiCvkC,SAAjC,GAA8C,IAA9C,GAAsDU,KAAtD,GAA+D,GAAtE;AACD;AACD,cAAI7D,aAAJ,EAAmB;AACjBhU,mBAAO,WAAYy6C,UAAZ,GAA0B,WAAjC;AACD;AACF;AACF;AACD7nC,SAAG0B,SAAH,GAAe6nC,iBAAf;AACD;AACD,QAAIuC,eAAJ,EAAqB;AACnB1+C,aAAO,KAAP;AACD;AACDA,WAAO,MAAP;AACA,QAAIgU,aAAJ,EAAmB;AACjBhU,aAAO,UAAWy6C,UAAX,GAAyB,MAAhC;AACAI,wBAAkB,GAAlB;AACD;AACF;AACD,MAAIwE,eAAezsC,GAAGf,IAAH,CAAQ6E,WAAR,IAAuB,CAAC9D,GAAG+B,aAA9C;AACA,MAAIiC,YAAYxY,MAAhB,EAAwB;AACtB,QAAIyY,OAAOD,WAAX;AACA,QAAIC,IAAJ,EAAU;AACR,UAAIC,YAAJ;AAAA,UAAkBC,KAAK,CAAC,CAAxB;AAAA,UACEC,KAAKH,KAAKzY,MAAL,GAAc,CADrB;AAEA,aAAO2Y,KAAKC,EAAZ,EAAgB;AACdF,uBAAeD,KAAKE,MAAM,CAAX,CAAf;AACA,YAAIE,OAAOtD,QAAQmD,YAAR,CAAX;AACA,YAAIlE,GAAG9N,IAAH,CAAQ/H,cAAR,CAAuBka,IAAvB,EAA6BrE,GAAGK,KAAH,CAASC,GAAtC,CAAJ,EAAgD;AAC9C,cAAIkpC,QAAQxpC,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBwa,YAApB,CAAZ;AAAA,cACEK,YAAY7V,QAAQ86C,KADtB;AAAA,cAEEkD,cAAcD,gBAAgBpoC,KAAKC,OAAL,KAAiBxc,SAFjD;AAGA8/C,cAAI75C,MAAJ,GAAasW,IAAb;AACAujC,cAAI3mC,UAAJ,GAAiBD,cAAcwoC,KAA/B;AACA5B,cAAIzmC,aAAJ,GAAoBD,iBAAiB,GAAjB,GAAuBlB,GAAG9N,IAAH,CAAQvH,cAAR,CAAuBuZ,YAAvB,CAA3C;AACA0jC,cAAIlmC,SAAJ,GAAgB1B,GAAG9N,IAAH,CAAQ3H,OAAR,CAAgByV,GAAG0B,SAAnB,EAA8BwC,YAA9B,EAA4ClE,GAAGf,IAAH,CAAQ9Q,YAApD,CAAhB;AACAy5C,cAAI1lC,WAAJ,CAAgB2mC,QAAhB,IAA4B7oC,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6Z,YAAvB,CAA5B;AACA,cAAIe,QAAQjF,GAAGxM,QAAH,CAAYo0C,GAAZ,CAAZ;AACAA,cAAIh0C,MAAJ,GAAas0C,cAAb;AACA,cAAIloC,GAAG9N,IAAH,CAAQnI,aAAR,CAAsBkb,KAAtB,EAA6B6jC,SAA7B,IAA0C,CAA9C,EAAiD;AAC/C7jC,oBAAQjF,GAAG9N,IAAH,CAAQlI,UAAR,CAAmBib,KAAnB,EAA0B6jC,SAA1B,EAAqCvkC,SAArC,CAAR;AACA,gBAAIklC,WAAWllC,SAAf;AACD,WAHD,MAGO;AACL,gBAAIklC,WAAWX,SAAf;AACA17C,mBAAO,UAAW07C,SAAX,GAAwB,KAAxB,GAAiCvkC,SAAjC,GAA8C,IAArD;AACD;AACD,cAAImoC,WAAJ,EAAiB;AACft/C,mBAAO,MAAO6X,KAAP,GAAgB,GAAvB;AACD,WAFD,MAEO;AACL,gBAAIonC,iBAAiBA,cAAcnoC,YAAd,CAArB,EAAkD;AAChD9W,qBAAO,WAAYq8C,QAAZ,GAAwB,iBAA/B;AACA,kBAAIN,cAAJ,EAAoB;AAClB/7C,uBAAO,gDAAiDsB,KAAjD,GAA0D,MAA1D,GAAoEsR,GAAG9N,IAAH,CAAQvI,YAAR,CAAqBua,YAArB,CAApE,GAA0G,MAAjH;AACD;AACD9W,qBAAO,SAAUy6C,UAAV,GAAwB,YAA/B;AACA,kBAAI0B,oBAAoBvpC,GAAG0B,SAA3B;AAAA,kBACEopC,qBAAqB5pC,cADvB;AAAA,kBAEEyoC,mBAAmB3pC,GAAG9N,IAAH,CAAQvI,YAAR,CAAqBua,YAArB,CAFrB;AAGA,kBAAIlE,GAAGf,IAAH,CAAQ2rB,sBAAZ,EAAoC;AAClC5qB,mBAAG0B,SAAH,GAAe1B,GAAG9N,IAAH,CAAQ3H,OAAR,CAAgBg/C,iBAAhB,EAAmCrlC,YAAnC,EAAiDlE,GAAGf,IAAH,CAAQ9Q,YAAzD,CAAf;AACD;AACD+S,+BAAiBlB,GAAGmB,aAAH,GAAmB,WAApC;AACA,kBAAIK,aAAaA,cAAc,EAA/B;AACAA,yBAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,oBAAM,EAAN,CAfgD,CAetC;AACV,kBAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,uBAAO,mBAAoB,UAApB,GAAkC,sCAAlC,GAA4E4S,GAAG0B,SAA/E,GAA4F,iBAA5F,GAAiH1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAAjH,GAA2J,kCAA3J,GAAiMyoC,gBAAjM,GAAqN,OAA5N;AACA,oBAAI3pC,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,yBAAO,gBAAP;AACA,sBAAI4S,GAAGf,IAAH,CAAQ2rB,sBAAZ,EAAoC;AAClCx9B,2BAAO,wBAAP;AACD,mBAFD,MAEO;AACLA,2BAAO,uCAAwCu8C,gBAAxC,GAA4D,MAAnE;AACD;AACDv8C,yBAAO,KAAP;AACD;AACD,oBAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,yBAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,uBAAO,KAAP;AACD,eAfD,MAeO;AACLA,uBAAO,MAAP;AACD;AACD,kBAAIyU,QAAQzU,GAAZ;AACAA,oBAAMoU,WAAWM,GAAX,EAAN;AACA,kBAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,oBAAIpB,GAAGlS,KAAP,EAAc;AACZV,yBAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,iBAFD,MAEO;AACLzU,yBAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,eAND,MAMO;AACLzU,uBAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDX,+BAAiB4pC,kBAAjB;AACA9qC,iBAAG0B,SAAH,GAAe6nC,iBAAf;AACAn8C,qBAAO,YAAP;AACD,aAhDD,MAgDO;AACL,kBAAIgU,aAAJ,EAAmB;AACjBhU,uBAAO,WAAYq8C,QAAZ,GAAwB,iBAA/B;AACA,oBAAIN,cAAJ,EAAoB;AAClB/7C,yBAAO,gDAAiDsB,KAAjD,GAA0D,MAA1D,GAAoEsR,GAAG9N,IAAH,CAAQvI,YAAR,CAAqBua,YAArB,CAApE,GAA0G,MAAjH;AACD;AACD9W,uBAAO,SAAUy6C,UAAV,GAAwB,oBAA/B;AACD,eAND,MAMO;AACLz6C,uBAAO,UAAWq8C,QAAX,GAAuB,iBAA9B;AACA,oBAAIN,cAAJ,EAAoB;AAClB/7C,yBAAO,gDAAiDsB,KAAjD,GAA0D,MAA1D,GAAoEsR,GAAG9N,IAAH,CAAQvI,YAAR,CAAqBua,YAArB,CAApE,GAA0G,MAAjH;AACD;AACD9W,uBAAO,OAAP;AACD;AACF;AACDA,mBAAO,MAAO6X,KAAP,GAAgB,KAAvB;AACD;AACF;AACD,YAAI7D,aAAJ,EAAmB;AACjBhU,iBAAO,UAAWy6C,UAAX,GAAyB,MAAhC;AACAI,4BAAkB,GAAlB;AACD;AACF;AACF;AACF;AACD,MAAI2D,eAAepgD,MAAnB,EAA2B;AACzB,QAAIkZ,OAAOknC,cAAX;AACA,QAAIlnC,IAAJ,EAAU;AACR,UAAI6nC,UAAJ;AAAA,UAAgBI,KAAK,CAAC,CAAtB;AAAA,UACEhoC,KAAKD,KAAKlZ,MAAL,GAAc,CADrB;AAEA,aAAOmhD,KAAKhoC,EAAZ,EAAgB;AACd4nC,qBAAa7nC,KAAKioC,MAAM,CAAX,CAAb;AACA,YAAItoC,OAAOsnC,aAAaY,UAAb,CAAX;AACA,YAAIvsC,GAAG9N,IAAH,CAAQ/H,cAAR,CAAuBka,IAAvB,EAA6BrE,GAAGK,KAAH,CAASC,GAAtC,CAAJ,EAAgD;AAC9CsnC,cAAI75C,MAAJ,GAAasW,IAAb;AACAujC,cAAI3mC,UAAJ,GAAiBjB,GAAGiB,UAAH,GAAgB,oBAAhB,GAAuCjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoB6iD,UAApB,CAAxD;AACA3E,cAAIzmC,aAAJ,GAAoBnB,GAAGmB,aAAH,GAAmB,qBAAnB,GAA2CnB,GAAG9N,IAAH,CAAQvH,cAAR,CAAuB4hD,UAAvB,CAA/D;AACA,cAAIpD,cAAJ,EAAoB;AAClB/7C,mBAAO,MAAOs+C,eAAP,GAA0B,KAA1B,GAAmCA,eAAnC,GAAsD,kBAAtD,GAA4Eh9C,KAA5E,GAAqF,cAArF,GAAuGk6C,IAAvG,GAA+G,MAA/G,GAAyHA,IAAzH,GAAiI,GAAjI,GAAwI8C,eAAxI,GAA2J,WAA3J,GAA0K9C,IAA1K,GAAkL,YAAlL,GAAkM6C,IAAlM,GAA0M,KAA1M,GAAmNC,eAAnN,GAAsO,GAAtO,GAA6O9C,IAA7O,GAAqP,KAA5P;AACD,WAFD,MAEO;AACLx7C,mBAAO,eAAgBq+C,IAAhB,GAAwB,MAAxB,GAAkC/8C,KAAlC,GAA2C,MAAlD;AACD;AACDtB,iBAAO,UAAW4S,GAAGyuB,UAAH,CAAc8d,UAAd,CAAX,GAAwC,QAAxC,GAAoDd,IAApD,GAA4D,OAAnE;AACA7D,cAAIlmC,SAAJ,GAAgB1B,GAAG9N,IAAH,CAAQ5H,WAAR,CAAoB0V,GAAG0B,SAAvB,EAAkC+pC,IAAlC,EAAwCzrC,GAAGf,IAAH,CAAQ9Q,YAAhD,CAAhB;AACA,cAAIoW,YAAY7V,QAAQ,GAAR,GAAc+8C,IAAd,GAAqB,GAArC;AACA7D,cAAI1lC,WAAJ,CAAgB2mC,QAAhB,IAA4B4C,IAA5B;AACA,cAAIxmC,QAAQjF,GAAGxM,QAAH,CAAYo0C,GAAZ,CAAZ;AACAA,cAAIh0C,MAAJ,GAAas0C,cAAb;AACA,cAAIloC,GAAG9N,IAAH,CAAQnI,aAAR,CAAsBkb,KAAtB,EAA6B6jC,SAA7B,IAA0C,CAA9C,EAAiD;AAC/C17C,mBAAO,MAAO4S,GAAG9N,IAAH,CAAQlI,UAAR,CAAmBib,KAAnB,EAA0B6jC,SAA1B,EAAqCvkC,SAArC,CAAP,GAA0D,GAAjE;AACD,WAFD,MAEO;AACLnX,mBAAO,UAAW07C,SAAX,GAAwB,KAAxB,GAAiCvkC,SAAjC,GAA8C,IAA9C,GAAsDU,KAAtD,GAA+D,GAAtE;AACD;AACD,cAAI7D,aAAJ,EAAmB;AACjBhU,mBAAO,WAAYy6C,UAAZ,GAA0B,WAAjC;AACD;AACDz6C,iBAAO,KAAP;AACA,cAAIgU,aAAJ,EAAmB;AACjBhU,mBAAO,WAAYy6C,UAAZ,GAA0B,WAAjC;AACD;AACDz6C,iBAAO,MAAP;AACA,cAAIgU,aAAJ,EAAmB;AACjBhU,mBAAO,UAAWy6C,UAAX,GAAyB,MAAhC;AACAI,8BAAkB,GAAlB;AACD;AACF;AACF;AACF;AACF;AACD,MAAI7mC,aAAJ,EAAmB;AACjBhU,WAAO,MAAO66C,cAAP,GAAyB,OAAzB,GAAoCI,KAApC,GAA6C,eAApD;AACD;AACDj7C,QAAM4S,GAAG9N,IAAH,CAAQjI,WAAR,CAAoBmD,GAApB,CAAN;AACA,SAAOA,GAAP;AACD,CAtUD,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAASkkD,sBAAT,CAAgC5sC,EAAhC,EAAoCC,QAApC,EAA8CC,SAA9C,EAAyD;AACxE,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAI3S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAIwnC,QAAQ,WAAW1nC,IAAvB;AACA,MAAIinC,MAAM5nC,GAAG9N,IAAH,CAAQ7I,IAAR,CAAa2W,EAAb,CAAV;AACA,MAAIioC,iBAAiB,EAArB;AACAL,MAAIhnC,KAAJ;AACA,MAAIinC,aAAa,UAAUD,IAAIhnC,KAA/B;AACAxT,SAAO,SAAUi7C,KAAV,GAAmB,YAA1B;AACA,MAAIroC,GAAG9N,IAAH,CAAQ/H,cAAR,CAAuB4W,OAAvB,EAAgCf,GAAGK,KAAH,CAASC,GAAzC,CAAJ,EAAmD;AACjDsnC,QAAI75C,MAAJ,GAAagT,OAAb;AACA6mC,QAAI3mC,UAAJ,GAAiBD,WAAjB;AACA4mC,QAAIzmC,aAAJ,GAAoBD,cAApB;AACA,QAAIuqC,OAAO,QAAQ9qC,IAAnB;AAAA,QACEioC,OAAO,QAAQjoC,IADjB;AAAA,QAEE2C,KAAK,MAAM3C,IAFb;AAAA,QAGEksC,eAAe,UAAUpB,IAAV,GAAiB,OAHlC;AAAA,QAIE5C,WAAWjB,IAAI9mC,SAAJ,GAAgBd,GAAGc,SAAH,GAAe,CAJ5C;AAAA,QAKEgoC,YAAY,SAASD,QALvB;AAAA,QAME6C,kBAAkB,mBAAmB/qC,IANvC;AAAA,QAOEwoC,iBAAiBnpC,GAAGf,IAAH,CAAQmqC,aAP3B;AAAA,QAQElB,iBAAiBloC,GAAGpM,MARtB;AASA,QAAIu1C,cAAJ,EAAoB;AAClB/7C,aAAO,UAAWs+C,eAAX,GAA8B,gBAArC;AACD;AACD,QAAIvC,cAAJ,EAAoB;AAClB/7C,aAAO,MAAOs+C,eAAP,GAA0B,KAA1B,GAAmCA,eAAnC,GAAsD,kBAAtD,GAA4Eh9C,KAA5E,GAAqF,cAArF,GAAuGk6C,IAAvG,GAA+G,MAA/G,GAAyHA,IAAzH,GAAiI,GAAjI,GAAwI8C,eAAxI,GAA2J,WAA3J,GAA0K9C,IAA1K,GAAkL,YAAlL,GAAkM6C,IAAlM,GAA0M,KAA1M,GAAmNC,eAAnN,GAAsO,GAAtO,GAA6O9C,IAA7O,GAAqP,KAA5P;AACD,KAFD,MAEO;AACLx7C,aAAO,eAAgBq+C,IAAhB,GAAwB,MAAxB,GAAkC/8C,KAAlC,GAA2C,MAAlD;AACD;AACDtB,WAAO,mBAAoBuT,IAApB,GAA4B,aAAnC;AACA,QAAI4D,YAAYknC,IAAhB;AACA,QAAIjD,gBAAgBxoC,GAAG+B,aAAvB;AACA/B,OAAG+B,aAAH,GAAmB6lC,IAAI7lC,aAAJ,GAAoB,IAAvC;AACA,QAAIkD,QAAQjF,GAAGxM,QAAH,CAAYo0C,GAAZ,CAAZ;AACAA,QAAIh0C,MAAJ,GAAas0C,cAAb;AACA,QAAIloC,GAAG9N,IAAH,CAAQnI,aAAR,CAAsBkb,KAAtB,EAA6B6jC,SAA7B,IAA0C,CAA9C,EAAiD;AAC/C17C,aAAO,MAAO4S,GAAG9N,IAAH,CAAQlI,UAAR,CAAmBib,KAAnB,EAA0B6jC,SAA1B,EAAqCvkC,SAArC,CAAP,GAA0D,GAAjE;AACD,KAFD,MAEO;AACLnX,aAAO,UAAW07C,SAAX,GAAwB,KAAxB,GAAiCvkC,SAAjC,GAA8C,IAA9C,GAAsDU,KAAtD,GAA+D,GAAtE;AACD;AACDjF,OAAG+B,aAAH,GAAmB6lC,IAAI7lC,aAAJ,GAAoBymC,aAAvC;AACAp7C,WAAO,WAAYy6C,UAAZ,GAA0B,eAA1B,GAA6CvkC,EAA7C,GAAmD,YAAnD,GAAmE3C,IAAnE,GAA2E,IAA3E,GAAmF2C,EAAnF,GAAyF,WAAzF,GAAwGA,EAAxG,GAA8G,gBAA9G,GAAkIA,EAAlI,GAAwI,mBAAxI,GAA+JmoC,IAA/J,GAAuK,oBAA9K,CAjCiD,CAiCmJ;AACpM,QAAIzrC,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,aAAO,mBAAoB,eAApB,GAAuC,sCAAvC,GAAiF4S,GAAG0B,SAApF,GAAiG,iBAAjG,GAAsH1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAAtH,GAAgK,+BAAhK,GAAmM2rC,YAAnM,GAAmN,OAA1N;AACA,UAAI7sC,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,eAAO,qCAAsCy/C,YAAtC,GAAsD,oBAA7D;AACD;AACD,UAAI7sC,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,eAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,aAAO,KAAP;AACD,KATD,MASO;AACLA,aAAO,MAAP;AACD;AACDA,WAAO,8EAAP;AACA,QAAI,CAAC4S,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,UAAIpB,GAAGlS,KAAP,EAAc;AACZV,eAAO,uCAAP;AACD,OAFD,MAEO;AACLA,eAAO,4CAAP;AACD;AACF;AACD,QAAIgU,aAAJ,EAAmB;AACjBhU,aAAO,UAAP;AACD;AACDA,WAAO,MAAP;AACD;AACD,MAAIgU,aAAJ,EAAmB;AACjBhU,WAAO,MAAO66C,cAAP,GAAyB,OAAzB,GAAoCI,KAApC,GAA6C,eAApD;AACD;AACDj7C,QAAM4S,GAAG9N,IAAH,CAAQjI,WAAR,CAAoBmD,GAApB,CAAN;AACA,SAAOA,GAAP;AACD,CA/ED,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAASokD,iBAAT,CAA2B9sC,EAA3B,EAA+BC,QAA/B,EAAyCC,SAAzC,EAAoD;AACnE,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAI3S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAIU,SAAS,UAAUZ,IAAvB;AACA,MAAI4E,UAAUvF,GAAGf,IAAH,CAAQvQ,KAAR,IAAiBqS,OAAjB,IAA4BA,QAAQrS,KAAlD;AAAA,MACE8W,YADF;AAEA,MAAID,OAAJ,EAAa;AACXnY,WAAO,gBAAiBuT,IAAjB,GAAyB,KAAzB,GAAkCX,GAAG9N,IAAH,CAAQ1H,OAAR,CAAgBuW,QAAQrS,KAAxB,EAA+BmS,QAA/B,EAAyCb,GAAGkC,WAA5C,CAAlC,GAA8F,IAArG;AACAsD,mBAAe,WAAW7E,IAA1B;AACD,GAHD,MAGO;AACL6E,mBAAezE,OAAf;AACD;AACD,MAAI8oC,WAAW,WAAWlpC,IAA1B;AACA,MAAI,CAAC4E,OAAL,EAAc;AACZ,QAAIxE,QAAQvV,MAAR,GAAiBwU,GAAGf,IAAH,CAAQyrB,YAAzB,IAAyC1qB,GAAGjS,MAAH,CAAUgW,UAAnD,IAAiEhb,OAAOmL,IAAP,CAAY8L,GAAGjS,MAAH,CAAUgW,UAAtB,EAAkCvY,MAAvG,EAA+G;AAC7G,UAAI4gD,YAAY,EAAhB;AACA,UAAIhpC,OAAOrC,OAAX;AACA,UAAIqC,IAAJ,EAAU;AACR,YAAIimC,SAAJ;AAAA,YAAeiD,KAAK,CAAC,CAArB;AAAA,YACE/oC,KAAKH,KAAK5X,MAAL,GAAc,CADrB;AAEA,eAAO8gD,KAAK/oC,EAAZ,EAAgB;AACd8lC,sBAAYjmC,KAAKkpC,MAAM,CAAX,CAAZ;AACA,cAAIS,eAAe/sC,GAAGjS,MAAH,CAAUgW,UAAV,CAAqBslC,SAArB,CAAnB;AACA,cAAI,EAAE0D,gBAAgB/sC,GAAG9N,IAAH,CAAQ/H,cAAR,CAAuB4iD,YAAvB,EAAqC/sC,GAAGK,KAAH,CAASC,GAA9C,CAAlB,CAAJ,EAA2E;AACzE8rC,sBAAUA,UAAU5gD,MAApB,IAA8B69C,SAA9B;AACD;AACF;AACF;AACF,KAdD,MAcO;AACL,UAAI+C,YAAYrrC,OAAhB;AACD;AACF;AACD,MAAIwE,WAAW6mC,UAAU5gD,MAAzB,EAAiC;AAC/B,QAAI+9C,oBAAoBvpC,GAAG0B,SAA3B;AAAA,QACEsrC,gBAAgBznC,WAAW6mC,UAAU5gD,MAAV,IAAoBwU,GAAGf,IAAH,CAAQyrB,YADzD;AAAA,QAEEye,iBAAiBnpC,GAAGf,IAAH,CAAQmqC,aAF3B;AAGA,QAAIhoC,aAAJ,EAAmB;AACjBhU,aAAO,iBAAkBuT,IAAlB,GAA0B,IAAjC;AACA,UAAIqsC,aAAJ,EAAmB;AACjB,YAAI,CAACznC,OAAL,EAAc;AACZnY,iBAAO,UAAWy8C,QAAX,GAAuB,oBAAvB,GAA+C7oC,WAA/C,GAA8D,IAArE;AACD;AACD,YAAIsC,KAAK,MAAM3C,IAAf;AAAA,YACE+oC,gBAAgB,WAAW/oC,IAAX,GAAkB,GAAlB,GAAwB2C,EAAxB,GAA6B,GAD/C;AAAA,YAEEqmC,mBAAmB,UAAUD,aAAV,GAA0B,OAF/C;AAGA,YAAI1pC,GAAGf,IAAH,CAAQ2rB,sBAAZ,EAAoC;AAClC5qB,aAAG0B,SAAH,GAAe1B,GAAG9N,IAAH,CAAQ5H,WAAR,CAAoBi/C,iBAApB,EAAuCG,aAAvC,EAAsD1pC,GAAGf,IAAH,CAAQ9Q,YAA9D,CAAf;AACD;AACDf,eAAO,UAAWmU,MAAX,GAAqB,WAA5B;AACA,YAAIgE,OAAJ,EAAa;AACXnY,iBAAO,gBAAiBuT,IAAjB,GAAyB,kBAAzB,GAA+CY,MAA/C,GAAyD,yCAAzD,GAAsGZ,IAAtG,GAA8G,KAA9G,GAAuHY,MAAvH,GAAiI,kBAAxI;AACD;AACDnU,eAAO,eAAgBkW,EAAhB,GAAsB,QAAtB,GAAkCA,EAAlC,GAAwC,KAAxC,GAAiDumC,QAAjD,GAA6D,WAA7D,GAA4EvmC,EAA5E,GAAkF,QAAlF,GAA8F/B,MAA9F,GAAwG,KAAxG,GAAiH7S,KAAjH,GAA0H,GAA1H,GAAiIm7C,QAAjI,GAA6I,GAA7I,GAAoJvmC,EAApJ,GAA0J,mBAAjK;AACA,YAAI6lC,cAAJ,EAAoB;AAClB/7C,iBAAO,gDAAiDsB,KAAjD,GAA0D,IAA1D,GAAkEm7C,QAAlE,GAA8E,GAA9E,GAAqFvmC,EAArF,GAA2F,KAAlG;AACD;AACDlW,eAAO,YAAamU,MAAb,GAAuB,aAA9B;AACA,YAAIgE,OAAJ,EAAa;AACXnY,iBAAO,OAAP;AACD;AACDA,eAAO,YAAamU,MAAb,GAAuB,QAA9B;AACA,YAAIC,aAAaA,cAAc,EAA/B;AACAA,mBAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,cAAM,EAAN,CAzBiB,CAyBP;AACV,YAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,iBAAO,mBAAoB,UAApB,GAAkC,sCAAlC,GAA4E4S,GAAG0B,SAA/E,GAA4F,iBAA5F,GAAiH1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAAjH,GAA2J,kCAA3J,GAAiMyoC,gBAAjM,GAAqN,OAA5N;AACA,cAAI3pC,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,mBAAO,gBAAP;AACA,gBAAI4S,GAAGf,IAAH,CAAQ2rB,sBAAZ,EAAoC;AAClCx9B,qBAAO,wBAAP;AACD,aAFD,MAEO;AACLA,qBAAO,uCAAwCu8C,gBAAxC,GAA4D,MAAnE;AACD;AACDv8C,mBAAO,KAAP;AACD;AACD,cAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,mBAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,iBAAO,KAAP;AACD,SAfD,MAeO;AACLA,iBAAO,MAAP;AACD;AACD,YAAIyU,QAAQzU,GAAZ;AACAA,cAAMoU,WAAWM,GAAX,EAAN;AACA,YAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,cAAIpB,GAAGlS,KAAP,EAAc;AACZV,mBAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,WAFD,MAEO;AACLzU,mBAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,SAND,MAMO;AACLzU,iBAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,eAAO,YAAP;AACD,OAxDD,MAwDO;AACLA,eAAO,QAAP;AACA,YAAIuW,OAAOyoC,SAAX;AACA,YAAIzoC,IAAJ,EAAU;AACR,cAAIO,YAAJ;AAAA,cAAkBZ,KAAK,CAAC,CAAxB;AAAA,cACEO,KAAKF,KAAKnY,MAAL,GAAc,CADrB;AAEA,iBAAO8X,KAAKO,EAAZ,EAAgB;AACdK,2BAAeP,KAAKL,MAAM,CAAX,CAAf;AACA,gBAAIA,EAAJ,EAAQ;AACNlW,qBAAO,MAAP;AACD;AACD,gBAAIo8C,QAAQxpC,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBwa,YAApB,CAAZ;AAAA,gBACEulC,WAAW/6C,QAAQ86C,KADrB;AAEAp8C,mBAAO,UAAWq8C,QAAX,GAAuB,iBAA9B;AACA,gBAAIN,cAAJ,EAAoB;AAClB/7C,qBAAO,gDAAiDsB,KAAjD,GAA0D,MAA1D,GAAoEsR,GAAG9N,IAAH,CAAQvI,YAAR,CAAqBua,YAArB,CAApE,GAA0G,MAAjH;AACD;AACD9W,mBAAO,kBAAmBuT,IAAnB,GAA2B,KAA3B,GAAoCX,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB2V,GAAGf,IAAH,CAAQ9Q,YAAR,GAAuB+V,YAAvB,GAAsCslC,KAA7D,CAApC,GAA2G,MAAlH;AACD;AACF;AACDp8C,eAAO,OAAP;AACA,YAAIs8C,gBAAgB,YAAY/oC,IAAhC;AAAA,YACEgpC,mBAAmB,UAAUD,aAAV,GAA0B,OAD/C;AAEA,YAAI1pC,GAAGf,IAAH,CAAQ2rB,sBAAZ,EAAoC;AAClC5qB,aAAG0B,SAAH,GAAe1B,GAAGf,IAAH,CAAQ9Q,YAAR,GAAuB6R,GAAG9N,IAAH,CAAQ5H,WAAR,CAAoBi/C,iBAApB,EAAuCG,aAAvC,EAAsD,IAAtD,CAAvB,GAAqFH,oBAAoB,KAApB,GAA4BG,aAAhI;AACD;AACD,YAAIloC,aAAaA,cAAc,EAA/B;AACAA,mBAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,cAAM,EAAN,CA5BK,CA4BK;AACV,YAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,iBAAO,mBAAoB,UAApB,GAAkC,sCAAlC,GAA4E4S,GAAG0B,SAA/E,GAA4F,iBAA5F,GAAiH1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAAjH,GAA2J,kCAA3J,GAAiMyoC,gBAAjM,GAAqN,OAA5N;AACA,cAAI3pC,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,mBAAO,gBAAP;AACA,gBAAI4S,GAAGf,IAAH,CAAQ2rB,sBAAZ,EAAoC;AAClCx9B,qBAAO,wBAAP;AACD,aAFD,MAEO;AACLA,qBAAO,uCAAwCu8C,gBAAxC,GAA4D,MAAnE;AACD;AACDv8C,mBAAO,KAAP;AACD;AACD,cAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,mBAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,iBAAO,KAAP;AACD,SAfD,MAeO;AACLA,iBAAO,MAAP;AACD;AACD,YAAIyU,QAAQzU,GAAZ;AACAA,cAAMoU,WAAWM,GAAX,EAAN;AACA,YAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,cAAIpB,GAAGlS,KAAP,EAAc;AACZV,mBAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,WAFD,MAEO;AACLzU,mBAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,SAND,MAMO;AACLzU,iBAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,eAAO,YAAP;AACD;AACF,KAtHD,MAsHO;AACL,UAAI4/C,aAAJ,EAAmB;AACjB,YAAI,CAACznC,OAAL,EAAc;AACZnY,iBAAO,UAAWy8C,QAAX,GAAuB,oBAAvB,GAA+C7oC,WAA/C,GAA8D,IAArE;AACD;AACD,YAAIsC,KAAK,MAAM3C,IAAf;AAAA,YACE+oC,gBAAgB,WAAW/oC,IAAX,GAAkB,GAAlB,GAAwB2C,EAAxB,GAA6B,GAD/C;AAAA,YAEEqmC,mBAAmB,UAAUD,aAAV,GAA0B,OAF/C;AAGA,YAAI1pC,GAAGf,IAAH,CAAQ2rB,sBAAZ,EAAoC;AAClC5qB,aAAG0B,SAAH,GAAe1B,GAAG9N,IAAH,CAAQ5H,WAAR,CAAoBi/C,iBAApB,EAAuCG,aAAvC,EAAsD1pC,GAAGf,IAAH,CAAQ9Q,YAA9D,CAAf;AACD;AACD,YAAIoX,OAAJ,EAAa;AACXnY,iBAAO,UAAWy8C,QAAX,GAAuB,qBAAvB,GAAgDA,QAAhD,GAA4D,oBAAnE,CADW,CAC8E;AACzF,cAAI7pC,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,mBAAO,mBAAoB,UAApB,GAAkC,sCAAlC,GAA4E4S,GAAG0B,SAA/E,GAA4F,iBAA5F,GAAiH1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAAjH,GAA2J,kCAA3J,GAAiMyoC,gBAAjM,GAAqN,OAA5N;AACA,gBAAI3pC,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,qBAAO,gBAAP;AACA,kBAAI4S,GAAGf,IAAH,CAAQ2rB,sBAAZ,EAAoC;AAClCx9B,uBAAO,wBAAP;AACD,eAFD,MAEO;AACLA,uBAAO,uCAAwCu8C,gBAAxC,GAA4D,MAAnE;AACD;AACDv8C,qBAAO,KAAP;AACD;AACD,gBAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,qBAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,mBAAO,KAAP;AACD,WAfD,MAeO;AACLA,mBAAO,MAAP;AACD;AACDA,iBAAO,4FAA6Fy8C,QAA7F,GAAyG,oBAAhH;AACD;AACDz8C,eAAO,eAAgBkW,EAAhB,GAAsB,QAAtB,GAAkCA,EAAlC,GAAwC,KAAxC,GAAiDumC,QAAjD,GAA6D,WAA7D,GAA4EvmC,EAA5E,GAAkF,YAAlF,GAAkG5U,KAAlG,GAA2G,GAA3G,GAAkHm7C,QAAlH,GAA8H,GAA9H,GAAqIvmC,EAArI,GAA2I,mBAAlJ;AACA,YAAI6lC,cAAJ,EAAoB;AAClB/7C,iBAAO,gDAAiDsB,KAAjD,GAA0D,IAA1D,GAAkEm7C,QAAlE,GAA8E,GAA9E,GAAqFvmC,EAArF,GAA2F,KAAlG;AACD;AACDlW,eAAO,mBAAP,CApCiB,CAoCW;AAC5B,YAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,iBAAO,mBAAoB,UAApB,GAAkC,sCAAlC,GAA4E4S,GAAG0B,SAA/E,GAA4F,iBAA5F,GAAiH1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAAjH,GAA2J,kCAA3J,GAAiMyoC,gBAAjM,GAAqN,OAA5N;AACA,cAAI3pC,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,mBAAO,gBAAP;AACA,gBAAI4S,GAAGf,IAAH,CAAQ2rB,sBAAZ,EAAoC;AAClCx9B,qBAAO,wBAAP;AACD,aAFD,MAEO;AACLA,qBAAO,uCAAwCu8C,gBAAxC,GAA4D,MAAnE;AACD;AACDv8C,mBAAO,KAAP;AACD;AACD,cAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,mBAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,iBAAO,KAAP;AACD,SAfD,MAeO;AACLA,iBAAO,MAAP;AACD;AACDA,eAAO,kFAAP;AACA,YAAImY,OAAJ,EAAa;AACXnY,iBAAO,OAAP;AACD;AACF,OA3DD,MA2DO;AACL,YAAI6W,OAAOmoC,SAAX;AACA,YAAInoC,IAAJ,EAAU;AACR,cAAIC,YAAJ;AAAA,cAAkBC,KAAK,CAAC,CAAxB;AAAA,cACEC,KAAKH,KAAKzY,MAAL,GAAc,CADrB;AAEA,iBAAO2Y,KAAKC,EAAZ,EAAgB;AACdF,2BAAeD,KAAKE,MAAM,CAAX,CAAf;AACA,gBAAIqlC,QAAQxpC,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBwa,YAApB,CAAZ;AAAA,gBACEylC,mBAAmB3pC,GAAG9N,IAAH,CAAQvI,YAAR,CAAqBua,YAArB,CADrB;AAAA,gBAEEulC,WAAW/6C,QAAQ86C,KAFrB;AAGA,gBAAIxpC,GAAGf,IAAH,CAAQ2rB,sBAAZ,EAAoC;AAClC5qB,iBAAG0B,SAAH,GAAe1B,GAAG9N,IAAH,CAAQ3H,OAAR,CAAgBg/C,iBAAhB,EAAmCrlC,YAAnC,EAAiDlE,GAAGf,IAAH,CAAQ9Q,YAAzD,CAAf;AACD;AACDf,mBAAO,WAAYq8C,QAAZ,GAAwB,iBAA/B;AACA,gBAAIN,cAAJ,EAAoB;AAClB/7C,qBAAO,gDAAiDsB,KAAjD,GAA0D,MAA1D,GAAoEsR,GAAG9N,IAAH,CAAQvI,YAAR,CAAqBua,YAArB,CAApE,GAA0G,MAAjH;AACD;AACD9W,mBAAO,mBAAP,CAZc,CAYc;AAC5B,gBAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,qBAAO,mBAAoB,UAApB,GAAkC,sCAAlC,GAA4E4S,GAAG0B,SAA/E,GAA4F,iBAA5F,GAAiH1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAAjH,GAA2J,kCAA3J,GAAiMyoC,gBAAjM,GAAqN,OAA5N;AACA,kBAAI3pC,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,uBAAO,gBAAP;AACA,oBAAI4S,GAAGf,IAAH,CAAQ2rB,sBAAZ,EAAoC;AAClCx9B,yBAAO,wBAAP;AACD,iBAFD,MAEO;AACLA,yBAAO,uCAAwCu8C,gBAAxC,GAA4D,MAAnE;AACD;AACDv8C,uBAAO,KAAP;AACD;AACD,kBAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,uBAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,qBAAO,KAAP;AACD,aAfD,MAeO;AACLA,qBAAO,MAAP;AACD;AACDA,mBAAO,gFAAP;AACD;AACF;AACF;AACF;AACD4S,OAAG0B,SAAH,GAAe6nC,iBAAf;AACD,GAhOD,MAgOO,IAAInoC,aAAJ,EAAmB;AACxBhU,WAAO,cAAP;AACD;AACD,SAAOA,GAAP;AACD,CA1QD,C;;;;;;;ACDa;;AACb3E,OAAOC,OAAP,GAAiB,SAASukD,oBAAT,CAA8BjtC,EAA9B,EAAkCC,QAAlC,EAA4CC,SAA5C,EAAuD;AACtE,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAI3S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAIU,SAAS,UAAUZ,IAAvB;AACA,MAAI4E,UAAUvF,GAAGf,IAAH,CAAQvQ,KAAR,IAAiBqS,OAAjB,IAA4BA,QAAQrS,KAAlD;AAAA,MACE8W,YADF;AAEA,MAAID,OAAJ,EAAa;AACXnY,WAAO,gBAAiBuT,IAAjB,GAAyB,KAAzB,GAAkCX,GAAG9N,IAAH,CAAQ1H,OAAR,CAAgBuW,QAAQrS,KAAxB,EAA+BmS,QAA/B,EAAyCb,GAAGkC,WAA5C,CAAlC,GAA8F,IAArG;AACAsD,mBAAe,WAAW7E,IAA1B;AACD,GAHD,MAGO;AACL6E,mBAAezE,OAAf;AACD;AACD,MAAI,CAACA,WAAWwE,OAAZ,KAAwBvF,GAAGf,IAAH,CAAQylC,WAAR,KAAwB,KAApD,EAA2D;AACzD,QAAIn/B,OAAJ,EAAa;AACXnY,aAAO,UAAWmU,MAAX,GAAqB,QAArB,GAAiCiE,YAAjC,GAAiD,gBAAjD,GAAqEA,YAArE,GAAqF,kBAArF,GAA2GjE,MAA3G,GAAqH,2BAArH,GAAoJiE,YAApJ,GAAoK,mBAApK,GAA2LjE,MAA3L,GAAqM,mBAA5M;AACD;AACDnU,WAAO,cAAesB,KAAf,GAAwB,YAAxB,GAAwC6S,MAAxC,GAAkD,4BAAzD;AACA,QAAI2rC,YAAYltC,GAAGjS,MAAH,CAAU0W,KAAV,IAAmBzE,GAAGjS,MAAH,CAAU0W,KAAV,CAAgBjU,IAAnD;AAAA,QACE8R,eAAenW,MAAMC,OAAN,CAAc8gD,SAAd,CADjB;AAEA,QAAI,CAACA,SAAD,IAAcA,aAAa,QAA3B,IAAuCA,aAAa,OAApD,IAAgE5qC,iBAAiB4qC,UAAUtyC,OAAV,CAAkB,QAAlB,KAA+B,CAA/B,IAAoCsyC,UAAUtyC,OAAV,CAAkB,OAAlB,KAA8B,CAAnF,CAApE,EAA4J;AAC1JxN,aAAO,yDAA0DsB,KAA1D,GAAmE,OAAnE,GAA8EA,KAA9E,GAAuF,UAAvF,GAAqG6S,MAArG,GAA+G,+BAAtH;AACD,KAFD,MAEO;AACLnU,aAAO,2DAA4DsB,KAA5D,GAAqE,OAA5E;AACA,UAAIsU,UAAU,mBAAmBV,eAAe,GAAf,GAAqB,EAAxC,CAAd;AACAlV,aAAO,UAAW4S,GAAG9N,IAAH,CAAQ8Q,OAAR,EAAiBkqC,SAAjB,EAA4B,MAA5B,EAAoC,IAApC,CAAX,GAAwD,cAA/D;AACA,UAAI5qC,YAAJ,EAAkB;AAChBlV,eAAO,uDAAP;AACD;AACDA,aAAO,oDAAqDmU,MAArD,GAA+D,qEAAtE;AACD;AACDnU,WAAO,KAAP;AACA,QAAImY,OAAJ,EAAa;AACXnY,aAAO,OAAP;AACD;AACDA,WAAO,WAAYmU,MAAZ,GAAsB,QAA7B;AACA,QAAIC,aAAaA,cAAc,EAA/B;AACAA,eAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,UAAM,EAAN,CAzByD,CAyB/C;AACV,QAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,aAAO,mBAAoB,aAApB,GAAqC,sCAArC,GAA+E4S,GAAG0B,SAAlF,GAA+F,iBAA/F,GAAoH1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAApH,GAA8J,4BAArK;AACA,UAAIlB,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,eAAO,uGAAP;AACD;AACD,UAAI4S,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,eAAO,cAAP;AACA,YAAImY,OAAJ,EAAa;AACXnY,iBAAO,oBAAqB4T,WAA5B;AACD,SAFD,MAEO;AACL5T,iBAAO,KAAM2T,OAAb;AACD;AACD3T,eAAO,6CAA8C4S,GAAGiB,UAAjD,GAA+D,WAA/D,GAA8EvS,KAA9E,GAAuF,GAA9F;AACD;AACDtB,aAAO,KAAP;AACD,KAfD,MAeO;AACLA,aAAO,MAAP;AACD;AACD,QAAIyU,QAAQzU,GAAZ;AACAA,UAAMoU,WAAWM,GAAX,EAAN;AACA,QAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,UAAIpB,GAAGlS,KAAP,EAAc;AACZV,eAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,OAFD,MAEO;AACLzU,eAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,KAND,MAMO;AACLzU,aAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACDzU,WAAO,KAAP;AACA,QAAIgU,aAAJ,EAAmB;AACjBhU,aAAO,UAAP;AACD;AACF,GA3DD,MA2DO;AACL,QAAIgU,aAAJ,EAAmB;AACjBhU,aAAO,eAAP;AACD;AACF;AACD,SAAOA,GAAP;AACD,CAnFD,C;;;;;;;ACDa;;AAEb,IAAI85C,WAAW,CACb,YADa,EAEb,SAFa,EAGb,kBAHa,EAIb,SAJa,EAKb,kBALa,EAMb,WANa,EAOb,WAPa,EAQb,SARa,EASb,iBATa,EAUb,UAVa,EAWb,UAXa,EAYb,aAZa,EAab,eAba,EAcb,eAda,EAeb,UAfa,EAgBb,sBAhBa,EAiBb,MAjBa,EAkBb,QAlBa,EAmBb,OAnBa,CAAf;;AAsBAz+C,OAAOC,OAAP,GAAiB,UAAUwiC,UAAV,EAAsBiiB,oBAAtB,EAA4C;AAC3D,OAAK,IAAI/jD,IAAE,CAAX,EAAcA,IAAE+jD,qBAAqB3hD,MAArC,EAA6CpC,GAA7C,EAAkD;AAChD8hC,iBAAaxuB,KAAK5I,KAAL,CAAW4I,KAAKC,SAAL,CAAeuuB,UAAf,CAAX,CAAb;AACA,QAAIn8B,WAAWo+C,qBAAqB/jD,CAArB,EAAwB4F,KAAxB,CAA8B,GAA9B,CAAf;AACA,QAAI+zC,WAAW7X,UAAf;AACA,QAAI/d,CAAJ;AACA,SAAKA,IAAE,CAAP,EAAUA,IAAEpe,SAASvD,MAArB,EAA6B2hB,GAA7B;AACE41B,iBAAWA,SAASh0C,SAASoe,CAAT,CAAT,CAAX;AADF,KAGA,KAAKA,IAAE,CAAP,EAAUA,IAAE+5B,SAAS17C,MAArB,EAA6B2hB,GAA7B,EAAkC;AAChC,UAAIpiB,MAAMm8C,SAAS/5B,CAAT,CAAV;AACA,UAAIpf,SAASg1C,SAASh4C,GAAT,CAAb;AACA,UAAIgD,MAAJ,EAAY;AACVg1C,iBAASh4C,GAAT,IAAgB;AACdw4C,iBAAO,CACLx1C,MADK,EAEL,EAAE6G,MAAM,8EAAR,EAFK;AADO,SAAhB;AAMD;AACF;AACF;;AAED,SAAOs2B,UAAP;AACD,CAxBD,C;;;;;;;ACxBa;;AAEb,IAAI7zB,kBAAkBxN,mBAAOA,CAAC,CAAR,EAA2BuN,UAAjD;;AAEA3O,OAAOC,OAAP,GAAiB6gC,YAAjB;;AAGA;;;;;;;;;AASA,SAASA,YAAT,CAAsBx7B,MAAtB,EAA8Bk9B,IAA9B,EAAoClf,QAApC,EAA8C;AAC5C;AACA;AACA;AACA,MAAIpW,OAAO,IAAX;AACA,MAAI,OAAO,KAAKrC,KAAL,CAAW85C,UAAlB,IAAgC,UAApC,EACE,MAAM,IAAIt+C,KAAJ,CAAU,yCAAV,CAAN;;AAEF,MAAI,OAAOm8B,IAAP,IAAe,UAAnB,EAA+B;AAC7Blf,eAAWkf,IAAX;AACAA,WAAOnjC,SAAP;AACD;;AAED,MAAI+L,IAAIw5C,iBAAiBt/C,MAAjB,EAAyBu/C,IAAzB,CAA8B,YAAY;AAChD,QAAIhiB,YAAY31B,KAAK2zB,UAAL,CAAgBv7B,MAAhB,EAAwBjG,SAAxB,EAAmCmjC,IAAnC,CAAhB;AACA,WAAOK,UAAU93B,QAAV,IAAsB+5C,cAAcjiB,SAAd,CAA7B;AACD,GAHO,CAAR;;AAKA,MAAIvf,QAAJ,EAAc;AACZlY,MAAEy5C,IAAF,CACE,UAAS35C,CAAT,EAAY;AAAEoY,eAAS,IAAT,EAAepY,CAAf;AAAoB,KADpC,EAEEoY,QAFF;AAID;;AAED,SAAOlY,CAAP;;AAGA,WAASw5C,gBAAT,CAA0Bx3C,GAA1B,EAA+B;AAC7B,QAAIkL,UAAUlL,IAAIkL,OAAlB;AACA,WAAOA,WAAW,CAACpL,KAAKuzB,SAAL,CAAenoB,OAAf,CAAZ,GACGwoB,aAAan2B,IAAb,CAAkBuC,IAAlB,EAAwB,EAAEf,MAAMmM,OAAR,EAAxB,EAA2C,IAA3C,CADH,GAEGysC,QAAQn7C,OAAR,EAFV;AAGD;;AAGD,WAASk7C,aAAT,CAAuBjiB,SAAvB,EAAkC;AAChC,QAAI;AAAE,aAAO31B,KAAKlC,QAAL,CAAc63B,SAAd,CAAP;AAAkC,KAAxC,CACA,OAAMlU,CAAN,EAAS;AACP,UAAIA,aAAa/f,eAAjB,EAAkC,OAAOo2C,kBAAkBr2B,CAAlB,CAAP;AAClC,YAAMA,CAAN;AACD;;AAGD,aAASq2B,iBAAT,CAA2Br2B,CAA3B,EAA8B;AAC5B,UAAInkB,MAAMmkB,EAAEzf,aAAZ;AACA,UAAI+1C,MAAMz6C,GAAN,CAAJ,EAAgB,MAAM,IAAInE,KAAJ,CAAU,YAAYmE,GAAZ,GAAkB,iBAAlB,GAAsCmkB,EAAE1f,UAAxC,GAAqD,qBAA/D,CAAN;;AAEhB,UAAIi2C,gBAAgBh4C,KAAK40B,eAAL,CAAqBt3B,GAArB,CAApB;AACA,UAAI,CAAC06C,aAAL,EAAoB;AAClBA,wBAAgBh4C,KAAK40B,eAAL,CAAqBt3B,GAArB,IAA4B0C,KAAKrC,KAAL,CAAW85C,UAAX,CAAsBn6C,GAAtB,CAA5C;AACA06C,sBAAcL,IAAd,CAAmBM,aAAnB,EAAkCA,aAAlC;AACD;;AAED,aAAOD,cAAcL,IAAd,CAAmB,UAAUz3C,GAAV,EAAe;AACvC,YAAI,CAAC63C,MAAMz6C,GAAN,CAAL,EAAiB;AACf,iBAAOo6C,iBAAiBx3C,GAAjB,EAAsBy3C,IAAtB,CAA2B,YAAY;AAC5C,gBAAI,CAACI,MAAMz6C,GAAN,CAAL,EAAiB0C,KAAKozB,SAAL,CAAelzB,GAAf,EAAoB5C,GAApB,EAAyBnL,SAAzB,EAAoCmjC,IAApC;AAClB,WAFM,CAAP;AAGD;AACF,OANM,EAMJqiB,IANI,CAMC,YAAW;AACjB,eAAOC,cAAcjiB,SAAd,CAAP;AACD,OARM,CAAP;;AAUA,eAASsiB,aAAT,GAAyB;AACvB,eAAOj4C,KAAK40B,eAAL,CAAqBt3B,GAArB,CAAP;AACD;;AAED,eAASy6C,KAAT,CAAez6C,GAAf,EAAoB;AAClB,eAAO0C,KAAKxC,KAAL,CAAWF,GAAX,KAAmB0C,KAAKtC,QAAL,CAAcJ,GAAd,CAA1B;AACD;AACF;AACF;AACF,C;;;;;;;ACzFY;;AAEb,IAAI1G,aAAa,wBAAjB;AACA,IAAIwiC,iBAAiBllC,mBAAOA,CAAC,EAAR,CAArB;;AAEApB,OAAOC,OAAP,GAAiB;AACfoS,OAAK2uB,UADU;AAEfvgC,OAAKwgC,UAFU;AAGfE,UAAQD;AAHO,CAAjB;;AAMA;;;;;;;AAOA,SAASF,UAAT,CAAoBvkB,OAApB,EAA6B8qB,UAA7B,EAAyC;AACvC;AACA;AACA,MAAI3vB,QAAQ,KAAKA,KAAjB;;AAEA,MAAIA,MAAM0iC,QAAN,CAAe79B,OAAf,CAAJ,EACE,MAAM,IAAIpW,KAAJ,CAAU,aAAaoW,OAAb,GAAuB,qBAAjC,CAAN;;AAEF,MAAI,CAAC3Y,WAAWE,IAAX,CAAgByY,OAAhB,CAAL,EACE,MAAM,IAAIpW,KAAJ,CAAU,aAAaoW,OAAb,GAAuB,4BAAjC,CAAN;;AAEF,MAAI8qB,UAAJ,EAAgB;AACd,QAAIA,WAAWC,KAAX,IAAoBD,WAAW1yB,KAAX,KAAqBxV,SAA7C,EACE,MAAM,IAAIgH,KAAJ,CAAU,mDAAV,CAAN;;AAEF,QAAI9D,WAAWglC,WAAWx/B,IAA1B;AACA,QAAIrE,MAAMC,OAAN,CAAcpB,QAAd,CAAJ,EAA6B;AAC3B,UAAI5B,CAAJ;AAAA,UAAOq0B,MAAMzyB,SAASQ,MAAtB;AACA,WAAKpC,IAAE,CAAP,EAAUA,IAAEq0B,GAAZ,EAAiBr0B,GAAjB;AAAsBE,sBAAc0B,SAAS5B,CAAT,CAAd;AAAtB,OACA,KAAKA,IAAE,CAAP,EAAUA,IAAEq0B,GAAZ,EAAiBr0B,GAAjB;AAAsBykD,iBAAS3oC,OAAT,EAAkBla,SAAS5B,CAAT,CAAlB,EAA+B4mC,UAA/B;AAAtB;AACD,KAJD,MAIO;AACL,UAAIhlC,QAAJ,EAAc1B,cAAc0B,QAAd;AACd6iD,eAAS3oC,OAAT,EAAkBla,QAAlB,EAA4BglC,UAA5B;AACD;;AAED,QAAIthC,QAAQshC,WAAWthC,KAAX,KAAqB,IAArB,IAA6B,KAAK4E,KAAL,CAAW5E,KAApD;AACA,QAAIA,SAAS,CAACshC,WAAWx8B,QAAzB,EACE,MAAM,IAAI1E,KAAJ,CAAU,mDAAV,CAAN;;AAEF,QAAIo8B,aAAa8E,WAAW9E,UAA5B;AACA,QAAIA,UAAJ,EAAgB;AACd,UAAIx8B,KAAJ,EAAW;AACTw8B,qBAAa;AACXqY,iBAAO,CACLrY,UADK,EAEL,EAAE,QAAQ,8EAAV,EAFK;AADI,SAAb;AAMD;AACD8E,iBAAW/G,cAAX,GAA4B,KAAKl2B,OAAL,CAAam4B,UAAb,EAAyB,IAAzB,CAA5B;AACD;AACF;;AAED7qB,QAAM0iC,QAAN,CAAe79B,OAAf,IAA0B7E,MAAMC,GAAN,CAAU4E,OAAV,IAAqB,IAA/C;;AAGA,WAAS2oC,QAAT,CAAkB3oC,OAAlB,EAA2Bla,QAA3B,EAAqCglC,UAArC,EAAiD;AAC/C,QAAI8d,SAAJ;AACA,SAAK,IAAI1kD,IAAE,CAAX,EAAcA,IAAEiX,MAAM7U,MAAtB,EAA8BpC,GAA9B,EAAmC;AACjC,UAAI2kD,KAAK1tC,MAAMjX,CAAN,CAAT;AACA,UAAI2kD,GAAGv9C,IAAH,IAAWxF,QAAf,EAAyB;AACvB8iD,oBAAYC,EAAZ;AACA;AACD;AACF;;AAED,QAAI,CAACD,SAAL,EAAgB;AACdA,kBAAY,EAAEt9C,MAAMxF,QAAR,EAAkBgD,OAAO,EAAzB,EAAZ;AACAqS,YAAM5F,IAAN,CAAWqzC,SAAX;AACD;;AAED,QAAI/d,OAAO;AACT7qB,eAASA,OADA;AAET8qB,kBAAYA,UAFH;AAGTsX,cAAQ,IAHC;AAIT77C,YAAMsjC,cAJG;AAKT5pB,kBAAY6qB,WAAW7qB;AALd,KAAX;AAOA2oC,cAAU9/C,KAAV,CAAgByM,IAAhB,CAAqBs1B,IAArB;AACA1vB,UAAMinC,MAAN,CAAapiC,OAAb,IAAwB6qB,IAAxB;AACD;;AAGD,WAASzmC,aAAT,CAAuB0B,QAAvB,EAAiC;AAC/B,QAAI,CAACqV,MAAM3U,KAAN,CAAYV,QAAZ,CAAL,EAA4B,MAAM,IAAI8D,KAAJ,CAAU,kBAAkB9D,QAA5B,CAAN;AAC7B;;AAED,SAAO,IAAP;AACD;;AAGD;;;;;;AAMA,SAAS0+B,UAAT,CAAoBxkB,OAApB,EAA6B;AAC3B;AACA,MAAI6qB,OAAO,KAAK1vB,KAAL,CAAWinC,MAAX,CAAkBpiC,OAAlB,CAAX;AACA,SAAO6qB,OAAOA,KAAKC,UAAZ,GAAyB,KAAK3vB,KAAL,CAAW0iC,QAAX,CAAoB79B,OAApB,KAAgC,KAAhE;AACD;;AAGD;;;;;;AAMA,SAASykB,aAAT,CAAuBzkB,OAAvB,EAAgC;AAC9B;AACA,MAAI7E,QAAQ,KAAKA,KAAjB;AACA,SAAOA,MAAM0iC,QAAN,CAAe79B,OAAf,CAAP;AACA,SAAO7E,MAAMC,GAAN,CAAU4E,OAAV,CAAP;AACA,SAAO7E,MAAMinC,MAAN,CAAapiC,OAAb,CAAP;AACA,OAAK,IAAI9b,IAAE,CAAX,EAAcA,IAAEiX,MAAM7U,MAAtB,EAA8BpC,GAA9B,EAAmC;AACjC,QAAI4E,QAAQqS,MAAMjX,CAAN,EAAS4E,KAArB;AACA,SAAK,IAAImf,IAAE,CAAX,EAAcA,IAAEnf,MAAMxC,MAAtB,EAA8B2hB,GAA9B,EAAmC;AACjC,UAAInf,MAAMmf,CAAN,EAASjI,OAAT,IAAoBA,OAAxB,EAAiC;AAC/BlX,cAAM8R,MAAN,CAAaqN,CAAb,EAAgB,CAAhB;AACA;AACD;AACF;AACF;AACD,SAAO,IAAP;AACD,C;;;;;;;ACtIY;;AACb1kB,OAAOC,OAAP,GAAiB,SAASslD,eAAT,CAAyBhuC,EAAzB,EAA6BC,QAA7B,EAAuCC,SAAvC,EAAkD;AACjE,MAAI9S,MAAM,GAAV;AACA,MAAIuT,OAAOX,GAAGY,KAAd;AACA,MAAIC,WAAWb,GAAGc,SAAlB;AACA,MAAIC,UAAUf,GAAGjS,MAAH,CAAUkS,QAAV,CAAd;AACA,MAAIe,cAAchB,GAAGiB,UAAH,GAAgBjB,GAAG9N,IAAH,CAAQxI,WAAR,CAAoBuW,QAApB,CAAlC;AACA,MAAIiB,iBAAiBlB,GAAGmB,aAAH,GAAmB,GAAnB,GAAyBlB,QAA9C;AACA,MAAImB,gBAAgB,CAACpB,GAAGf,IAAH,CAAQoC,SAA7B;AACA,MAAIC,aAAJ;AACA,MAAI5S,QAAQ,UAAUmS,YAAY,EAAtB,CAAZ;AACA,MAAIU,SAAS,UAAUZ,IAAvB;AACA,MAAI0nC,QAAQ,WAAW1nC,IAAvB;AACA,MAAI4E,UAAUvF,GAAGf,IAAH,CAAQvQ,KAAR,IAAiBqS,OAAjB,IAA4BA,QAAQrS,KAAlD;AAAA,MACE8W,YADF;AAEA,MAAID,OAAJ,EAAa;AACXnY,WAAO,gBAAiBuT,IAAjB,GAAyB,KAAzB,GAAkCX,GAAG9N,IAAH,CAAQ1H,OAAR,CAAgBuW,QAAQrS,KAAxB,EAA+BmS,QAA/B,EAAyCb,GAAGkC,WAA5C,CAAlC,GAA8F,IAArG;AACAsD,mBAAe,WAAW7E,IAA1B;AACD,GAHD,MAGO;AACL6E,mBAAezE,OAAf;AACD;AACD,MAAI8D,QAAQ,IAAZ;AAAA,MACEopC,cAAc,eAAettC,IAD/B;AAAA,MAEEutC,QAAQrpC,MAAMmrB,UAFhB;AAAA,MAGEiY,iBAAiB,EAHnB;AAIA,MAAIkG,QAAJ,EAAcC,OAAd,EAAuBC,MAAvB,EAA+BC,aAA/B,EAA8CC,aAA9C;AACA,MAAIhpC,WAAW2oC,MAAMx/C,KAArB,EAA4B;AAC1B6/C,oBAAgB,oBAAoB5tC,IAApC;AACA,QAAI6tC,kBAAkBN,MAAMjlB,cAA5B;AACA77B,WAAO,UAAW6gD,WAAX,GAA0B,oBAA1B,GAAkDhuC,QAAlD,GAA8D,sBAA9D,GAAwFsuC,aAAxF,GAAyG,KAAzG,GAAkHN,WAAlH,GAAiI,YAAxI;AACD,GAJD,MAIO;AACLK,oBAAgBtuC,GAAG0uB,aAAH,CAAiB7pB,KAAjB,EAAwB9D,OAAxB,EAAiCf,GAAGjS,MAApC,EAA4CiS,EAA5C,CAAhB;AACA,QAAI,CAACsuC,aAAL,EAAoB;AACpB9oC,mBAAe,oBAAoBxE,WAAnC;AACAutC,oBAAgBD,cAAc7iD,IAA9B;AACA0iD,eAAWD,MAAMn7C,OAAjB;AACAq7C,cAAUF,MAAMte,MAAhB;AACAye,aAASH,MAAMje,KAAf;AACD;AACD,MAAIwe,YAAYF,gBAAgB,SAAhC;AAAA,MACEjrC,KAAK,MAAM3C,IADb;AAAA,MAEE+tC,WAAW,YAAY/tC,IAFzB;AAAA,MAGEguC,gBAAgBT,MAAMpgD,KAHxB;AAIA,MAAI6gD,iBAAiB,CAAC3uC,GAAGlS,KAAzB,EAAgC,MAAM,IAAIgB,KAAJ,CAAU,8BAAV,CAAN;AAChC,MAAI,EAAEs/C,WAAWC,MAAb,CAAJ,EAA0B;AACxBjhD,WAAO,KAAMqhD,SAAN,GAAmB,UAA1B;AACD;AACDrhD,SAAO,SAAUi7C,KAAV,GAAmB,gBAAnB,GAAuC9mC,MAAvC,GAAiD,GAAxD;AACA,MAAIgE,WAAW2oC,MAAMx/C,KAArB,EAA4B;AAC1Bu5C,sBAAkB,GAAlB;AACA76C,WAAO,UAAWoY,YAAX,GAA2B,oBAA3B,GAAmDjE,MAAnD,GAA6D,oBAApE;AACA,QAAIitC,eAAJ,EAAqB;AACnBvG,wBAAkB,GAAlB;AACA76C,aAAO,MAAOmU,MAAP,GAAiB,KAAjB,GAA0B0sC,WAA1B,GAAyC,kBAAzC,GAA+DzoC,YAA/D,GAA+E,SAA/E,GAA4FjE,MAA5F,GAAsG,MAA7G;AACD;AACF;AACD,MAAI6sC,OAAJ,EAAa;AACX,QAAIF,MAAMU,UAAV,EAAsB;AACpBxhD,aAAO,MAAOkhD,cAAc96C,QAArB,GAAiC,GAAxC;AACD,KAFD,MAEO;AACLpG,aAAO,MAAOmU,MAAP,GAAiB,KAAjB,GAA0B+sC,cAAc96C,QAAxC,GAAoD,IAA3D;AACD;AACF,GAND,MAMO,IAAI66C,MAAJ,EAAY;AACjB,QAAIzG,MAAM5nC,GAAG9N,IAAH,CAAQ7I,IAAR,CAAa2W,EAAb,CAAV;AACA,QAAIioC,iBAAiB,EAArB;AACAL,QAAIhnC,KAAJ;AACA,QAAIinC,aAAa,UAAUD,IAAIhnC,KAA/B;AACAgnC,QAAI75C,MAAJ,GAAaugD,cAAc96C,QAA3B;AACAo0C,QAAI3mC,UAAJ,GAAiB,EAAjB;AACA,QAAIunC,gBAAgBxoC,GAAG+B,aAAvB;AACA/B,OAAG+B,aAAH,GAAmB6lC,IAAI7lC,aAAJ,GAAoB,IAAvC;AACA,QAAIkD,QAAQjF,GAAGxM,QAAH,CAAYo0C,GAAZ,EAAiBj7C,OAAjB,CAAyB,mBAAzB,EAA8C4hD,aAA9C,CAAZ;AACAvuC,OAAG+B,aAAH,GAAmB6lC,IAAI7lC,aAAJ,GAAoBymC,aAAvC;AACAp7C,WAAO,MAAO6X,KAAd;AACD,GAZM,MAYA;AACL,QAAIzD,aAAaA,cAAc,EAA/B;AACAA,eAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,UAAM,EAAN;AACAA,WAAO,OAAQmhD,aAAR,GAAyB,SAAhC;AACA,QAAIvuC,GAAGf,IAAH,CAAQ6oC,WAAZ,EAAyB;AACvB16C,aAAO,MAAP;AACD,KAFD,MAEO;AACLA,aAAO,MAAP;AACD;AACD,QAAI+gD,YAAYD,MAAMngD,MAAN,KAAiB,KAAjC,EAAwC;AACtCX,aAAO,QAASsB,KAAT,GAAkB,GAAzB;AACD,KAFD,MAEO;AACLtB,aAAO,QAASoY,YAAT,GAAyB,KAAzB,GAAkC9W,KAAlC,GAA2C,oBAA3C,GAAmEsR,GAAGiB,UAAtE,GAAoF,GAA3F;AACD;AACD7T,WAAO,uBAAP;AACA,QAAI4S,GAAG0B,SAAH,IAAgB,IAApB,EAA0B;AACxBtU,aAAO,QAAS4S,GAAG0B,SAAnB;AACD;AACD,QAAI+B,cAAc5C,WAAW,UAAWA,WAAW,CAAZ,IAAkB,EAA5B,CAAX,GAA6C,YAA/D;AAAA,QACE6C,sBAAsB7C,WAAWb,GAAGkC,WAAH,CAAerB,QAAf,CAAX,GAAsC,oBAD9D;AAEAzT,WAAO,QAASqW,WAAT,GAAwB,KAAxB,GAAiCC,mBAAjC,GAAwD,iBAA/D;AACA,QAAImrC,uBAAuBzhD,GAA3B;AACAA,UAAMoU,WAAWM,GAAX,EAAN;AACA,QAAIosC,MAAM52C,MAAN,KAAiB,KAArB,EAA4B;AAC1BlK,aAAO,MAAOmU,MAAP,GAAiB,KAAxB;AACA,UAAIotC,aAAJ,EAAmB;AACjBvhD,eAAO,QAAP;AACD;AACDA,aAAO,KAAMyhD,oBAAN,GAA8B,IAArC;AACD,KAND,MAMO;AACL,UAAIF,aAAJ,EAAmB;AACjBF,oBAAY,iBAAiB9tC,IAA7B;AACAvT,eAAO,UAAWqhD,SAAX,GAAwB,iBAAxB,GAA6CltC,MAA7C,GAAuD,WAAvD,GAAsEstC,oBAAtE,GAA8F,kBAA9F,GAAoHttC,MAApH,GAA8H,8CAA9H,GAAgLktC,SAAhL,GAA6L,+BAApM;AACD,OAHD,MAGO;AACLrhD,eAAO,MAAOqhD,SAAP,GAAoB,WAApB,GAAmCltC,MAAnC,GAA6C,KAA7C,GAAsDstC,oBAAtD,GAA8E,IAArF;AACD;AACF;AACF;AACD,MAAIX,MAAMY,SAAV,EAAqB;AACnB1hD,WAAO,UAAWqW,WAAX,GAA0B,IAA1B,GAAkC/U,KAAlC,GAA2C,KAA3C,GAAoD+U,WAApD,GAAmE,GAAnE,GAA0EC,mBAA1E,GAAiG,IAAxG;AACD;AACDtW,SAAO,KAAM66C,cAAb;AACA,MAAIiG,MAAM5wC,KAAV,EAAiB;AACf,QAAI8D,aAAJ,EAAmB;AACjBhU,aAAO,eAAP;AACD;AACF,GAJD,MAIO;AACLA,WAAO,QAAP;AACA,QAAI8gD,MAAM5wC,KAAN,KAAgBxV,SAApB,EAA+B;AAC7BsF,aAAO,IAAP;AACA,UAAIihD,MAAJ,EAAY;AACVjhD,eAAO,KAAMy6C,UAAb;AACD,OAFD,MAEO;AACLz6C,eAAO,KAAMmU,MAAb;AACD;AACF,KAPD,MAOO;AACLnU,aAAO,MAAO,CAAC8gD,MAAM5wC,KAAd,GAAuB,GAA9B;AACD;AACDlQ,WAAO,MAAP;AACAkU,oBAAgBuD,MAAMK,OAAtB;AACA,QAAI1D,aAAaA,cAAc,EAA/B;AACAA,eAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,UAAM,EAAN;AACA,QAAIoU,aAAaA,cAAc,EAA/B;AACAA,eAAW/G,IAAX,CAAgBrN,GAAhB;AACAA,UAAM,EAAN,CAnBK,CAmBK;AACV,QAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,aAAO,oBAAoBkU,iBAAiB,QAArC,IAAiD,sCAAjD,GAA2FtB,GAAG0B,SAA9F,GAA2G,iBAA3G,GAAgI1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAAhI,GAA0K,0BAA1K,GAAwM2D,MAAMK,OAA9M,GAAyN,OAAhO;AACA,UAAIlF,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,eAAO,gCAAiCyX,MAAMK,OAAvC,GAAkD,yBAAzD;AACD;AACD,UAAIlF,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,eAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,aAAO,KAAP;AACD,KATD,MASO;AACLA,aAAO,MAAP;AACD;AACD,QAAIyU,QAAQzU,GAAZ;AACAA,UAAMoU,WAAWM,GAAX,EAAN;AACA,QAAI,CAAC9B,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,UAAIpB,GAAGlS,KAAP,EAAc;AACZV,eAAO,iCAAkCyU,KAAlC,GAA2C,MAAlD;AACD,OAFD,MAEO;AACLzU,eAAO,yBAA0ByU,KAA1B,GAAmC,mBAA1C;AACD;AACF,KAND,MAMO;AACLzU,aAAO,gBAAiByU,KAAjB,GAA0B,8EAAjC;AACD;AACD,QAAIktC,kBAAkB3hD,GAAtB;AACAA,UAAMoU,WAAWM,GAAX,EAAN;AACA,QAAIssC,OAAJ,EAAa;AACX,UAAIF,MAAM52C,MAAV,EAAkB;AAChB,YAAI42C,MAAM52C,MAAN,IAAgB,MAApB,EAA4B;AAC1BlK,iBAAO,gBAAiBkW,EAAjB,GAAuB,GAAvB,GAA8B+kC,KAA9B,GAAuC,IAAvC,GAA+C/kC,EAA/C,GAAqD,WAArD,GAAoEA,EAApE,GAA0E,YAA1E,GAA0ForC,QAA1F,GAAsG,aAAtG,GAAuHprC,EAAvH,GAA6H,SAA7H,GAA0IorC,QAA1I,GAAsJ,2BAAtJ,GAAqLA,QAArL,GAAiM,mCAAjM,GAAwO1uC,GAAG0B,SAA3O,GAAwP,QAAxP,GAAoQgtC,QAApQ,GAAgR,+BAAhR,GAAmTA,QAAnT,GAA+T,iBAA/T,GAAoVxtC,cAApV,GAAsW,OAA7W;AACA,cAAIlB,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,mBAAO,MAAOshD,QAAP,GAAmB,YAAnB,GAAmClpC,YAAnC,GAAmD,IAAnD,GAA2DkpC,QAA3D,GAAuE,UAAvE,GAAqFhgD,KAArF,GAA8F,IAArG;AACD;AACDtB,iBAAO,KAAP;AACD;AACF,OARD,MAQO;AACL,YAAI8gD,MAAM52C,MAAN,KAAiB,KAArB,EAA4B;AAC1BlK,iBAAO,MAAO2hD,eAAP,GAA0B,GAAjC;AACD,SAFD,MAEO;AACL3hD,iBAAO,UAAWi7C,KAAX,GAAoB,gBAApB,GAAwC0G,eAAxC,GAA2D,sBAA3D,GAAqFzrC,EAArF,GAA2F,GAA3F,GAAkG+kC,KAAlG,GAA2G,IAA3G,GAAmH/kC,EAAnH,GAAyH,WAAzH,GAAwIA,EAAxI,GAA8I,YAA9I,GAA8JorC,QAA9J,GAA0K,aAA1K,GAA2LprC,EAA3L,GAAiM,SAAjM,GAA8MorC,QAA9M,GAA0N,2BAA1N,GAAyPA,QAAzP,GAAqQ,mCAArQ,GAA4S1uC,GAAG0B,SAA/S,GAA4T,QAA5T,GAAwUgtC,QAAxU,GAAoV,+BAApV,GAAuXA,QAAvX,GAAmY,iBAAnY,GAAwZxtC,cAAxZ,GAA0a,OAAjb;AACA,cAAIlB,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,mBAAO,MAAOshD,QAAP,GAAmB,YAAnB,GAAmClpC,YAAnC,GAAmD,IAAnD,GAA2DkpC,QAA3D,GAAuE,UAAvE,GAAqFhgD,KAArF,GAA8F,IAArG;AACD;AACDtB,iBAAO,OAAP;AACD;AACF;AACF,KApBD,MAoBO,IAAIihD,MAAJ,EAAY;AACjBjhD,aAAO,iBAAP,CADiB,CACS;AAC1B,UAAI4S,GAAGyB,YAAH,KAAoB,KAAxB,EAA+B;AAC7BrU,eAAO,oBAAoBkU,iBAAiB,QAArC,IAAiD,sCAAjD,GAA2FtB,GAAG0B,SAA9F,GAA2G,iBAA3G,GAAgI1B,GAAG9N,IAAH,CAAQ7H,cAAR,CAAuB6W,cAAvB,CAAhI,GAA0K,0BAA1K,GAAwM2D,MAAMK,OAA9M,GAAyN,OAAhO;AACA,YAAIlF,GAAGf,IAAH,CAAQ0C,QAAR,KAAqB,KAAzB,EAAgC;AAC9BvU,iBAAO,gCAAiCyX,MAAMK,OAAvC,GAAkD,yBAAzD;AACD;AACD,YAAIlF,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,iBAAO,+BAAgC4T,WAAhC,GAA+C,kCAA/C,GAAqFhB,GAAGiB,UAAxF,GAAsG,WAAtG,GAAqHvS,KAArH,GAA8H,GAArI;AACD;AACDtB,eAAO,KAAP;AACD,OATD,MASO;AACLA,eAAO,MAAP;AACD;AACDA,aAAO,8EAAP;AACA,UAAI,CAAC4S,GAAG+B,aAAJ,IAAqBX,aAAzB,EAAwC;AAAE;AACxC,YAAIpB,GAAGlS,KAAP,EAAc;AACZV,iBAAO,uCAAP;AACD,SAFD,MAEO;AACLA,iBAAO,4CAAP;AACD;AACF;AACF,KAtBM,MAsBA;AACL,UAAI8gD,MAAM52C,MAAN,KAAiB,KAArB,EAA4B;AAC1BlK,eAAO,MAAO2hD,eAAP,GAA0B,GAAjC;AACD,OAFD,MAEO;AACL3hD,eAAO,wBAAyBqhD,SAAzB,GAAsC,uCAAtC,GAAiFA,SAAjF,GAA8F,kCAA9F,GAAoIA,SAApI,GAAiJ,wCAAjJ,GAA6LnrC,EAA7L,GAAmM,GAAnM,GAA0M+kC,KAA1M,GAAmN,IAAnN,GAA2N/kC,EAA3N,GAAiO,WAAjO,GAAgPA,EAAhP,GAAsP,YAAtP,GAAsQorC,QAAtQ,GAAkR,aAAlR,GAAmSprC,EAAnS,GAAyS,SAAzS,GAAsTorC,QAAtT,GAAkU,2BAAlU,GAAiWA,QAAjW,GAA6W,mCAA7W,GAAoZ1uC,GAAG0B,SAAvZ,GAAoa,KAApa,GAA6agtC,QAA7a,GAAyb,iBAAzb,GAA8cxtC,cAA9c,GAAge,MAAve;AACA,YAAIlB,GAAGf,IAAH,CAAQ2C,OAAZ,EAAqB;AACnBxU,iBAAO,MAAOshD,QAAP,GAAmB,YAAnB,GAAmClpC,YAAnC,GAAmD,IAAnD,GAA2DkpC,QAA3D,GAAuE,UAAvE,GAAqFhgD,KAArF,GAA8F,IAArG;AACD;AACDtB,eAAO,iBAAkB2hD,eAAlB,GAAqC,KAA5C;AACD;AACF;AACD3hD,WAAO,KAAP;AACA,QAAIgU,aAAJ,EAAmB;AACjBhU,aAAO,UAAP;AACD;AACF;AACD,SAAOA,GAAP;AACD,CAhOD,C;;;;;;ACDA,kBAAkB,6QAA6Q,SAAS,0BAA0B,iCAAiC,EAAE,wBAAwB,GAAG,8B;;;;;;ACAhY,kBAAkB,qJAAqJ,eAAe,qCAAqC,YAAY,uBAAuB,6BAA6B,+BAA+B,UAAU,0CAA0C,EAAE,YAAY,EAAE,gBAAgB,uEAAuE,gBAAgB,wBAAwB,gBAAgB,kCAAkC,2CAA2C,OAAO,yCAAyC,YAAY,+BAA+B,SAAS,yCAAyC,aAAa,gBAAgB,UAAU,gBAAgB,gBAAgB,gBAAgB,4BAA4B,iCAAiC,aAAa,4BAA4B,eAAe,qCAAqC,YAAY,gBAAgB,qBAAqB,gBAAgB,YAAY,gBAAgB,qBAAqB,gBAAgB,cAAc,0CAA0C,cAAc,kDAAkD,YAAY,iCAAiC,oBAAoB,WAAW,UAAU,UAAU,WAAW,EAAE,mCAAmC,iBAAiB,aAAa,0CAA0C,aAAa,kDAAkD,gBAAgB,iCAAiC,aAAa,WAAW,kBAAkB,0CAA0C,kBAAkB,kDAAkD,aAAa,mCAAmC,yBAAyB,WAAW,gBAAgB,wCAAwC,WAAW,cAAc,eAAe,wCAAwC,WAAW,cAAc,sBAAsB,wCAAwC,WAAW,kBAAkB,iBAAiB,cAAc,iBAAiB,wCAAwC,UAAU,WAAW,EAAE,mCAAmC,GAAG,kBAAkB,WAAW,sBAAsB,4DAA4D,SAAS,UAAU,mCAAmC,EAAE,wBAAwB,mCAAmC,iCAAiC,EAAE,WAAW,gBAAgB,qBAAqB,gBAAgB,oBAAoB,gBAAgB,OAAO,WAAW,SAAS,WAAW,SAAS,WAAW,UAAU,mCAAmC,UAAU,mCAAmC,UAAU,mCAAmC,QAAQ,YAAY,gB;;;;;;ACArtF,kBAAkB,gBAAgB,iQAAiQ,WAAW,wEAAwE,YAAY,kHAAkH,aAAa,6GAA6G,WAAW,2HAA2H,6JAA6J,QAAQ,0JAA0J,SAAS,sJAAsJ,SAAS,4DAA4D,gBAAgB,EAAE,cAAc,+DAA+D,GAAG,aAAa,4GAA4G,gBAAgB,EAAE,cAAc,oBAAoB,eAAe,iJAAiJ,mBAAmB,8J;;;;;;;ACAztD;AACa;;;;;;;;;;AAEb;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEqB6Z,a;;;AAEnB,2BAAc;AAAA;;AAAA;;AAEZ,UAAK+nC,aAAL,GAAqB,CAArB;AACA,UAAKC,SAAL,GAAiB,IAAjB;AACA,UAAKC,WAAL,GAAmB,IAAnB;AAJY;AAKb;;;;mCAEcl3C,W,EAAa;AAC1B,mIAAqBA,WAArB;;AAEA,UAAIm3C,aAAa,IAAI1nD,KAAK2nD,SAAT,CAAmB;AAClCC,oBAAY,OADsB;AAElCC,kBAAU,EAFwB;AAGlCC,cAAM;AAH4B,OAAnB,CAAjB;;AAMA,WAAKN,SAAL,GAAiB,IAAIxnD,KAAKgK,IAAT,CAAc,KAAd,EAAqB09C,UAArB,CAAjB;AACA,WAAKF,SAAL,CAAepnD,CAAf,GAAmB,GAAnB;AACA,WAAKonD,SAAL,CAAelnD,CAAf,GAAmB,CAAnB;AACA,WAAKynD,KAAL,CAAWt+C,QAAX,CAAoB,KAAK+9C,SAAzB;;AAEA,UAAIt5C,OAAO,IAAX;AACAqU,kBAAY,YAAM;AAChBrU,aAAKs5C,SAAL,CAAe9+C,IAAf,GAAsB,UAAUwF,KAAKq5C,aAArC;AACAr5C,aAAKq5C,aAAL,GAAqB,CAArB;AACD,OAHD,EAGG,IAHH;;AAKAG,mBAAa,IAAI1nD,KAAK2nD,SAAT,CAAmB;AAC9BC,oBAAY,OADkB;AAE9BC,kBAAU,EAFoB;AAG9BC,cAAM;AAHwB,OAAnB,CAAb;;AAMA,WAAKL,WAAL,GAAmB,IAAIznD,KAAKgK,IAAT,CAAc,QAAd,EAAwB09C,UAAxB,CAAnB;AACA,WAAKD,WAAL,CAAiBrnD,CAAjB,GAAqBmQ,YAAY+B,MAAZ,GAAmB,CAAxC;AACA,WAAKm1C,WAAL,CAAiBnnD,CAAjB,GAAqBiQ,YAAY+B,MAAZ,GAAmB,CAAxC;AACA,WAAKm1C,WAAL,CAAiBO,KAAjB,GAAyB,GAAzB;AACA,WAAKD,KAAL,CAAWt+C,QAAX,CAAoB,KAAKg+C,WAAzB;AACD;;;oCAEe92C,Q,EAAU;AACxB,oIAAsBA,QAAtB;AACA,UAAIs3C,SAAS,EAAb;AACA,UAAItmD,UAAJ;AACA,WAAIA,IAAE,CAAN,EAASA,IAAIgP,SAAS5M,MAAtB,EAA8BpC,GAA9B,EAAmC;AACjCsmD,eAAOj1C,IAAP,CAAY;AACVlC,gBAAMH,SAAShP,CAAT,EAAYgH,QADR;AAEVJ,kBAAQoI,SAAShP,CAAT,EAAY4G,MAFV;AAGVuP,iBAAOnH,SAAShP,CAAT,EAAYqvB;AAHT,SAAZ;AAKD;AACDi3B,aAAO7vC,IAAP,CAAY,UAAC3Q,CAAD,EAAGC,CAAH,EAAS;AACnB,YAAID,EAAEqQ,KAAF,GAAUpQ,EAAEoQ,KAAhB,EAAuB,OAAO,CAAP;AACvB,YAAIrQ,EAAEqQ,KAAF,GAAUpQ,EAAEoQ,KAAhB,EAAuB,OAAO,CAAC,CAAR;AACvB,eAAO,CAAP;AACD,OAJD;AAKA,UAAI8kB,MAAM,EAAV;AACA,WAAIj7B,IAAE,CAAN,EAASA,IAAIsmD,OAAOlkD,MAApB,EAA4BpC,GAA5B,EAAiC;AAC/Bi7B,eAAOqrB,OAAOtmD,CAAP,EAAUmW,KAAV,CAAgBowC,OAAhB,CAAwB,CAAxB,IAA6B,KAA7B,GAAqCD,OAAOtmD,CAAP,EAAUmP,IAA/C,IAAuDm3C,OAAOtmD,CAAP,EAAU4G,MAAV,IAAoB,CAApB,GAAwB,MAAxB,GAAiC,EAAxF,IAA+F,IAAtG;AACD;AACD,WAAKk/C,WAAL,CAAiB/+C,IAAjB,GAAwBk0B,GAAxB;AACD;;;iCAEY;AACX;AACA,WAAK2qB,aAAL;AACD;;;2CAEsBh3C,W,EAAa;AAClC,aAAO,IAAI43C,8BAAJ,CAAyB53C,WAAzB,CAAP;AACD;;;qCAEgBuD,K,EAAO;AACtB,aAAO,IAAIs0C,wBAAJ,CAAmBt0C,KAAnB,CAAP;AACD;;;sCAEiBlD,M,EAAQ;AACxB,aAAO,IAAIy3C,yBAAJ,CAAoBz3C,MAApB,CAAP;AACD;;;oCAEeJ,I,EAAM;AACpB,aAAO,IAAI83C,uBAAJ,CAAkB93C,IAAlB,CAAP;AACD;;;;EApFwCK,8B;;kBAAtB2O,a;;;;;;;ACTR;;;;;;;;AAEb;;;;AACA;;;;;;;;;;;;IAEqBzL,gB;;;AAEnB,8BAAc;AAAA;;AAAA;;AAEZ,UAAKwe,QAAL,GAAgB,EAAhB;AACA,UAAKC,UAAL,GAAkB,EAAlB;AACA,UAAKd,QAAL,GAAgB,CAAhB;AACA,UAAKC,QAAL,GAAgB,CAAhB;AACA,UAAKjR,gBAAL,GAAwB,CAAxB;AANY;AAOb;;;;mCAccnQ,W,EAAa;AAC1B,WAAKmhB,QAAL,GAAgBnhB,YAAYsB,OAA5B;AACA,WAAK8f,QAAL,GAAgBphB,YAAYuB,OAA5B;AACD;;;+BAEUtB,I,EAAMrQ,M,EAAQ;AACvB,WAAKooD,YAAL,CAAkB/3C,IAAlB,EAAwBrQ,MAAxB,EAAgC,KAAKoyB,QAArC,EAA+C,KAAKi2B,eAApD;AACD;;;iCAEY53C,M,EAAQzQ,M,EAAQ;AAC3B,WAAKooD,YAAL,CAAkB33C,MAAlB,EAA0BzQ,MAA1B,EAAkC,KAAKqyB,UAAvC,EAAmD,KAAKi2B,iBAAxD;AACD;;;kCAEa/7C,E,EAAI;AAChB,aAAO,KAAK8lB,UAAL,CAAgB9lB,EAAhB,CAAP;AACD;;;gCAEWA,E,EAAI;AACd,aAAO,KAAK6lB,QAAL,CAAc7lB,EAAd,CAAP;AACD;;;6BAEQR,C,EAAG;AACV,WAAKwU,gBAAL,GAAwBxU,CAAxB;AACD;;;iCAEYrM,K,EAAOM,M,EAAQ09B,G,EAAKlI,O,EAAS;AACxC,UAAIh1B,OAAO,IAAX;AACA,UAAGk9B,IAAIh+B,MAAM6M,EAAV,CAAH,EAAkB;AAChB/L,eAAOk9B,IAAIh+B,MAAM6M,EAAV,CAAP;AACD,OAFD,MAEO;AACL/L,eAAOg1B,QAAQ91B,KAAR,CAAP;AACAg+B,YAAIh+B,MAAM6M,EAAV,IAAgB/L,IAAhB;AACD;AACDA,WAAK6S,MAAL,CAAYrT,MAAZ;AACA,aAAOQ,IAAP;AACD;;;oCAEe6P,I,EAAM;AACpB,aAAO,IAAIzP,sBAAJ,CAAiByP,IAAjB,CAAP;AACD;;;sCAEiBI,M,EAAQ;AACxB,aAAO,IAAI7P,sBAAJ,CAAiB6P,MAAjB,CAAP;AACD;;;wBAvDa;AACZ,aAAO,KAAK8gB,QAAZ;AACD;;;wBAEa;AACZ,aAAO,KAAKC,QAAZ;AACD;;;wBAEsB;AACrB,aAAO,KAAKjR,gBAAZ;AACD;;;;EArB2CpQ,kB;;kBAAzByD,gB;;;;;;;;;;;;;;;;;ICLAxC,sB;;;;;;;gCAEP;AACV,WAAKm3C,UAAL,GAAkB,CAAlB;AACA,WAAKC,QAAL,GAAgB,CAAhB;AACD;;;2BAEMl4C,S,EAAWC,O,EAAS;AACzB,WAAKg4C,UAAL,GAAkBj4C,SAAlB;AACA,WAAKk4C,QAAL,GAAgBj4C,OAAhB;AACD;;;wBAEe;AACd,aAAO,KAAKg4C,UAAZ;AACD;;;wBAEa;AACZ,aAAO,KAAKC,QAAZ;AACD;;;wBAEU;AACT,UAAIC,UAAUnoD,KAAKyjB,GAAL,CAAS,CAAT,EAAY,KAAKykC,QAAL,GAAgB,KAAKD,UAAjC,CAAd;AACA,UAAIn5B,IAAI9uB,KAAKktB,KAAL,CAAWi7B,UAAQ,IAAnB,CAAR;AACA,UAAIC,KAAKD,UAAU,IAAnB;AACAr5B,UAAIA,EAAEhgB,QAAF,EAAJ;AACA,aAAMggB,EAAExrB,MAAF,GAAW,CAAjB;AAAoBwrB,YAAI,MAAMA,CAAV;AAApB,OACAs5B,KAAKA,GAAGt5C,QAAH,EAAL;AACA,aAAMs5C,GAAG9kD,MAAH,GAAY,CAAlB;AAAqB8kD,aAAK,MAAMA,EAAX;AAArB,OAEA,OAAO,OAAOt5B,CAAP,GAAW,GAAX,GAAiBs5B,EAAxB;AACD;;;;;;kBA9BkBt3C,sB;;;;;;;ACArB;AACa;;;;;;;;AAEb;;;;;;;;;;;;IAEqB42C,oB;;;;;;;;;;;4BAEXrnD,S,EAAW;AACjB,UAAIgoD,aAAa,IAAI9oD,KAAK+oD,QAAT,EAAjB;AACAD,iBAAWE,SAAX,CAAqB,QAArB;AACAF,iBAAWG,SAAX,CAAqB,CAArB,EAAwB,QAAxB,EAAkC,GAAlC;AACAH,iBAAWI,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0B,KAAKrpD,KAAL,CAAWwS,KAAX,GAAiB,IAAE,KAAKxS,KAAL,CAAWyS,MAAxD,EAAgE,KAAKzS,KAAL,CAAW0S,MAAX,GAAkB,IAAE,KAAK1S,KAAL,CAAWyS,MAA/F;AACAw2C,iBAAWK,OAAX;AACAroD,gBAAU2I,QAAV,CAAmBq/C,UAAnB;AACAA,mBAAa,IAAI9oD,KAAK+oD,QAAT,EAAb;AACAD,iBAAWE,SAAX,CAAqB,QAArB;AACAF,iBAAWG,SAAX,CAAqB,CAArB,EAAwB,QAAxB,EAAkC,GAAlC;AACAH,iBAAWI,QAAX,CAAoB,KAAKrpD,KAAL,CAAWyS,MAA/B,EAAuC,KAAKzS,KAAL,CAAWyS,MAAlD,EAA0D,KAAKzS,KAAL,CAAWwS,KAArE,EAA4E,KAAKxS,KAAL,CAAW0S,MAAvF;AACAu2C,iBAAWK,OAAX;AACAroD,gBAAU2I,QAAV,CAAmBq/C,UAAnB;AACD;;;2BAEM3oD,M,EAAQ,CAEd;;;;EAnB+CP,0B;;kBAA7BuoD,oB;;;;;;;ACLrB;AACa;;;;;;;;AAEb;;;;;;;;;;;;IAEqBC,c;;;AAEnB,0BAAYvoD,KAAZ,EAAmB;AAAA;;AAAA,2HACXA,KADW;AAElB;;;;4BAEOiB,S,EAAW;AACjB,UAAI4mD,aAAa,IAAI1nD,KAAK2nD,SAAT,CAAmB;AAChCC,oBAAY,OADoB;AAEhCC,kBAAU,EAFsB;AAGhCC,cAAM;AAH0B,OAAnB,CAAjB;;AAMA,WAAKp+C,MAAL,GAAc,IAAI1J,KAAKgK,IAAT,CAAc,OAAd,EAAuB09C,UAAvB,CAAd;AACA,WAAKh+C,MAAL,CAAYtJ,CAAZ,GAAgB,CAAhB;AACA,WAAKsJ,MAAL,CAAYpJ,CAAZ,GAAgB,CAAhB;AACAQ,gBAAU2I,QAAV,CAAmB,KAAKC,MAAxB;AACD;;;2BAEMvJ,M,EAAQ;AACb,WAAKuJ,MAAL,CAAYhB,IAAZ,GAAmB,KAAK7I,KAAL,CAAW6I,IAA9B;AACD;;;;EArByC9I,0B;;kBAAvBwoD,c;;;;;;;ACLrB;AACa;;;;;;;;AAEb;;;;;;;;;;;;IAEqBC,e;;;AAEnB,2BAAYxoD,KAAZ,EAAmB;AAAA;;AAAA,6HACXA,KADW;AAElB;;;;4BAEOiB,S,EAAW;AACjB,UAAI8P,SAAS,IAAI5Q,KAAK+oD,QAAT,EAAb;AACAn4C,aAAOo4C,SAAP,CAAiB,QAAjB,EAA2B,GAA3B;AACAp4C,aAAOw4C,UAAP,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB;AACAx4C,aAAOu4C,OAAP;AACAroD,gBAAU2I,QAAV,CAAmBmH,MAAnB;AACD;;;;EAZ0CoD,gC;;kBAAxBq0C,e;;;;;;;ACLrB;AACa;;;;;;;;AAEb;;;;;;;;;;;;IAEqBC,a;;;AAEnB,yBAAYzoD,KAAZ,EAAmB;AAAA;;AAAA,yHACXA,KADW;AAElB;;;;kCAEa;AACZ,UAAImI,OAAO,IAAIhI,KAAK+oD,QAAT,EAAX;AACA/gD,WAAKihD,SAAL,CAAe,CAAf,EAAkB,QAAlB,EAA4B,GAA5B;AACAjhD,WAAKghD,SAAL,CAAe,QAAf,EAAyB,GAAzB;AACAhhD,WAAKkhD,QAAL,CAAc,CAAC,EAAf,EAAmB,CAAC,EAApB,EAAwB,EAAxB,EAA4B,EAA5B;AACAlhD,WAAKmhD,OAAL;AACA,aAAOnhD,IAAP;AACD;;;iCAEY;AACX,UAAIA,OAAO,IAAIhI,KAAK+oD,QAAT,EAAX;AACA/gD,WAAKghD,SAAL,CAAe,QAAf,EAAyB,GAAzB;AACAhhD,WAAKihD,SAAL,CAAe,CAAf,EAAkB,QAAlB,EAA4B,GAA5B;AACAjhD,WAAKohD,UAAL,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB,EAAtB;AACAphD,WAAKkhD,QAAL,CAAc,CAAd,EAAiB,CAAC,CAAlB,EAAqB,EAArB,EAAyB,CAAzB;AACAlhD,WAAKmhD,OAAL;AACA,aAAOnhD,IAAP;AACD;;;mCAEc;AACb,UAAIA,OAAO,IAAIhI,KAAK+oD,QAAT,EAAX;AACA/gD,WAAKghD,SAAL,CAAe,QAAf,EAAyB,GAAzB;AACAhhD,WAAKihD,SAAL,CAAe,CAAf,EAAkB,QAAlB,EAA4B,GAA5B;AACAjhD,WAAKkhD,QAAL,CAAc,CAAC,CAAf,EAAkB,CAAC,EAAnB,EAAuB,CAAvB,EAA0B,EAA1B;AACAlhD,WAAKmhD,OAAL;AACAnhD,WAAKihD,SAAL;AACAjhD,WAAKghD,SAAL,CAAe,QAAf,EAAyB,GAAzB;AACAhhD,WAAK8b,MAAL,CAAY,CAAZ,EAAe,CAAC,CAAhB;AACA,UAAIwQ,aAAa,GAAjB;AACA,UAAImB,aAAa,CAAjB;AACA,UAAIpjB,QAAQiiB,aAAa7zB,KAAK+0B,GAAL,CAASC,cAAYh1B,KAAKC,EAAL,GAAQ,GAApB,CAAT,CAAb,GAAgD,CAA5D;AACAsH,WAAKqhD,MAAL,CAAY/0B,UAAZ,EAAwB,CAACjiB,KAAzB;AACArK,WAAKqhD,MAAL,CAAY/0B,UAAZ,EAAwBjiB,KAAxB;AACArK,WAAKqhD,MAAL,CAAY,CAAZ,EAAe,CAAf;AACA,aAAOrhD,IAAP;AACD;;;mCAEc;AACb,UAAI0/C,aAAa,IAAI1nD,KAAK2nD,SAAT,CAAmB;AAChCC,oBAAY,OADoB;AAEhCC,kBAAU,EAFsB;AAGhCC,cAAM;AAH0B,OAAnB,CAAjB;AAKA,UAAIr/C,QAAQ,IAAIzI,KAAKgK,IAAT,CAAc,EAAd,EAAkB09C,UAAlB,CAAZ;AACAj/C,YAAM6gD,MAAN,CAAaC,GAAb,CAAiB,GAAjB,EAAsB,GAAtB;AACA9gD,YAAMrI,CAAN,GAAU,CAAV;AACAqI,YAAMnI,CAAN,GAAU,CAAC,EAAX;AACA,aAAOmI,KAAP;AACD;;;2CAEsB;AACrB,UAAI+gD,cAAe,IAAIxpD,KAAK+oD,QAAT,EAAnB;AACAS,kBAAYR,SAAZ,CAAsB,QAAtB,EAAgC,CAAhC;AACAQ,kBAAYP,SAAZ,CAAsB,CAAtB,EAAyB,QAAzB,EAAmC,GAAnC;AACAO,kBAAYN,QAAZ,CAAqB,CAAC,EAAtB,EAA0B,CAAC,CAA3B,EAA8B,EAA9B,EAAkC,CAAlC;AACAM,kBAAYlpD,CAAZ,GAAgB,CAAC,EAAjB;AACA,aAAOkpD,WAAP;AACD;;;uCAEkB;AACjB,UAAInhD,YAAa,IAAIrI,KAAK+oD,QAAT,EAAjB;AACA1gD,gBAAU2gD,SAAV,CAAoB,QAApB,EAA8B,CAA9B;AACA3gD,gBAAU6gD,QAAV,CAAmB,CAAnB,EAAsB,CAAC,CAAvB,EAA0B,EAA1B,EAA8B,CAA9B;AACA7gD,gBAAUjI,CAAV,GAAc,CAAC,EAAf;AACAiI,gBAAU/H,CAAV,GAAc,CAAC,EAAf;AACA,aAAO+H,SAAP;AACD;;;;EAxEwCR,8B;;kBAAtBygD,a;;;;;;;ACLrB;AACa;;;;;;;;;;AAEb;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEqB7oC,U;;;AAEnB,wBAAc;AAAA;;AAAA,wHACN,IADM;;AAEZ,UAAKgqC,YAAL,GAAoB,EAApB;AACA,UAAKC,cAAL,GAAsB,EAAtB;AACA,UAAKC,WAAL,GAAmB,CAAnB;AAJY;AAKb;;;;qCAEgB;AACf,WAAI,IAAIhoD,IAAE,CAAV,EAAaA,KAAK,CAAlB,EAAqBA,GAArB,EAA0B;AACxB,aAAK8nD,YAAL,CAAkBz2C,IAAlB,CAAuBhT,KAAK4pD,OAAL,CAAaC,SAAb,CAAuB,gBAAgBloD,CAAvC,CAAvB;AACA,aAAK+nD,cAAL,CAAoB12C,IAApB,CAAyBhT,KAAK4pD,OAAL,CAAaC,SAAb,CAAuB,kBAAkBloD,CAAzC,CAAzB;AACD;AACF;;;mCAEc4O,W,EAAa;AAC1B,6HAAqBA,WAArB;AACD;;;+BAEUC,I,EAAMrQ,M,EAAQ;AACvB,yHAAiBqQ,IAAjB,EAAuBrQ,MAAvB;AACA,UAAGqQ,KAAKjI,MAAL,IAAe,CAAlB,EAAqB;AACnB,aAAKohD,WAAL,GAAmB,EAAnB;AACA,aAAKG,aAAL,CAAmBt5C,KAAKpQ,CAAxB,EAA2BoQ,KAAKlQ,CAAhC,EAAmC,KAAKmpD,YAAxC;AACD;AACF;;;iCAEY74C,M,EAAQzQ,M,EAAQ;AAC3B,2HAAmByQ,MAAnB,EAA2BzQ,MAA3B;AACA,UAAGyQ,OAAOsD,QAAV,EAAoB;AAClB,aAAK41C,aAAL,CAAmBl5C,OAAOxQ,CAA1B,EAA6BwQ,OAAOtQ,CAApC,EAAuC,KAAKopD,cAA5C;AACD;AACF;;;iCAEY;AACX;AACA,UAAG,KAAKC,WAAL,GAAmB,CAAtB,EAAyB;AACvB,aAAKA,WAAL;AACA,aAAKI,eAAL,CAAqB3pD,CAArB,GAAyBK,KAAKkW,MAAL,KAAc,EAAd,GAAiB,CAAjB,GAAmB,KAAK9E,OAAjD;AACA,aAAKk4C,eAAL,CAAqBzpD,CAArB,GAAyBG,KAAKkW,MAAL,KAAc,EAAd,GAAiB,CAAjB,GAAmB,KAAK7E,OAAjD;AACD,OAJD,MAIO;AACL,aAAKi4C,eAAL,CAAqB3pD,CAArB,GAAyB,CAAC,KAAKyR,OAA/B;AACA,aAAKk4C,eAAL,CAAqBzpD,CAArB,GAAyB,CAAC,KAAKwR,OAA/B;AACD;AACF;;;2CAEsBvB,W,EAAa;AAClC,aAAO,IAAIy5C,2BAAJ,CAAsBz5C,WAAtB,CAAP;AACD;;;qCAEgBuD,K,EAAO;AACtB,aAAO,IAAIm2C,qBAAJ,CAAgBn2C,KAAhB,CAAP;AACD;;;sCAEiBlD,M,EAAQ;AACxB,aAAO,IAAIs5C,sBAAJ,CAAiBt5C,MAAjB,CAAP;AACD;;;oCAEeJ,I,EAAM;AACpB,aAAO,IAAI25C,oBAAJ,CAAe35C,IAAf,CAAP;AACD;;;kCAEapQ,C,EAAGE,C,EAAGyI,I,EAAM;AACxB,UAAIqhD,OAAO,IAAIpqD,KAAKqqD,MAAL,CAAYC,cAAhB,CAA+BvhD,IAA/B,CAAX;AACAqhD,WAAKd,MAAL,CAAYC,GAAZ,CAAgB,GAAhB;AACA,WAAKQ,eAAL,CAAqBtgD,QAArB,CAA8B2gD,IAA9B;AACAA,WAAKhqD,CAAL,GAASA,CAAT;AACAgqD,WAAK9pD,CAAL,GAASA,CAAT;AACA8pD,WAAKG,IAAL,GAAY,KAAZ;AACAH,WAAKI,UAAL,GAAkB,YAAW;AAC3B,aAAKtnC,IAAL;AACA,aAAKtiB,MAAL,CAAYC,WAAZ,CAAwB,IAAxB;AACD,OAHD;AAIAupD,WAAKK,IAAL;AACD;;;;EA3EqC55C,8B;;kBAAnB4O,U;;;;;;;ACTrB;AACa;;;;;;;;AAEb;;;;;;;;;;;;IAEqBuqC,iB;;;;;;;;;;;4BAEXlpD,S,EAAW;AACjB,UAAIgoD,aAAa9oD,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,aAAtB,CAAjB;AACA/oD,gBAAU2I,QAAV,CAAmBq/C,UAAnB;AACD;;;2BAEM3oD,M,EAAQ,CAEd;;;;EAT4CP,0B;;kBAA1BoqD,iB;;;;;;;ACLrB;AACa;;;;;;;;AAEb;;;;;;;;;;;;IAEqBC,W;;;AAEnB,uBAAYpqD,KAAZ,EAAmB;AAAA;;AAAA,qHACXA,KADW;AAElB;;;;4BAEOiB,S,EAAW;AACjB,UAAI4mD,aAAa,IAAI1nD,KAAK2nD,SAAT,CAAmB;AAChCC,oBAAY,OADoB;AAEhCC,kBAAU,EAFsB;AAGhCC,cAAM;AAH0B,OAAnB,CAAjB;;AAMA,WAAKp+C,MAAL,GAAc,IAAI1J,KAAKgK,IAAT,CAAc,OAAd,EAAuB09C,UAAvB,CAAd;AACA,WAAKh+C,MAAL,CAAYtJ,CAAZ,GAAgB,EAAhB;AACA,WAAKsJ,MAAL,CAAYpJ,CAAZ,GAAgB,MAAM,EAAtB;AACAQ,gBAAU2I,QAAV,CAAmB,KAAKC,MAAxB;AACD;;;2BAEMvJ,M,EAAQ;AACb,WAAKuJ,MAAL,CAAYhB,IAAZ,GAAmB,KAAK7I,KAAL,CAAW6I,IAA9B;AACD;;;;EArBsC9I,0B;;kBAApBqqD,W;;;;;;;ACLrB;AACa;;;;;;;;AAEb;;;;;;;;;;;;IAEqBC,Y;;;AAEnB,wBAAYrqD,KAAZ,EAAmB;AAAA;;AAAA,uHACXA,KADW;AAElB;;;;4BAEOiB,S,EAAW;AACjB,UAAI8P,SAAS5Q,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,QAAtB,CAAb;AACAj5C,aAAO04C,MAAP,CAAcC,GAAd,CAAkB,GAAlB;AACAzoD,gBAAU2I,QAAV,CAAmBmH,MAAnB;AACD;;;;EAVuCoD,gC;;kBAArBk2C,Y;;;;;;;ACLrB;AACa;;;;;;;;;;AAEb;;;;;;;;;;;;IAEqBC,U;;;AAEnB,sBAAYtqD,KAAZ,EAAmB;AAAA;;AAAA,mHACXA,KADW;AAElB;;;;2BAEMM,M,EAAQ;AACb,qHAAaA,MAAb;AACA,WAAKuqD,MAAL,CAAY1C,KAAZ,GAAoB,KAAKnoD,KAAL,CAAW0lB,UAAX,GAAwB,CAAxB,GAA4B,KAAKmlC,MAAL,CAAY1C,KAAZ,GAAkB,GAAlE;AACD;;;kCAEa;AACZ,UAAIhgD,OAAOhI,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,WAAtB,CAAX;AACA7hD,WAAKshD,MAAL,CAAYC,GAAZ,CAAgB,GAAhB;AACA,aAAOvhD,IAAP;AACD;;;iCAEY;AACX,UAAI2iD,eAAe,IAAI3qD,KAAKC,SAAT,EAAnB;;AAEA,UAAI2qD,UAAU5qD,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,UAAtB,CAAd;AACAe,cAAQtB,MAAR,CAAeC,GAAf,CAAmB,GAAnB,EAAwB,GAAxB;AACAoB,mBAAalhD,QAAb,CAAsBmhD,OAAtB;;AAEA,WAAKF,MAAL,GAAc1qD,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,YAAtB,CAAd;AACA,WAAKa,MAAL,CAAYpB,MAAZ,CAAmBC,GAAnB,CAAuB,CAAC,GAAxB,EAA6B,GAA7B;AACA,WAAKmB,MAAL,CAAY1C,KAAZ,GAAoB,CAApB;AACA2C,mBAAalhD,QAAb,CAAsB,KAAKihD,MAA3B;;AAEA,aAAOC,YAAP;AACD;;;mCAEc;AACb,UAAIE,YAAY7qD,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,YAAtB,CAAhB;AACAgB,gBAAUvB,MAAV,CAAiBC,GAAjB,CAAqB,GAArB;AACA,aAAOsB,SAAP;AACD;;;mCAEc;AACb,UAAInD,aAAa,IAAI1nD,KAAK2nD,SAAT,CAAmB;AAChCC,oBAAY,OADoB;AAEhCC,kBAAU,EAFsB;AAGhCC,cAAM;AAH0B,OAAnB,CAAjB;AAKA,UAAIr/C,QAAQ,IAAIzI,KAAKgK,IAAT,CAAc,EAAd,EAAkB09C,UAAlB,CAAZ;AACAj/C,YAAM6gD,MAAN,CAAaC,GAAb,CAAiB,GAAjB,EAAsB,GAAtB;AACA9gD,YAAMrI,CAAN,GAAU,CAAV;AACAqI,YAAMnI,CAAN,GAAU,CAAC,EAAX;AACA,aAAOmI,KAAP;AACD;;;2CAEsB;AACrB,UAAI+gD,cAAe,IAAIxpD,KAAK+oD,QAAT,EAAnB;AACAS,kBAAYR,SAAZ,CAAsB,QAAtB,EAAgC,CAAhC;AACAQ,kBAAYN,QAAZ,CAAqB,CAAC,EAAtB,EAA0B,CAAC,CAA3B,EAA8B,EAA9B,EAAkC,CAAlC;AACAM,kBAAYlpD,CAAZ,GAAgB,CAAC,EAAjB;AACA,aAAOkpD,WAAP;AACD;;;uCAEkB;AACjB,UAAInhD,YAAa,IAAIrI,KAAK+oD,QAAT,EAAjB;AACA1gD,gBAAU2gD,SAAV,CAAoB,QAApB,EAA8B,CAA9B;AACA3gD,gBAAU6gD,QAAV,CAAmB,CAAnB,EAAsB,CAAC,CAAvB,EAA0B,EAA1B,EAA8B,CAA9B;AACA7gD,gBAAUjI,CAAV,GAAc,CAAC,EAAf;AACAiI,gBAAU/H,CAAV,GAAc,CAAC,EAAf;AACA,aAAO+H,SAAP;AACD;;;;EAlEqCR,8B;;kBAAnBsiD,U;;;;;;;ACLrB;AACa;;;;;;;;;;AAEb;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEqBzqC,a;;;AAEnB,2BAAc;AAAA;;AAAA,8HACN,OADM;;AAEZ,UAAK+pC,YAAL,GAAoB,EAApB;AACA,UAAKE,WAAL,GAAmB,CAAnB;AACA,UAAKmB,kBAAL,GAA0B,IAA1B;AACA,UAAKC,aAAL,GAAqB,EAArB;AACA,UAAKC,cAAL,GAAsB,EAAtB;AACA,UAAKC,SAAL,GAAiB,IAAIC,uBAAJ,EAAjB;AACA,UAAKl6C,gBAAL,CAAsBvH,QAAtB,CAA+B,MAAKyH,gBAApC;AACA,UAAKi6C,WAAL,GAAmB,CAAnB;AACA,UAAK5D,aAAL,GAAqB,CAArB;AACA,UAAK6D,YAAL,GAAoB,IAApB;AACA,UAAKC,IAAL,GAAY,EAAZ;AAZY;AAab;;;;qCAEgB;AACf,UAAI1pD,UAAJ;AACA,WAAIA,IAAE,CAAN,EAASA,KAAK,EAAd,EAAkBA,GAAlB,EAAuB;AACrB,aAAK8nD,YAAL,CAAkBz2C,IAAlB,CAAuBhT,KAAK4pD,OAAL,CAAaC,SAAb,CAAuB,gBAAgBloD,IAAI,EAAJ,GAAS,MAAMA,CAAf,GAAmBA,CAAnC,CAAvB,CAAvB;AACD;AACF;;;mCAUc4O,W,EAAa;AAC1B,mIAAqBA,WAArB;AACA,WAAK+6C,eAAL,CAAqBC,SAArB,CAA+B,KAAKN,SAApC;AACA,WAAKH,kBAAL,GAA0B,IAAI9qD,KAAKwrD,SAAL,CAAeC,iBAAnB,CAAqC,IAArC,EAA2C;AACnEC,kBAAU,IADyD;AAEnElrD,kBAAU,IAFyD;AAGnEwnD,eAAO;AAH4D,OAA3C,CAA1B;AAKA,WAAKh3C,gBAAL,CAAsBvH,QAAtB,CAA+B,KAAKqhD,kBAApC;AACA,WAAK95C,gBAAL,CAAsBvH,QAAtB,CAA+B,KAAK0H,aAApC;;AAEA,UAAIjD,OAAO,IAAX;AACA,WAAKk9C,YAAL,GAAoB7oC,YAAY,YAAM;AACpCrU,aAAKm9C,IAAL,GAAYn9C,KAAKq5C,aAAjB;AACAr5C,aAAKq5C,aAAL,GAAqB,CAArB;AACD,OAHmB,EAGjB,IAHiB,CAApB;AAID;;;+BAEU/2C,I,EAAMrQ,M,EAAQ;AACvB,+HAAiBqQ,IAAjB,EAAuBrQ,MAAvB;;AAEA,UAAIwB,UAAJ;AACA,WAAIA,CAAJ,IAASxB,MAAT,EAAiB;AACf,YAAGA,OAAOwB,CAAP,EAAUoH,IAAV,IAAkB,SAArB,EAAgC;AAC9B,eAAK4gD,WAAL,GAAmB,EAAnB;AACA,eAAKgC,iBAAL,CAAuBn7C,IAAvB;AACA;AACD;AACF;;AAED,UAAIo7C,sBAAsBp7C,KAAKq7C,QAAL,GAAgB,CAAhB,GAAoB,GAApB,GAA0B,CAApD;AACA,UAAIC,YAAY,CAACt7C,KAAKjQ,KAAL,GAAWqrD,mBAAZ,KAAkCnrD,KAAKC,EAAL,GAAQ,GAA1C,CAAhB;AACA,UAAG8P,KAAK8Y,KAAL,GAAa,CAAhB,EAAmB;AACjB,YAAIyiC,WAAWv7C,KAAKpQ,CAAL,GAAS,KAAGK,KAAK6pB,GAAL,CAASwhC,YAAUrrD,KAAKC,EAAL,GAAQ,CAA3B,CAAZ,GAA4C,IAAED,KAAK6pB,GAAL,CAASwhC,SAAT,CAA7D;AACA,YAAIE,WAAWx7C,KAAKlQ,CAAL,GAAS,KAAGG,KAAK8pB,GAAL,CAASuhC,YAAUrrD,KAAKC,EAAL,GAAQ,CAA3B,CAAZ,GAA4C,IAAED,KAAK8pB,GAAL,CAASuhC,SAAT,CAA7D;AACA,YAAIG,WAAWz7C,KAAKpQ,CAAL,GAAS,KAAGK,KAAK6pB,GAAL,CAASwhC,YAAUrrD,KAAKC,EAAL,GAAQ,CAA3B,CAAZ,GAA4C,IAAED,KAAK6pB,GAAL,CAASwhC,SAAT,CAA7D;AACA,YAAII,WAAW17C,KAAKlQ,CAAL,GAAS,KAAGG,KAAK8pB,GAAL,CAASuhC,YAAUrrD,KAAKC,EAAL,GAAQ,CAA3B,CAAZ,GAA4C,IAAED,KAAK8pB,GAAL,CAASuhC,SAAT,CAA7D;;AAEA,YAAGrrD,KAAKkW,MAAL,KAAgB,KAAKw1C,eAAxB,EAAyC;AACvC,eAAKC,QAAL,CACEL,QADF,EAEEC,QAFF;AAIA,eAAKI,QAAL,CACEH,QADF,EAEEC,QAFF;AAID;AACF;AACF;;;iCAEYt7C,M,EAAQzQ,M,EAAQ;AAC3B,iIAAmByQ,MAAnB,EAA2BzQ,MAA3B;AACA,UAAIQ,OAAO,KAAKgT,aAAL,CAAmB/C,OAAOlE,EAA1B,CAAX;AACA/L,WAAK4qD,SAAL,CAAe,KAAKN,SAApB;AACA,UAAGr6C,OAAOsD,QAAV,EAAoB;AAClB,aAAKm4C,mBAAL,CAAyBz7C,MAAzB;AACA,aAAK06C,eAAL,CAAqBgB,aAArB,CAAmC17C,OAAOxQ,CAA1C,EAA6CwQ,OAAOtQ,CAApD,EAAuDsQ,OAAOqD,KAA9D;AACD;AACF;;;gCAEW;AACV;AACA,UAAIs4C,iBAAJ;AACA,UAAIC,gBAAgB,CAApB;AACA,UAAI7qD,UAAJ;AACA,WAAIA,IAAI,KAAKopD,aAAL,CAAmBhnD,MAAnB,GAA0B,CAAlC,EAAqCpC,KAAK,CAA1C,EAA6CA,GAA7C,EAAkD;AAChD4qD,mBAAW,KAAKxB,aAAL,CAAmBppD,CAAnB,CAAX;AACA,YAAG,CAAC4qD,QAAJ,EAAc;AACZ;AACD;;AAEDA,iBAASnsD,CAAT,IAAc,KAAK+rD,eAAL,GAAuBI,SAASjjC,KAAhC,GAAwCijC,SAAS/rD,QAAjD,GAA4DC,KAAK6pB,GAAL,CAASiiC,SAAS/rD,QAAlB,CAA1E;AACA+rD,iBAASjsD,CAAT,IAAc,KAAK6rD,eAAL,GAAuBI,SAASjjC,KAAhC,GAAwCijC,SAAS/rD,QAAjD,GAA4DC,KAAK8pB,GAAL,CAASgiC,SAAS/rD,QAAlB,CAA1E;AACA+rD,iBAASvE,KAAT,GAAiBvnD,KAAKyjB,GAAL,CAAS,CAAT,EAAYqoC,SAASvE,KAAT,GAAiB,KAAKmE,eAAL,GAAuBI,SAASE,UAA7D,CAAjB;;AAEAF,iBAASG,QAAT,IAAqB,KAAKP,eAA1B;AACA,YAAGI,SAASG,QAAT,IAAqB,CAArB,IAA0BF,gBAAgB,KAAKvB,SAAL,CAAe0B,aAA5D,EAA2E;AACzEJ,mBAAS3rD,MAAT,CAAgBC,WAAhB,CAA4B0rD,QAA5B;AACA,eAAKxB,aAAL,CAAmBppD,CAAnB,IAAwB,IAAxB;AACD,SAHD,MAGO;AACL6qD;AACD;AACF;AACD,WAAI7qD,IAAE,CAAN,EAASA,IAAI,KAAKqpD,cAAL,CAAoBjnD,MAAjC,EAAyCpC,GAAzC,EAA8C;AAC5C,YAAG,CAAC,KAAKqpD,cAAL,CAAoBrpD,CAApB,CAAJ,EAA4B;AAC5B,aAAKqpD,cAAL,CAAoBrpD,CAApB,EAAuBqmD,KAAvB,GAAgC,KAAKgD,cAAL,CAAoBrpD,CAApB,EAAuBqmD,KAAvB,GAA+B,OAAO,KAAKmE,eAA3E;AACA,YAAG,KAAKnB,cAAL,CAAoBrpD,CAApB,EAAuBqmD,KAAvB,GAA+B,IAAlC,EAAwC;AACtC,eAAKgD,cAAL,CAAoBrpD,CAApB,EAAuBf,MAAvB,CAA8BC,WAA9B,CAA0C,KAAKmqD,cAAL,CAAoBrpD,CAApB,CAA1C;AACA,eAAKqpD,cAAL,CAAoBrpD,CAApB,IAAyB,IAAzB;AACD;AACF;AAEF;;;iCAEY;AACX,WAAKwpD,WAAL;AACA,WAAK5D,aAAL;AACA,UAAG,KAAK4D,WAAL,GAAmB,KAAKF,SAAL,CAAe2B,UAAlC,IAAgD,CAAnD,EAAqD;AACnD;AACD;AACD,UAAG,KAAKjD,WAAL,GAAmB,CAAtB,EAAyB;AACvB,aAAKA,WAAL;AACA,aAAKI,eAAL,CAAqB3pD,CAArB,GAAyBK,KAAKkW,MAAL,KAAc,EAAd,GAAiB,CAAjB,GAAmB,KAAK9E,OAAjD;AACA,aAAKk4C,eAAL,CAAqBzpD,CAArB,GAAyBG,KAAKkW,MAAL,KAAc,EAAd,GAAiB,CAAjB,GAAmB,KAAK7E,OAAjD;AACA,aAAKL,gBAAL,CAAsB9Q,IAAtB,CAA2BP,CAA3B,GAA+BK,KAAKkW,MAAL,KAAc,EAAd,GAAiB,CAAhD;AACA,aAAKlF,gBAAL,CAAsB9Q,IAAtB,CAA2BL,CAA3B,GAA+BG,KAAKkW,MAAL,KAAc,EAAd,GAAiB,CAAhD;AACD,OAND,MAMO;AACL,aAAKozC,eAAL,CAAqB3pD,CAArB,GAAyB,CAAC,KAAKyR,OAA/B;AACA,aAAKk4C,eAAL,CAAqBzpD,CAArB,GAAyB,CAAC,KAAKwR,OAA/B;AACA,aAAKL,gBAAL,CAAsB9Q,IAAtB,CAA2BP,CAA3B,GAA+B,CAA/B;AACA,aAAKqR,gBAAL,CAAsB9Q,IAAtB,CAA2BL,CAA3B,GAA+B,CAA/B;AACD;AACF;;;2BAEM;AACL,UAAG,KAAK8qD,YAAR,EAAsB;AACpB/oC,sBAAc,KAAK+oC,YAAnB;AACD;AACF;;;wCAEmBx3C,Y,EAAcC,a,EAAe;AAC/C,UAAI1B,aAAc0B,iBAAiB,CAAlB,GAAuB,WAAvB,GAAqC,KAAtD;AACA,UAAGA,iBAAiB,CAApB,EAAuB;AACrB,eAAO,uBACeD,YADf,uDAEeA,YAFf,gCAAP;AAID,OALD,MAKO;AACL,eAAO,uBACeA,YADf,wBAAP;AAGD;AAEF;;;sCAEiBpD,I,EAAM;AACtB,WAAKs5C,aAAL,CAAmBt5C,KAAKpQ,CAAxB,EAA2BoQ,KAAKlQ,CAAhC,EAAmC,KAAKmpD,YAAxC;AACA,WAAK6B,eAAL,CAAqBuB,SAArB,CAA+Br8C,KAAKpQ,CAApC,EAAuCoQ,KAAKlQ,CAA5C;AACA,WAAKwsD,UAAL,CACEt8C,KAAKpQ,CADP,EAEEoQ,KAAKlQ,CAFP,EAGE,GAHF;AAKD;;;wCAEmBsQ,M,EAAQ;AAC1B,WAAKm8C,QAAL,CAAcn8C,OAAOxQ,CAArB,EAAwBwQ,OAAOtQ,CAA/B,EAAkC,MAAM,MAAIsQ,OAAOqD,KAAnD;AACA,UAAI+4C,SAAS,IAAI,KAAKp8C,OAAOqD,KAA7B;AACA,WAAK64C,UAAL,CACEl8C,OAAOxQ,CADT,EAEEwQ,OAAOtQ,CAFT,EAGE0sD,MAHF;AAKD;;;2CAEsBz8C,W,EAAa;AAClC,aAAO,IAAI08C,8BAAJ,CAAyB18C,WAAzB,CAAP;AACD;;;qCAEgBuD,K,EAAO;AACtB,aAAO,IAAIo5C,wBAAJ,CAAmBp5C,KAAnB,CAAP;AACD;;;sCAEiBlD,M,EAAQ;AACxB,aAAO,IAAIu8C,yBAAJ,CAAoBv8C,MAApB,CAAP;AACD;;;oCAEeJ,I,EAAM;AACpB,aAAO,IAAI48C,uBAAJ,CAAkB58C,IAAlB,CAAP;AACD;;;kCAEapQ,C,EAAGE,C,EAAGyI,I,EAAM;AACxB,WAAKgkD,QAAL,CAAc3sD,CAAd,EAAiBE,CAAjB,EAAoB,CAApB;;AAEA,UAAI8pD,OAAO,IAAIpqD,KAAKqqD,MAAL,CAAYC,cAAhB,CAA+BvhD,IAA/B,CAAX;AACAqhD,WAAKiD,cAAL,GAAsB,KAAKlB,eAA3B;AACA/B,WAAKd,MAAL,CAAYC,GAAZ,CAAgB,GAAhB;AACA,WAAKQ,eAAL,CAAqBtgD,QAArB,CAA8B2gD,IAA9B;AACAA,WAAKhqD,CAAL,GAASA,CAAT;AACAgqD,WAAK9pD,CAAL,GAASA,CAAT;AACA8pD,WAAKG,IAAL,GAAY,KAAZ;AACAH,WAAKkD,SAAL,GAAiBttD,KAAKutD,WAAL,CAAiBC,GAAlC;AACApD,WAAKI,UAAL,GAAkB,YAAW;AAC3B,aAAKtnC,IAAL;AACA,aAAKtiB,MAAL,CAAYC,WAAZ,CAAwB,IAAxB;AACD,OAHD;AAIAupD,WAAKK,IAAL;AACD;;;6BAEQrqD,C,EAAGE,C,EAAGgI,K,EAAO;AACpB,UAAG,CAAC,KAAK2iD,SAAL,CAAewC,QAAnB,EAA6B;AAC7B,UAAIC,OAAO1tD,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,MAAtB,CAAX;AACA6D,WAAKpE,MAAL,CAAYC,GAAZ,CAAgB,GAAhB;AACAmE,WAAKplD,KAAL,CAAWlI,CAAX,GAAestD,KAAKplD,KAAL,CAAWhI,CAAX,GAAegI,KAA9B;AACAolD,WAAK1F,KAAL,GAAa,GAAb;AACA0F,WAAKJ,SAAL,GAAiBttD,KAAKutD,WAAL,CAAiBC,GAAlC;AACAE,WAAKttD,CAAL,GAASA,CAAT;AACAstD,WAAKptD,CAAL,GAASA,CAAT;AACA,WAAKypD,eAAL,CAAqBtgD,QAArB,CAA8BikD,IAA9B;AACA,WAAK1C,cAAL,CAAoBh4C,IAApB,CAAyB06C,IAAzB;AACD;;;+BAEUttD,C,EAAGE,C,EAAGqtD,M,EAAQ;AACvBA,eAASltD,KAAKmgC,IAAL,CAAU+sB,SAAO,KAAK1C,SAAL,CAAejlC,OAAhC,CAAT;AACA,WAAI,IAAIrkB,IAAE,CAAV,EAAaA,IAAIgsD,MAAjB,EAAyBhsD,GAAzB,EAA8B;AAC5B,YAAI4qD,WAAWvsD,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,OAAtB,CAAf;AACA0C,iBAASnsD,CAAT,GAAaA,CAAb;AACAmsD,iBAASjsD,CAAT,GAAaA,CAAb;AACAisD,iBAASE,UAAT,GAAsB,CAAtB;AACAF,iBAASjD,MAAT,CAAgBC,GAAhB,CAAoB,GAApB;AACAgD,iBAASjjC,KAAT,GAAiB,IAAE7oB,KAAKkW,MAAL,KAAc,CAAjC;AACA41C,iBAAS/rD,QAAT,GAAoBC,KAAKkW,MAAL,KAAc,CAAd,GAAgBlW,KAAKC,EAAzC;AACA6rD,iBAASG,QAAT,GAAoB,IAAEjsD,KAAKkW,MAAL,KAAc,CAApC;AACA,aAAKm0C,kBAAL,CAAwBrhD,QAAxB,CAAiC8iD,QAAjC;AACA,aAAKxB,aAAL,CAAmB/3C,IAAnB,CAAwBu5C,QAAxB;AACD;AACF;;;6BAEQnsD,C,EAAGE,C,EAAG;AACb,UAAG,CAAC,KAAK2qD,SAAL,CAAe2C,QAAnB,EAA6B;AAC7B,WAAI,IAAIjsD,IAAE,CAAV,EAAaA,IAAI,CAAjB,EAAoBA,GAApB,EAAyB;AACvB,YAAI0wB,QAAQ5xB,KAAKktB,KAAL,CAAWltB,KAAKkW,MAAL,KAAc,CAAzB,CAAZ;AACA,YAAI41C,WAAWvsD,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,UAAUx3B,KAAhC,CAAf;AACAk6B,iBAASnsD,CAAT,GAAaA,IAAEK,KAAKkW,MAAL,KAAc,CAAhB,GAAkB,CAA/B;AACA41C,iBAASjsD,CAAT,GAAaA,IAAEG,KAAKkW,MAAL,KAAc,CAAhB,GAAkB,CAA/B;AACA41C,iBAASjD,MAAT,CAAgBC,GAAhB,CAAoB,GAApB;AACAgD,iBAASjjC,KAAT,GAAiB,CAAjB;AACAijC,iBAASE,UAAT,GAAsB,OAAOhsD,KAAKkW,MAAL,KAAc,IAA3C;AACA41C,iBAAS/rD,QAAT,GAAoB,CAApB;AACA+rD,iBAASvE,KAAT,GAAiB,MAAI,MAAIvnD,KAAKkW,MAAL,EAAzB;AACA41C,iBAASG,QAAT,GAAoB,EAApB;AACAH,iBAASjkD,KAAT,CAAelI,CAAf,GAAmBmsD,SAASjkD,KAAT,CAAehI,CAAf,GAAmB,MAAM,IAAEG,KAAKkW,MAAL,EAA9C;AACA,aAAKm0C,kBAAL,CAAwBrhD,QAAxB,CAAiC8iD,QAAjC;AACA,aAAKxB,aAAL,CAAmB/3C,IAAnB,CAAwBu5C,QAAxB;AACD;AACF;;;wBApPa;AACZ,aAAO,KAAKtB,SAAL,CAAejlC,OAAtB;AACD,K;sBAEW9Z,C,EAAG;AACb,WAAK++C,SAAL,CAAejlC,OAAf,GAAyB9Z,CAAzB;AACD;;;;EA9BwC2E,8B;;kBAAtB6O,a;;;;;;;ACVrB;AACa;;;;;;;;;;AAEb;;;;;;;;;;;;IAEqButC,oB;;;AAEnB,gCAAYptD,KAAZ,EAAmB;AAAA;;AAAA,4IACXA,KADW;;AAEjB,UAAKguD,SAAL,GAAiB,EAAjB;AACA,UAAK5C,SAAL,GAAiB,IAAjB;AAHiB;AAIlB;;;;8BAESnhC,Q,EAAU;AAClB,WAAKmhC,SAAL,GAAiBnhC,QAAjB;AACD;;;4BAEOhpB,S,EAAW;AACjB,UAAIgoD,aAAa9oD,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,aAAtB,CAAjB;AACA/oD,gBAAU2I,QAAV,CAAmBq/C,UAAnB;;AAEA,UAAIgF,aAAa,IAAI9tD,KAAK+oD,QAAT,EAAjB;AACA+E,iBAAW9E,SAAX,CAAqB,QAArB,EAA+B,CAA/B;AACA8E,iBAAWhqC,MAAX,CAAkB,EAAlB,EAAsB,EAAtB;AACAgqC,iBAAWzE,MAAX,CAAkB,MAAI,EAAtB,EAA0B,EAA1B;AACAyE,iBAAWzE,MAAX,CAAkB,MAAI,EAAtB,EAA0B,MAAI,EAA9B;AACAyE,iBAAWzE,MAAX,CAAkB,EAAlB,EAAsB,MAAI,EAA1B;AACAyE,iBAAWzE,MAAX,CAAkB,EAAlB,EAAsB,MAAI,EAA1B;AACAyE,iBAAWzE,MAAX,CAAkB,EAAlB,EAAsB,MAAI,EAA1B;AACAyE,iBAAWzE,MAAX,CAAkB,EAAlB,EAAsB,EAAtB;AACAyE,iBAAW3E,OAAX;;AAEA,WAAK4E,gBAAL,GAAwB,IAAI/tD,KAAKC,SAAT,EAAxB;AACA,WAAK8tD,gBAAL,CAAsBz/B,IAAtB,GAA6Bw/B,UAA7B;AACAhtD,gBAAU2I,QAAV,CAAmB,KAAKskD,gBAAxB;AACAjtD,gBAAU2I,QAAV,CAAmBqkD,UAAnB;;AAEA,UAAIE,WAAW,IAAIhuD,KAAK+oD,QAAT,EAAf;AACAiF,eAAShF,SAAT,CAAmB,QAAnB,EAA6B,GAA7B;AACAgF,eAASlqC,MAAT,CAAgB,EAAhB,EAAoB,EAApB;AACAkqC,eAAS3E,MAAT,CAAgB,MAAI,EAApB,EAAwB,EAAxB;AACA2E,eAAS3E,MAAT,CAAgB,MAAI,EAApB,EAAwB,MAAI,EAA5B;AACA2E,eAAS3E,MAAT,CAAgB,EAAhB,EAAoB,MAAI,EAAxB;AACA2E,eAAS3E,MAAT,CAAgB,EAAhB,EAAoB,MAAI,EAAxB;AACA2E,eAAS3E,MAAT,CAAgB,EAAhB,EAAoB,MAAI,EAAxB;AACA2E,eAAS3E,MAAT,CAAgB,EAAhB,EAAoB,EAApB;AACA2E,eAAS3E,MAAT,CAAgB,EAAhB,EAAoB,EAApB;AACA2E,eAAS3E,MAAT,CAAgB,EAAhB,EAAoB,MAAI,EAAxB;AACA2E,eAAS3E,MAAT,CAAgB,EAAhB,EAAoB,MAAI,EAAxB;AACA2E,eAAS3E,MAAT,CAAgB,EAAhB,EAAoB,MAAI,EAAxB;AACA2E,eAAS3E,MAAT,CAAgB,MAAI,EAApB,EAAwB,MAAI,EAA5B;AACA2E,eAAS3E,MAAT,CAAgB,MAAI,EAApB,EAAwB,EAAxB;AACA2E,eAAS3E,MAAT,CAAgB,EAAhB,EAAoB,EAApB;AACA2E,eAAS7E,OAAT;AACA,WAAK8E,eAAL,GAAuB,IAAIjuD,KAAKC,SAAT,EAAvB;AACA,WAAKguD,eAAL,CAAqB3/B,IAArB,GAA4B0/B,QAA5B;AACAltD,gBAAU2I,QAAV,CAAmB,KAAKwkD,eAAxB;AACAntD,gBAAU2I,QAAV,CAAmBukD,QAAnB;AACD;;;8BAES5tD,C,EAAGE,C,EAAG;AACd,UAAI4tD,SAASluD,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,QAAtB,CAAb;AACAqE,aAAO5E,MAAP,CAAcC,GAAd,CAAkB,GAAlB;AACA2E,aAAO9tD,CAAP,GAAWA,IAAI,KAAKP,KAAL,CAAWgS,OAA1B;AACAq8C,aAAO5tD,CAAP,GAAWA,IAAI,KAAKT,KAAL,CAAWiS,OAA1B;AACAo8C,aAAOZ,SAAP,GAAmBttD,KAAKutD,WAAL,CAAiBY,QAApC;AACAD,aAAOlG,KAAP,GAAe,GAAf;AACA,WAAK+F,gBAAL,CAAsBtkD,QAAtB,CAA+BykD,MAA/B;AACD;;;6BAEQ;AACP;AACA,WAAKD,eAAL,CAAqBG,OAArB,GAAgC,KAAKnD,SAAL,CAAeoD,YAAf,GAA8B,CAA9D;AACA,WAAKN,gBAAL,CAAsBK,OAAtB,GAAgC,KAAKnD,SAAL,CAAeqD,WAA/C;AACD;;;kCAEaluD,C,EAAGE,C,EAAG2T,K,EAAO;AACzB,UAAIzT,WAAW,CAAf;AACA,UAAGC,KAAK84B,GAAL,CAASj5B,IAAI,KAAKT,KAAL,CAAWmyB,IAAxB,IAAgC,EAAnC,EAAuC;AACrC1xB,YAAI,KAAKT,KAAL,CAAWmyB,IAAX,GAAkB,CAAlB,GAAuBvxB,KAAKkW,MAAL,KAAc,CAAzC;AACD,OAFD,MAEO,IAAGlW,KAAK84B,GAAL,CAASj5B,IAAI,KAAKT,KAAL,CAAWkyB,IAAxB,IAAgC,EAAnC,EAAuC;AAC5CzxB,YAAI,KAAKT,KAAL,CAAWkyB,IAAX,GAAkB,CAAlB,GAAuBtxB,KAAKkW,MAAL,KAAc,CAAzC;AACD,OAFM,MAEA,IAAGlW,KAAK84B,GAAL,CAASn5B,IAAI,KAAKP,KAAL,CAAWiyB,IAAxB,IAAgC,EAAnC,EAAuC;AAC5C1xB,YAAI,KAAKP,KAAL,CAAWiyB,IAAX,GAAkB,CAAlB,GAAuBrxB,KAAKkW,MAAL,KAAc,CAAzC;AACAnW,mBAAWC,KAAKC,EAAL,GAAQ,CAAnB;AACD,OAHM,MAGA,IAAGD,KAAK84B,GAAL,CAASn5B,IAAI,KAAKP,KAAL,CAAWgyB,IAAxB,IAAgC,EAAnC,EAAuC;AAC5CzxB,YAAI,KAAKP,KAAL,CAAWgyB,IAAX,GAAkB,CAAlB,GAAuBpxB,KAAKkW,MAAL,KAAc,CAAzC;AACAnW,mBAAWC,KAAKC,EAAL,GAAQ,CAAnB;AACD,OAHM,MAGA;AACL;AACD;;AAED,UAAI6tD,OAAOvuD,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,MAAtB,CAAX;AACA0E,WAAKjF,MAAL,CAAYC,GAAZ,CAAgB,GAAhB;AACAgF,WAAKnuD,CAAL,GAASA,IAAI,KAAKP,KAAL,CAAWgS,OAAxB;AACA08C,WAAKjuD,CAAL,GAASA,IAAI,KAAKT,KAAL,CAAWiS,OAAxB;AACAy8C,WAAK/tD,QAAL,GAAgBA,QAAhB;AACA+tD,WAAKjmD,KAAL,CAAWlI,CAAX,GAAemuD,KAAKjmD,KAAL,CAAWhI,CAAX,GAAe,MAAM,MAAI2T,KAAxC;AACA,WAAKg6C,eAAL,CAAqBxkD,QAArB,CAA8B8kD,IAA9B;AACA,WAAKV,SAAL,CAAe76C,IAAf,CAAoBu7C,IAApB;AACA,UAAIlhD,QAAQ,KAAK49C,SAAL,GAAiB,KAAKA,SAAL,CAAeoD,YAAhC,GAA+C,EAA3D;AACA,aAAM,KAAKR,SAAL,CAAe9pD,MAAf,GAAwBsJ,KAA9B,EAAqC;AACnCkhD,eAAO,KAAKV,SAAL,CAAe7iC,KAAf,EAAP;AACAujC,aAAK3tD,MAAL,CAAYC,WAAZ,CAAwB0tD,IAAxB;AACD;AACF;;;;EApG+C3uD,0B;;kBAA7BqtD,oB;;;;;;;ACLrB;AACa;;;;;;;;AAEb;;;;;;;;;;;;IAEqBC,c;;;AAEnB,0BAAYrtD,KAAZ,EAAmB;AAAA;;AAAA,2HACXA,KADW;AAElB;;;;4BAEOiB,S,EAAW;AACjB,UAAI4mD,aAAa,IAAI1nD,KAAK2nD,SAAT,CAAmB;AAChCC,oBAAY,OADoB;AAEhCC,kBAAU,EAFsB;AAGhCC,cAAM;AAH0B,OAAnB,CAAjB;;AAMA,WAAKp+C,MAAL,GAAc,IAAI1J,KAAKgK,IAAT,CAAc,OAAd,EAAuB09C,UAAvB,CAAd;AACA,WAAKh+C,MAAL,CAAYtJ,CAAZ,GAAgB,EAAhB;AACA,WAAKsJ,MAAL,CAAYpJ,CAAZ,GAAgB,MAAM,EAAtB;AACAQ,gBAAU2I,QAAV,CAAmB,KAAKC,MAAxB;AACD;;;2BAEMvJ,M,EAAQ;AACb,WAAKuJ,MAAL,CAAYhB,IAAZ,GAAmB,KAAK7I,KAAL,CAAW6I,IAA9B;AACD;;;;EArByC9I,0B;;kBAAvBstD,c;;;;;;;ACLrB;AACa;;;;;;;;;;AAEb;;;;;;;;;;;;IAEqBC,e;;;AAEnB,2BAAYttD,KAAZ,EAAmBiqB,QAAnB,EAA6B;AAAA;;AAAA,6HACrBjqB,KADqB;AAE5B;;;;8BAESiqB,Q,EAAU;AAClB,WAAKmhC,SAAL,GAAiBnhC,QAAjB;AACD;;;2BAEM3pB,M,EAAQ;AACb,+HAAaA,MAAb;AACA,WAAKquD,KAAL,CAAWJ,OAAX,GAAqB,KAAKnD,SAAL,IAAkB,KAAKA,SAAL,CAAewC,QAAtD;AACD;;;4BAEO3sD,S,EAAW;AACjB,UAAI8P,SAAS5Q,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,QAAtB,CAAb;AACAj5C,aAAO04C,MAAP,CAAcC,GAAd,CAAkB,GAAlB;AACA,UAAImE,OAAO1tD,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,MAAtB,CAAX;AACA6D,WAAKpE,MAAL,CAAYC,GAAZ,CAAgB,GAAhB;AACAmE,WAAKJ,SAAL,GAAiBttD,KAAKutD,WAAL,CAAiBC,GAAlC;AACAE,WAAK1F,KAAL,GAAa,GAAb;AACA,WAAKwG,KAAL,GAAad,IAAb;AACA5sD,gBAAU2I,QAAV,CAAmBikD,IAAnB;AACA5sD,gBAAU2I,QAAV,CAAmBmH,MAAnB;AACD;;;;EAzB0CoD,gC;;kBAAxBm5C,e;;;;;;;ACLrB;AACa;;;;;;;;;;AAEb;;;;;;;;;;;;IAEqBC,a;;;AAEnB,yBAAYvtD,KAAZ,EAAmB;AAAA;;AAAA,8HACXA,KADW;;AAEjB,UAAK4uD,WAAL,GAAmB,CAAnB;AAFiB;AAGlB;;;;2BAEMtuD,M,EAAQ;AACb,2HAAaA,MAAb;AACA,WAAKuqD,MAAL,CAAY1C,KAAZ,GAAqB,KAAK0C,MAAL,CAAY1C,KAAZ,GAAkB,GAAvC;AACA,WAAK0G,QAAL,CAActuD,CAAd,GAAkB,KAAKsuD,QAAL,CAActuD,CAAd,GAAgB,GAAlC;AACA,WAAK+H,KAAL,CAAW3H,QAAX,GAAsB,CAAC,CAAE,KAAKX,KAAL,CAAWqI,QAAb,GAAwB,KAAKpI,MAAL,CAAYsI,UAArC,KAAoD3H,KAAKC,EAAL,GAAQ,GAA5D,CAAtB;;AAEA,WAAK+tD,WAAL,GAAmB,KAAK5uD,KAAL,CAAW8uD,SAAX,GAAuB,KAAKF,WAAL,GAAiB,CAAxC,GAA4C,CAA/D;;AAEA,WAAKG,MAAL,CAAY5G,KAAZ,GAAoB,CAACvnD,KAAK6pB,GAAL,CAAS,KAAKmkC,WAAL,GAAmB,IAA5B,CAAD,GAAqC,GAArC,GAA2C,GAA/D;AACD;;;6BAEQ3lD,K,EAAO;AACd,6HAAeA,KAAf;AACA,WAAK4lD,QAAL,CAActuD,CAAd,GAAkB,CAAC,CAAD,GAAG,IAAE0I,MAAM8H,MAAN,CAAaqD,KAApC;AACA,WAAKy2C,MAAL,CAAY1C,KAAZ,GAAoB,CAApB;AACD;;;4BAEOlnD,S,EAAW;AACjB,4HAAcA,SAAd;AACA,WAAK4tD,QAAL,CAAcjlD,QAAd,CAAuB,KAAKtB,KAA5B;AACD;;;kCAEa;AACZ,UAAIH,OAAOhI,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,eAAe,KAAKhqD,KAAL,CAAWgvD,IAAhD,CAAX;AACA7mD,WAAKshD,MAAL,CAAYC,GAAZ,CAAgB,GAAhB,EAAqB,GAArB;AACA,aAAOvhD,IAAP;AACD;;;iCAEY;AACX,UAAI2iD,eAAe,IAAI3qD,KAAKC,SAAT,EAAnB;;AAEA,UAAI2qD,UAAU5qD,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,cAAc,KAAKhqD,KAAL,CAAWgvD,IAA/C,CAAd;AACAjE,cAAQtB,MAAR,CAAeC,GAAf,CAAmB,GAAnB,EAAwB,GAAxB;AACAoB,mBAAalhD,QAAb,CAAsBmhD,OAAtB;AACA,WAAK8D,QAAL,GAAgB9D,OAAhB;;AAEA,WAAKF,MAAL,GAAc1qD,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,YAAtB,CAAd;AACA,WAAKa,MAAL,CAAYpB,MAAZ,CAAmBC,GAAnB,CAAuB,GAAvB,EAA4B,GAA5B;AACA,WAAKmB,MAAL,CAAY1C,KAAZ,GAAoB,CAApB;;AAEA,WAAK4G,MAAL,GAAc5uD,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,YAAtB,CAAd;AACA,WAAK+E,MAAL,CAAYtF,MAAZ,CAAmBC,GAAnB,CAAuB,GAAvB,EAA4B,GAA5B;AACA,WAAKqF,MAAL,CAAY5G,KAAZ,GAAoB,CAApB;;AAEA2C,mBAAalhD,QAAb,CAAsB,KAAKihD,MAA3B;AACAC,mBAAalhD,QAAb,CAAsB,KAAKmlD,MAA3B;;AAEA,aAAOjE,YAAP;AACD;;;mCAEc;AACb,UAAIE,YAAY7qD,KAAK+J,MAAL,CAAY8/C,SAAZ,CAAsB,gBAAgB,KAAKhqD,KAAL,CAAWgvD,IAAjD,CAAhB;AACAhE,gBAAUvB,MAAV,CAAiBC,GAAjB,CAAqB,GAArB,EAA0B,GAA1B;AACAsB,gBAAUzqD,CAAV,GAAY,CAAC,CAAb;AACA,aAAOyqD,SAAP;AACD;;;mCAEc;AACb,UAAInD,aAAa,IAAI1nD,KAAK2nD,SAAT,CAAmB;AAChCC,oBAAY,OADoB;AAEhCC,kBAAU,EAFsB;AAGhCiH,gBAAQ,QAHwB;AAIhCC,yBAAiB,CAJe;AAKhCjH,cAAM;AAL0B,OAAnB,CAAjB;AAOA,UAAIr/C,QAAQ,IAAIzI,KAAKgK,IAAT,CAAc,EAAd,EAAkB09C,UAAlB,CAAZ;AACAj/C,YAAM6gD,MAAN,CAAaC,GAAb,CAAiB,GAAjB,EAAsB,GAAtB;AACA9gD,YAAMrI,CAAN,GAAU,CAAV;AACAqI,YAAMnI,CAAN,GAAU,CAAC,EAAX;AACA,aAAOmI,KAAP;AACD;;;2CAEsB;AACrB,UAAI+gD,cAAe,IAAIxpD,KAAK+oD,QAAT,EAAnB;AACAS,kBAAYR,SAAZ,CAAsB,QAAtB,EAAgC,CAAhC;AACAQ,kBAAYN,QAAZ,CAAqB,CAAC,EAAtB,EAA0B,CAAC,CAA3B,EAA8B,EAA9B,EAAkC,CAAlC;AACAM,kBAAYlpD,CAAZ,GAAgB,CAAC,EAAjB;AACA,aAAOkpD,WAAP;AACD;;;uCAEkB;AACjB,UAAInhD,YAAa,IAAIrI,KAAK+oD,QAAT,EAAjB;AACA1gD,gBAAU2gD,SAAV,CAAoB,QAApB,EAA8B,CAA9B;AACA3gD,gBAAU6gD,QAAV,CAAmB,CAAnB,EAAsB,CAAC,CAAvB,EAA0B,EAA1B,EAA8B,CAA9B;AACA7gD,gBAAUjI,CAAV,GAAc,CAAC,EAAf;AACAiI,gBAAU/H,CAAV,GAAc,CAAC,EAAf;AACA,aAAO+H,SAAP;AACD;;;;EA9FwCR,8B;;kBAAtBulD,a;;;;;;;ACLR;;;;;;;;;;IAEQlC,a;AAEnB,yBAAYrrD,KAAZ,EAAmB;AAAA;;AACjB,SAAKmvD,cAAL,GAAsB,IAAtB;AACA,SAAKC,aAAL,GAAqB,GAArB;AACA,SAAKC,SAAL,GAAiB,IAAjB;AACA,SAAKC,SAAL,GAAiB,IAAjB;AACA,SAAKC,YAAL,GAAoB,IAApB;AACA,SAAKC,WAAL,GAAmB,CAAnB;AACA,SAAK5uB,QAAL,GAAgB,CAAhB;AACA,SAAKza,OAAL,GAAe,KAAKya,QAApB;AACD;;;;wBACgB;AACf,aAAO,KAAK4uB,WAAZ;AACD;;;wBACmB;AAClB,aAAO,KAAKL,cAAZ;AACD;;;wBACkB;AACjB,aAAO,KAAKC,aAAZ;AACD;;;wBACc;AACb,aAAO,KAAKC,SAAZ;AACD;;;wBACc;AACb,aAAO,KAAKC,SAAZ;AACD;;;wBACiB;AAChB,aAAO,KAAKC,YAAZ;AACD;;;wBACa;AACZ,aAAO,KAAK3uB,QAAZ;AACD,K;sBACWv0B,C,EAAG;AACbA,UAAIzL,KAAK4iB,GAAL,CAAS,CAAT,EAAY5iB,KAAKyjB,GAAL,CAAS,CAAT,EAAYhY,CAAZ,CAAZ,CAAJ;AACA,WAAKu0B,QAAL,GAAgBv0B,CAAhB;AACA,WAAK8iD,cAAL,GAAsBvuD,KAAKiW,KAAL,CAAW,OAAKxK,CAAL,GAAOA,CAAlB,CAAtB;AACA,WAAK+iD,aAAL,GAAqBxuD,KAAKiW,KAAL,CAAW,MAAIxK,CAAf,CAArB;AACA,WAAKgjD,SAAL,GAAkBhjD,IAAI,GAAtB;AACA,WAAKijD,SAAL,GAAkBjjD,IAAI,GAAtB;AACA,WAAKkjD,YAAL,GAAqBljD,IAAI,GAAzB;AACA,UAAGA,IAAI,GAAP,EAAY;AACV,aAAKmjD,WAAL,GAAmB,CAAnB;AACD,OAFD,MAEO,IAAGnjD,IAAI,GAAP,EAAY;AACjB,aAAKmjD,WAAL,GAAmB,CAAnB;AACD,OAFM,MAEA,IAAGnjD,IAAI,GAAP,EAAY;AACjB,aAAKmjD,WAAL,GAAmB,CAAnB;AACD,OAFM,MAEA;AACL,aAAKA,WAAL,GAAmB,CAAnB;AACD;AACD,WAAK5uB,QAAL,GAAgBv0B,CAAhB;AACD;;;;;;kBAnDkBg/C,a;;;;;;;ACFR;;;;;;;;AAEb;;;;;;;;;;;;IAEqBvrC,Y;;;;;;;;;;;+BAERnP,I,EAAMrQ,M,EAAQ,CAExB;;;iCAEYyQ,M,EAAQzQ,M,EAAQ,CAE5B;;;+BAEUyS,I,EAAM;AACfA;AACD;;;2BAEM,CAEN;;;;EAhBuCtC,kB;;kBAArBqP,Y","file":"jsbattle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a03ec3a82f7fdab379f0","module.exports = function() {\r\n\tthrow new Error(\"define cannot be used indirect\");\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-define.js\n// module id = 0\n// module chunks = 0","/* globals PIXI */\n'use strict';\n\nimport AbstractView from \"../abstract/AbstractView.js\";\n\nexport default class AbstractPixiView extends AbstractView {\n\n  constructor(model) {\n    super(model);\n    this._model = model;\n    this._view = new PIXI.Container();\n    this._create(this._view);\n  }\n\n  update(events) {\n    super.update(events);\n    if(this._model.x !== undefined) {\n      this._view.x = this._model.x;\n    }\n    if(this._model.y !== undefined) {\n      this._view.y = this._model.y;\n    }\n    if(this._model.angle !== undefined) {\n      this._view.rotation = this._model.angle * (Math.PI / 180);\n    }\n  }\n\n  destroy() {\n    super.destroy();\n    if(this.view.parent) {\n      this.view.parent.removeChild(this.view);\n    }\n  }\n\n  _create(container) {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/abstractPixi/AbstractPixiView.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = 3\n// module chunks = 0","'use strict';\n\n\nmodule.exports = {\n  copy: copy,\n  checkDataType: checkDataType,\n  checkDataTypes: checkDataTypes,\n  coerceToTypes: coerceToTypes,\n  toHash: toHash,\n  getProperty: getProperty,\n  escapeQuotes: escapeQuotes,\n  equal: require('fast-deep-equal'),\n  ucs2length: require('./ucs2length'),\n  varOccurences: varOccurences,\n  varReplace: varReplace,\n  cleanUpCode: cleanUpCode,\n  finalCleanUpCode: finalCleanUpCode,\n  schemaHasRules: schemaHasRules,\n  schemaHasRulesExcept: schemaHasRulesExcept,\n  toQuotedString: toQuotedString,\n  getPathExpr: getPathExpr,\n  getPath: getPath,\n  getData: getData,\n  unescapeFragment: unescapeFragment,\n  unescapeJsonPointer: unescapeJsonPointer,\n  escapeFragment: escapeFragment,\n  escapeJsonPointer: escapeJsonPointer\n};\n\n\nfunction copy(o, to) {\n  to = to || {};\n  for (var key in o) to[key] = o[key];\n  return to;\n}\n\n\nfunction checkDataType(dataType, data, negate) {\n  var EQUAL = negate ? ' !== ' : ' === '\n    , AND = negate ? ' || ' : ' && '\n    , OK = negate ? '!' : ''\n    , NOT = negate ? '' : '!';\n  switch (dataType) {\n    case 'null': return data + EQUAL + 'null';\n    case 'array': return OK + 'Array.isArray(' + data + ')';\n    case 'object': return '(' + OK + data + AND +\n                          'typeof ' + data + EQUAL + '\"object\"' + AND +\n                          NOT + 'Array.isArray(' + data + '))';\n    case 'integer': return '(typeof ' + data + EQUAL + '\"number\"' + AND +\n                           NOT + '(' + data + ' % 1)' +\n                           AND + data + EQUAL + data + ')';\n    default: return 'typeof ' + data + EQUAL + '\"' + dataType + '\"';\n  }\n}\n\n\nfunction checkDataTypes(dataTypes, data) {\n  switch (dataTypes.length) {\n    case 1: return checkDataType(dataTypes[0], data, true);\n    default:\n      var code = '';\n      var types = toHash(dataTypes);\n      if (types.array && types.object) {\n        code = types.null ? '(': '(!' + data + ' || ';\n        code += 'typeof ' + data + ' !== \"object\")';\n        delete types.null;\n        delete types.array;\n        delete types.object;\n      }\n      if (types.number) delete types.integer;\n      for (var t in types)\n        code += (code ? ' && ' : '' ) + checkDataType(t, data, true);\n\n      return code;\n  }\n}\n\n\nvar COERCE_TO_TYPES = toHash([ 'string', 'number', 'integer', 'boolean', 'null' ]);\nfunction coerceToTypes(optionCoerceTypes, dataTypes) {\n  if (Array.isArray(dataTypes)) {\n    var types = [];\n    for (var i=0; i<dataTypes.length; i++) {\n      var t = dataTypes[i];\n      if (COERCE_TO_TYPES[t]) types[types.length] = t;\n      else if (optionCoerceTypes === 'array' && t === 'array') types[types.length] = t;\n    }\n    if (types.length) return types;\n  } else if (COERCE_TO_TYPES[dataTypes]) {\n    return [dataTypes];\n  } else if (optionCoerceTypes === 'array' && dataTypes === 'array') {\n    return ['array'];\n  }\n}\n\n\nfunction toHash(arr) {\n  var hash = {};\n  for (var i=0; i<arr.length; i++) hash[arr[i]] = true;\n  return hash;\n}\n\n\nvar IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nvar SINGLE_QUOTE = /'|\\\\/g;\nfunction getProperty(key) {\n  return typeof key == 'number'\n          ? '[' + key + ']'\n          : IDENTIFIER.test(key)\n            ? '.' + key\n            : \"['\" + escapeQuotes(key) + \"']\";\n}\n\n\nfunction escapeQuotes(str) {\n  return str.replace(SINGLE_QUOTE, '\\\\$&')\n            .replace(/\\n/g, '\\\\n')\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\f/g, '\\\\f')\n            .replace(/\\t/g, '\\\\t');\n}\n\n\nfunction varOccurences(str, dataVar) {\n  dataVar += '[^0-9]';\n  var matches = str.match(new RegExp(dataVar, 'g'));\n  return matches ? matches.length : 0;\n}\n\n\nfunction varReplace(str, dataVar, expr) {\n  dataVar += '([^0-9])';\n  expr = expr.replace(/\\$/g, '$$$$');\n  return str.replace(new RegExp(dataVar, 'g'), expr + '$1');\n}\n\n\nvar EMPTY_ELSE = /else\\s*{\\s*}/g\n  , EMPTY_IF_NO_ELSE = /if\\s*\\([^)]+\\)\\s*\\{\\s*\\}(?!\\s*else)/g\n  , EMPTY_IF_WITH_ELSE = /if\\s*\\(([^)]+)\\)\\s*\\{\\s*\\}\\s*else(?!\\s*if)/g;\nfunction cleanUpCode(out) {\n  return out.replace(EMPTY_ELSE, '')\n            .replace(EMPTY_IF_NO_ELSE, '')\n            .replace(EMPTY_IF_WITH_ELSE, 'if (!($1))');\n}\n\n\nvar ERRORS_REGEXP = /[^v.]errors/g\n  , REMOVE_ERRORS = /var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g\n  , REMOVE_ERRORS_ASYNC = /var errors = 0;|var vErrors = null;/g\n  , RETURN_VALID = 'return errors === 0;'\n  , RETURN_TRUE = 'validate.errors = null; return true;'\n  , RETURN_ASYNC = /if \\(errors === 0\\) return data;\\s*else throw new ValidationError\\(vErrors\\);/\n  , RETURN_DATA_ASYNC = 'return data;'\n  , ROOTDATA_REGEXP = /[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g\n  , REMOVE_ROOTDATA = /if \\(rootData === undefined\\) rootData = data;/;\n\nfunction finalCleanUpCode(out, async) {\n  var matches = out.match(ERRORS_REGEXP);\n  if (matches && matches.length == 2) {\n    out = async\n          ? out.replace(REMOVE_ERRORS_ASYNC, '')\n               .replace(RETURN_ASYNC, RETURN_DATA_ASYNC)\n          : out.replace(REMOVE_ERRORS, '')\n               .replace(RETURN_VALID, RETURN_TRUE);\n  }\n\n  matches = out.match(ROOTDATA_REGEXP);\n  if (!matches || matches.length !== 3) return out;\n  return out.replace(REMOVE_ROOTDATA, '');\n}\n\n\nfunction schemaHasRules(schema, rules) {\n  if (typeof schema == 'boolean') return !schema;\n  for (var key in schema) if (rules[key]) return true;\n}\n\n\nfunction schemaHasRulesExcept(schema, rules, exceptKeyword) {\n  if (typeof schema == 'boolean') return !schema && exceptKeyword != 'not';\n  for (var key in schema) if (key != exceptKeyword && rules[key]) return true;\n}\n\n\nfunction toQuotedString(str) {\n  return '\\'' + escapeQuotes(str) + '\\'';\n}\n\n\nfunction getPathExpr(currentPath, expr, jsonPointers, isNumber) {\n  var path = jsonPointers // false by default\n              ? '\\'/\\' + ' + expr + (isNumber ? '' : '.replace(/~/g, \\'~0\\').replace(/\\\\//g, \\'~1\\')')\n              : (isNumber ? '\\'[\\' + ' + expr + ' + \\']\\'' : '\\'[\\\\\\'\\' + ' + expr + ' + \\'\\\\\\']\\'');\n  return joinPaths(currentPath, path);\n}\n\n\nfunction getPath(currentPath, prop, jsonPointers) {\n  var path = jsonPointers // false by default\n              ? toQuotedString('/' + escapeJsonPointer(prop))\n              : toQuotedString(getProperty(prop));\n  return joinPaths(currentPath, path);\n}\n\n\nvar JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nvar RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, lvl, paths) {\n  var up, jsonPointer, data, matches;\n  if ($data === '') return 'rootData';\n  if ($data[0] == '/') {\n    if (!JSON_POINTER.test($data)) throw new Error('Invalid JSON-pointer: ' + $data);\n    jsonPointer = $data;\n    data = 'rootData';\n  } else {\n    matches = $data.match(RELATIVE_JSON_POINTER);\n    if (!matches) throw new Error('Invalid JSON-pointer: ' + $data);\n    up = +matches[1];\n    jsonPointer = matches[2];\n    if (jsonPointer == '#') {\n      if (up >= lvl) throw new Error('Cannot access property/index ' + up + ' levels up, current level is ' + lvl);\n      return paths[lvl - up];\n    }\n\n    if (up > lvl) throw new Error('Cannot access data ' + up + ' levels up, current level is ' + lvl);\n    data = 'data' + ((lvl - up) || '');\n    if (!jsonPointer) return data;\n  }\n\n  var expr = data;\n  var segments = jsonPointer.split('/');\n  for (var i=0; i<segments.length; i++) {\n    var segment = segments[i];\n    if (segment) {\n      data += getProperty(unescapeJsonPointer(segment));\n      expr += ' && ' + data;\n    }\n  }\n  return expr;\n}\n\n\nfunction joinPaths (a, b) {\n  if (a == '\"\"') return b;\n  return (a + ' + ' + b).replace(/' \\+ '/g, '');\n}\n\n\nfunction unescapeFragment(str) {\n  return unescapeJsonPointer(decodeURIComponent(str));\n}\n\n\nfunction escapeFragment(str) {\n  return encodeURIComponent(escapeJsonPointer(str));\n}\n\n\nfunction escapeJsonPointer(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/compile/util.js","/* globals PIXI */\n'use strict';\n\nimport AbstractPixiView from \"./AbstractPixiView.js\";\n\nexport default class AbstractPixiTankView extends AbstractPixiView {\n\n  constructor(model) {\n    super(model);\n    this._hudView = new PIXI.Container();\n    this._createHud(this._hudView);\n  }\n\n  get body() {\n    return this._body;\n  }\n\n  get hudView() {\n    return this._hudView;\n  }\n\n  get gun() {\n    return this._gun;\n  }\n\n  get radar() {\n    return this._radar;\n  }\n\n  get label() {\n    return this._label;\n  }\n\n  get energyBar() {\n    return this._energyBar;\n  }\n\n  update(events) {\n    super.update(events);\n    this.view.rotation = 0;\n    this.body.rotation = this.model.angle * (Math.PI/180);\n    this.gun.rotation = (this.model.angle + this.model.gunAngle) * (Math.PI/180);\n    this.radar.rotation = (this.model.angle + this.model.radarAngle) * (Math.PI/180);\n    this.energyBar.scale.x = this.model.energy / this.model.maxEnergy;\n    this.label.text = this.model.fullName;\n\n    this.hudView.x = this.view.x;\n    this.hudView.y = this.view.y;\n\n    for(let i=0; i < events.length; i++) {\n      this._onEvent(events[i]);\n    }\n  }\n\n  _onEvent(event) {\n    switch (event.type) {\n      case 'shoot':\n        this._onShoot(event);\n        break;\n      case 'destroy':\n        this._onDestroy(event);\n        break;\n    }\n  }\n\n  _onShoot(event) {\n\n  }\n\n\n  _onDestroy(event) {\n    this.destroy();\n  }\n\n  _create(container) {\n    super._create(container);\n    this._body = this._createBody();\n    this._gun = this._createGun();\n    this._radar = this._createRadar();\n    container.addChild(this._body);\n    container.addChild(this._gun);\n    container.addChild(this._radar);\n  }\n\n  _createHud(container) {\n    this._label = this._createLabel();\n    this._energyBar = this._createEnergyBar();\n    container.addChild(this._createHudBackground());\n    container.addChild(this._energyBar);\n    container.addChild(this._label);\n  }\n\n  _createBody() {\n    return new PIXI.Sprite();\n  }\n\n  _createGun() {\n    return new PIXI.Sprite();\n  }\n\n  _createRadar() {\n    return new PIXI.Sprite();\n  }\n\n  _createHudBackground() {\n    return new PIXI.Sprite();\n  }\n\n  _createEnergyBar() {\n    return new PIXI.Sprite();\n  }\n\n  _createLabel() {\n    return new PIXI.Text();\n  }\n  destroy() {\n    super.destroy();\n    if(this.hudView.parent) {\n      this.hudView.parent.removeChild(this.hudView);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/abstractPixi/AbstractPixiTankView.js","// A library of seedable RNGs implemented in Javascript.\n//\n// Usage:\n//\n// var seedrandom = require('seedrandom');\n// var random = seedrandom(1); // or any seed.\n// var x = random();       // 0 <= x < 1.  Every bit is random.\n// var x = random.quick(); // 0 <= x < 1.  32 bits of randomness.\n\n// alea, a 53-bit multiply-with-carry generator by Johannes Baage.\n// Period: ~2^116\n// Reported to pass all BigCrush tests.\nvar alea = require('./lib/alea');\n\n// xor128, a pure xor-shift generator by George Marsaglia.\n// Period: 2^128-1.\n// Reported to fail: MatrixRank and LinearComp.\nvar xor128 = require('./lib/xor128');\n\n// xorwow, George Marsaglia's 160-bit xor-shift combined plus weyl.\n// Period: 2^192-2^32\n// Reported to fail: CollisionOver, SimpPoker, and LinearComp.\nvar xorwow = require('./lib/xorwow');\n\n// xorshift7, by Franois Panneton and Pierre L'ecuyer, takes\n// a different approach: it adds robustness by allowing more shifts\n// than Marsaglia's original three.  It is a 7-shift generator\n// with 256 bits, that passes BigCrush with no systmatic failures.\n// Period 2^256-1.\n// No systematic BigCrush failures reported.\nvar xorshift7 = require('./lib/xorshift7');\n\n// xor4096, by Richard Brent, is a 4096-bit xor-shift with a\n// very long period that also adds a Weyl generator. It also passes\n// BigCrush with no systematic failures.  Its long period may\n// be useful if you have many generators and need to avoid\n// collisions.\n// Period: 2^4128-2^32.\n// No systematic BigCrush failures reported.\nvar xor4096 = require('./lib/xor4096');\n\n// Tyche-i, by Samuel Neves and Filipe Araujo, is a bit-shifting random\n// number generator derived from ChaCha, a modern stream cipher.\n// https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n// Period: ~2^127\n// No systematic BigCrush failures reported.\nvar tychei = require('./lib/tychei');\n\n// The original ARC4-based prng included in this library.\n// Period: ~2^1600\nvar sr = require('./seedrandom');\n\nsr.alea = alea;\nsr.xor128 = xor128;\nsr.xorwow = xorwow;\nsr.xorshift7 = xorshift7;\nsr.xor4096 = xor4096;\nsr.tychei = tychei;\n\nmodule.exports = sr;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/seedrandom/index.js","'use strict';\n\nvar URI = require('uri-js')\n  , equal = require('fast-deep-equal')\n  , util = require('./util')\n  , SchemaObject = require('./schema_obj')\n  , traverse = require('json-schema-traverse');\n\nmodule.exports = resolve;\n\nresolve.normalizeId = normalizeId;\nresolve.fullPath = getFullPath;\nresolve.url = resolveUrl;\nresolve.ids = resolveIds;\nresolve.inlineRef = inlineRef;\nresolve.schema = resolveSchema;\n\n/**\n * [resolve and compile the references ($ref)]\n * @this   Ajv\n * @param  {Function} compile reference to schema compilation funciton (localCompile)\n * @param  {Object} root object with information about the root schema for the current schema\n * @param  {String} ref reference to resolve\n * @return {Object|Function} schema object (if the schema can be inlined) or validation function\n */\nfunction resolve(compile, root, ref) {\n  /* jshint validthis: true */\n  var refVal = this._refs[ref];\n  if (typeof refVal == 'string') {\n    if (this._refs[refVal]) refVal = this._refs[refVal];\n    else return resolve.call(this, compile, root, refVal);\n  }\n\n  refVal = refVal || this._schemas[ref];\n  if (refVal instanceof SchemaObject) {\n    return inlineRef(refVal.schema, this._opts.inlineRefs)\n            ? refVal.schema\n            : refVal.validate || this._compile(refVal);\n  }\n\n  var res = resolveSchema.call(this, root, ref);\n  var schema, v, baseId;\n  if (res) {\n    schema = res.schema;\n    root = res.root;\n    baseId = res.baseId;\n  }\n\n  if (schema instanceof SchemaObject) {\n    v = schema.validate || compile.call(this, schema.schema, root, undefined, baseId);\n  } else if (schema !== undefined) {\n    v = inlineRef(schema, this._opts.inlineRefs)\n        ? schema\n        : compile.call(this, schema, root, undefined, baseId);\n  }\n\n  return v;\n}\n\n\n/**\n * Resolve schema, its root and baseId\n * @this Ajv\n * @param  {Object} root root object with properties schema, refVal, refs\n * @param  {String} ref  reference to resolve\n * @return {Object} object with properties schema, root, baseId\n */\nfunction resolveSchema(root, ref) {\n  /* jshint validthis: true */\n  var p = URI.parse(ref)\n    , refPath = _getFullPath(p)\n    , baseId = getFullPath(this._getId(root.schema));\n  if (Object.keys(root.schema).length === 0 || refPath !== baseId) {\n    var id = normalizeId(refPath);\n    var refVal = this._refs[id];\n    if (typeof refVal == 'string') {\n      return resolveRecursive.call(this, root, refVal, p);\n    } else if (refVal instanceof SchemaObject) {\n      if (!refVal.validate) this._compile(refVal);\n      root = refVal;\n    } else {\n      refVal = this._schemas[id];\n      if (refVal instanceof SchemaObject) {\n        if (!refVal.validate) this._compile(refVal);\n        if (id == normalizeId(ref))\n          return { schema: refVal, root: root, baseId: baseId };\n        root = refVal;\n      } else {\n        return;\n      }\n    }\n    if (!root.schema) return;\n    baseId = getFullPath(this._getId(root.schema));\n  }\n  return getJsonPointer.call(this, p, baseId, root.schema, root);\n}\n\n\n/* @this Ajv */\nfunction resolveRecursive(root, ref, parsedRef) {\n  /* jshint validthis: true */\n  var res = resolveSchema.call(this, root, ref);\n  if (res) {\n    var schema = res.schema;\n    var baseId = res.baseId;\n    root = res.root;\n    var id = this._getId(schema);\n    if (id) baseId = resolveUrl(baseId, id);\n    return getJsonPointer.call(this, parsedRef, baseId, schema, root);\n  }\n}\n\n\nvar PREVENT_SCOPE_CHANGE = util.toHash(['properties', 'patternProperties', 'enum', 'dependencies', 'definitions']);\n/* @this Ajv */\nfunction getJsonPointer(parsedRef, baseId, schema, root) {\n  /* jshint validthis: true */\n  parsedRef.fragment = parsedRef.fragment || '';\n  if (parsedRef.fragment.slice(0,1) != '/') return;\n  var parts = parsedRef.fragment.split('/');\n\n  for (var i = 1; i < parts.length; i++) {\n    var part = parts[i];\n    if (part) {\n      part = util.unescapeFragment(part);\n      schema = schema[part];\n      if (schema === undefined) break;\n      var id;\n      if (!PREVENT_SCOPE_CHANGE[part]) {\n        id = this._getId(schema);\n        if (id) baseId = resolveUrl(baseId, id);\n        if (schema.$ref) {\n          var $ref = resolveUrl(baseId, schema.$ref);\n          var res = resolveSchema.call(this, root, $ref);\n          if (res) {\n            schema = res.schema;\n            root = res.root;\n            baseId = res.baseId;\n          }\n        }\n      }\n    }\n  }\n  if (schema !== undefined && schema !== root.schema)\n    return { schema: schema, root: root, baseId: baseId };\n}\n\n\nvar SIMPLE_INLINED = util.toHash([\n  'type', 'format', 'pattern',\n  'maxLength', 'minLength',\n  'maxProperties', 'minProperties',\n  'maxItems', 'minItems',\n  'maximum', 'minimum',\n  'uniqueItems', 'multipleOf',\n  'required', 'enum'\n]);\nfunction inlineRef(schema, limit) {\n  if (limit === false) return false;\n  if (limit === undefined || limit === true) return checkNoRef(schema);\n  else if (limit) return countKeys(schema) <= limit;\n}\n\n\nfunction checkNoRef(schema) {\n  var item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return false;\n      item = schema[key];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  }\n  return true;\n}\n\n\nfunction countKeys(schema) {\n  var count = 0, item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object') count += countKeys(item);\n      if (count == Infinity) return Infinity;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return Infinity;\n      if (SIMPLE_INLINED[key]) {\n        count++;\n      } else {\n        item = schema[key];\n        if (typeof item == 'object') count += countKeys(item) + 1;\n        if (count == Infinity) return Infinity;\n      }\n    }\n  }\n  return count;\n}\n\n\nfunction getFullPath(id, normalize) {\n  if (normalize !== false) id = normalizeId(id);\n  var p = URI.parse(id);\n  return _getFullPath(p);\n}\n\n\nfunction _getFullPath(p) {\n  return URI.serialize(p).split('#')[0] + '#';\n}\n\n\nvar TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n  return id ? id.replace(TRAILING_SLASH_HASH, '') : '';\n}\n\n\nfunction resolveUrl(baseId, id) {\n  id = normalizeId(id);\n  return URI.resolve(baseId, id);\n}\n\n\n/* @this Ajv */\nfunction resolveIds(schema) {\n  var schemaId = normalizeId(this._getId(schema));\n  var baseIds = {'': schemaId};\n  var fullPaths = {'': getFullPath(schemaId, false)};\n  var localRefs = {};\n  var self = this;\n\n  traverse(schema, {allKeys: true}, function(sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n    if (jsonPtr === '') return;\n    var id = self._getId(sch);\n    var baseId = baseIds[parentJsonPtr];\n    var fullPath = fullPaths[parentJsonPtr] + '/' + parentKeyword;\n    if (keyIndex !== undefined)\n      fullPath += '/' + (typeof keyIndex == 'number' ? keyIndex : util.escapeFragment(keyIndex));\n\n    if (typeof id == 'string') {\n      id = baseId = normalizeId(baseId ? URI.resolve(baseId, id) : id);\n\n      var refVal = self._refs[id];\n      if (typeof refVal == 'string') refVal = self._refs[refVal];\n      if (refVal && refVal.schema) {\n        if (!equal(sch, refVal.schema))\n          throw new Error('id \"' + id + '\" resolves to more than one schema');\n      } else if (id != normalizeId(fullPath)) {\n        if (id[0] == '#') {\n          if (localRefs[id] && !equal(sch, localRefs[id]))\n            throw new Error('id \"' + id + '\" resolves to more than one schema');\n          localRefs[id] = sch;\n        } else {\n          self._refs[id] = fullPath;\n        }\n      }\n    }\n    baseIds[jsonPtr] = baseId;\n    fullPaths[jsonPtr] = fullPath;\n  });\n\n  return localRefs;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/compile/resolve.js","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return a!==a && b!==b;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/fast-deep-equal/index.js","'use strict';\n\nvar resolve = require('./resolve');\n\nmodule.exports = {\n  Validation: errorSubclass(ValidationError),\n  MissingRef: errorSubclass(MissingRefError)\n};\n\n\nfunction ValidationError(errors) {\n  this.message = 'validation failed';\n  this.errors = errors;\n  this.ajv = this.validation = true;\n}\n\n\nMissingRefError.message = function (baseId, ref) {\n  return 'can\\'t resolve reference ' + ref + ' from id ' + baseId;\n};\n\n\nfunction MissingRefError(baseId, ref, message) {\n  this.message = message || MissingRefError.message(baseId, ref);\n  this.missingRef = resolve.url(baseId, ref);\n  this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));\n}\n\n\nfunction errorSubclass(Subclass) {\n  Subclass.prototype = Object.create(Error.prototype);\n  Subclass.prototype.constructor = Subclass;\n  return Subclass;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/compile/error_classes.js","'use strict';\n/**\n * Renders simulation of the battle. The object must be passed to\n * constructor of Simulation object\n * @see Simulation\n */\nclass Renderer {\n\n  constructor() {\n\n  }\n\n  /**\n   * Renders the battlefield. Called only at the beginning. Used usually to render\n   * background of the Simulation\n   * @param {Battlefield} - battlefield object\n   */\n  initBatlefield(battlefield) {\n\n  }\n\n  /**\n   * @return value from 0 to 1 that represents the current quality of the renderer. This parameter is controlled by Simulation object\n   * @see Simulation.setRendererQuality()\n   */\n  get quality() {\n    return 1;\n  }\n\n  set quality(v) {\n\n  }\n\n  /**\n   * Called before rendering of each frame\n   */\n  preRender() {\n\n  }\n\n  /**\n   * Called after rendering of each frame\n   */\n  postRender() {\n\n  }\n\n  /**\n   * Render a tank\n   * @param {Tank} tank - a tank to be rendered\n   * @param {Array} events - list of events related to the tank that occurred since the last call of this method\n   */\n  renderTank(tank, events) {\n\n  }\n\n  /**\n   * Renders clock of the battle\n   * @param {Number} msElapsed - time that has elapsed (in milliseconds)\n   * @param {Number} msLimit - maximum battle duration (in milliseconds)\n   */\n  renderClock(msElapsed, msLimit) {\n\n  }\n\n  /**\n   * Renders statistics of all tanks. Called once per frame\n   * @param {Array} tankList - list of all tanks that are involved in the battle\n   */\n  renderTankStats(tankList) {\n\n  }\n\n  /**\n   * Render a bullet\n   * @param {Bullet} bullet - a bullet to be rendered\n   * @param {Array} events - list of events related to the bullet that occurred since the last call of this method\n   */\n  renderBullet(bullet, events) {\n\n  }\n  /**\n   * Sets speed of the simulation. Could be used to time-scale animations so they match simulation speed\n   * @pram {Number} multiplier - simulation speed multiplier\n   */\n  setSpeed(v) {\n\n  }\n\n  stop() {\n\n  }\n}\nexport default Renderer;\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/Renderer.js","/* globals PIXI */\n'use strict';\n\nimport AbstractRenderer from \"../abstract/AbstractRenderer.js\";\nimport AbstractPixiView from \"./AbstractPixiView.js\";\nimport AbstractPixiTankView from \"./AbstractPixiTankView.js\";\nimport PixiRendererClockModel from \"./PixiRendererClockModel.js\";\n\nexport default class AbstractPixiRenderer extends AbstractRenderer  {\n\n  constructor(name) {\n    super();\n    this._name = name;\n\n    if(typeof PIXI === 'undefined') {\n      throw \"Pixi.js is required!\";\n    }\n    this._masterContainer = new PIXI.Container();\n    this._tankContainer = new PIXI.Container();\n    this._bulletContainer = new PIXI.Container();\n    this._hudContainer = new PIXI.Container();\n    this._masterContainer.addChild(this._tankContainer );\n    this._masterContainer.addChild(this._bulletContainer);\n    this._masterContainer.addChild(this._hudContainer);\n    this._renderer = null;\n    this._stage = null;\n    this._clockModel = new PixiRendererClockModel();\n    this._clockView = null;\n    this._battlefieldView = null;\n    if(window.devicePixelRatio >= 2) {\n      this._rendererScale = 2;\n    } else {\n      this._rendererScale = 1;\n    }\n  }\n\n  get stage() {\n    return this._stage;\n  }\n\n  get battlefieldView() {\n    return this._battlefieldView;\n  }\n\n  get masterContainer() {\n    return this._masterContainer;\n  }\n\n  initBatlefield(battlefield) {\n    super.initBatlefield(battlefield);\n    this._masterContainer.x = -this.offsetX;\n    this._masterContainer.y = -this.offsetY;\n\n    let rendererSettings = {\n      view: this._canvas,\n      antialias: false,\n      backgroundColor: 0xffffff,\n      resolution: this._rendererScale\n    };\n\n    this._renderer = new PIXI.autoDetectRenderer(\n      battlefield.width + 2 * battlefield.margin,\n      battlefield.height + 2 * battlefield.margin,\n      rendererSettings\n    );\n    this._stage = new PIXI.Container();\n\n    this._battlefieldView = this._createBattlefieldView(battlefield);\n    this._clockView = this._createClockView(this._clockModel);\n\n    this._stage.addChild(this._battlefieldView.view);\n    this._stage.addChild(this._masterContainer);\n    this._stage.addChild(this._clockView.view);\n\n    this._renderer.render(this._stage);\n  }\n\n  init(canvas) {\n    this._canvas = canvas;\n  }\n\n  loadAssets(done) {\n    if(!this._name) {\n      done();\n      return;\n    }\n    let loader = PIXI.loader;\n    let loadedResources = [];\n    for(let res in loader.resources) {\n      loadedResources.push(res);\n    }\n\n    this._getSpritesheetUrls(this._name, this._rendererScale)\n      .filter((url) => {\n        return loadedResources.indexOf(url) == -1;\n      })\n      .forEach((url) => {\n        loader.add(url);\n      });\n    loader.load((loader, resources) => {\n      this.onAssetsLoaded();\n      done();\n    });\n  }\n\n\n  onAssetsLoaded() {\n\n  }\n\n  preRender() {\n    this._battlefieldView.update();\n  }\n\n  renderTank(tank, events) {\n    super.renderTank(tank, events);\n    let view = this.getTankView(tank.id);\n    if(!view.parent && view.isAlive) {\n      this._tankContainer.addChild(view.view);\n      this._hudContainer.addChild(view.hudView);\n    }\n  }\n\n  renderBullet(bullet, events) {\n    super.renderBullet(bullet, events);\n    let view = this.getBulletView(bullet.id);\n    if(!view.parent && view.isAlive) {\n      this._bulletContainer.addChild(view.view);\n    }\n  }\n\n  renderClock(msElapsed, msLimit) {\n    this._clockModel.update(msElapsed, msLimit);\n    this._clockView.update();\n  }\n\n  postRender() {\n    super.postRender();\n    this._renderer.render(this._stage);\n  }\n\n  _getSpritesheetUrls(rendererName, rendererScale) {\n    let resolution = (rendererScale == 2) ? \"retina@2x\" : \"web\";\n    return [\n      `img/spritesheets/${rendererName}/${resolution}/jsbattle.json`\n    ];\n  }\n\n  _createTankView(tank) {\n    return new AbstractPixiTankView(tank);\n  }\n\n  _createBulletView(bullet) {\n    return new AbstractPixiView(bullet);\n  }\n\n  _createBattlefieldView(battlefield) {\n    return new AbstractPixiView(battlefield);\n  }\n\n  _createClockView(clock) {\n    return new AbstractPixiView(clock);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/abstractPixi/AbstractPixiRenderer.js","/* globals PIXI */\n'use strict';\n\nimport AbstractPixiView from \"./AbstractPixiView.js\";\n\nexport default class AbstractPixiBulletView extends AbstractPixiView {\n\n  constructor(model) {\n    super(model);\n  }\n\n  update(events) {\n    super.update(events);\n    this.view.scale.x = this.view.scale.y = this.model.power * 0.7 + 0.3;\n    if(this.model.exploded) {\n      this.destroy();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/abstractPixi/AbstractPixiBulletView.js","'use strict';\n\nimport AiDefinition from \"./AiDefinition.js\";\nimport Ajv from 'ajv';\nimport schema from '../schema/ubd-schema-v2.json';\n\nclass UltimateBattleDescriptor {\n\n  constructor() {\n    this._version = 2;\n    this._aiList = [];\n    this._rngSeed = (new Date()).getTime();\n    this._teamMode = false;\n  }\n\n  addAiDefinition(ai) {\n    this._aiList.push(ai);\n  }\n\n  setTeamMode(v) {\n    this._teamMode = v;\n  }\n\n  getTeamMode() {\n    return this._teamMode;\n  }\n\n  setRngSeed(seed) {\n    this._rngSeed = seed;\n  }\n\n  getVersion() {\n    return this._version;\n  }\n\n  getAiList() {\n    return this._aiList;\n  }\n\n  getRngSeed() {\n    return this._rngSeed;\n  }\n\n  encode() {\n    let json = {\n      version: this._version,\n      rngSeed: this._rngSeed,\n      teamMode: this._teamMode,\n      aiList: []\n    };\n    for(let ai of this._aiList) {\n      json.aiList.push(ai.toJSON());\n    }\n    let raw = JSON.stringify(json);\n    return raw;\n  }\n\n  decode(data, unsecureMode) {\n    let json;\n    try {\n      json = JSON.parse(data);\n    } catch(err) {\n        throw new Error(`Cannot parse UBD file! ${err}`);\n    }\n    if(this._version !=json.version) {\n      throw new Error(`Version of UBD does not match. Version ${json.version} is not supported. Please convert to version ${this._version}`);\n    }\n    this.validateJsonData(json);\n    this._rngSeed = json.rngSeed;\n    this._teamMode = json.teamMode;\n\n    let ai;\n    for(let aiJson of json.aiList) {\n      ai = new AiDefinition();\n      if(!unsecureMode) {\n        aiJson.useSandbox = true;\n        aiJson.executionLimit = 100;\n        aiJson.initData = null;\n      }\n      ai.fromJSON(aiJson);\n      this._aiList.push(ai);\n    }\n  }\n\n  validateJsonData(json) {\n    var ajv = new Ajv();\n    var validate = ajv.compile(schema);\n    var valid = validate(json);\n    if (!valid) {\n      throw new Error(\"UBD validation failed - \" + validate.errors[0].message);\n    }\n  }\n\n  clone() {\n    let result = new UltimateBattleDescriptor();\n    result.setRngSeed(this.getRngSeed());\n    result.setTeamMode(this.getTeamMode());\n    let aiList = this.getAiList();\n    let aiClone;\n    for(let ai of aiList) {\n      aiClone = ai.clone();\n      result.addAiDefinition(ai);\n    }\n    return result;\n  }\n\n}\n\nexport default UltimateBattleDescriptor;\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/UltimateBattleDescriptor.js","'use strict';\n\nvar SUSSPEND_AI_SANDBOX_WARNING = false;\n\n/**\n * Describes AI algorithm of the tank. There could be two sources of AI scripts:\n * files or string variable. Depending on source of scripts `fromFile()` or `fromCode()`\n * methods should be used to initialize the object\n */\nclass AiDefinition {\n\n  /**\n   * Creates AiDefinition. Constructor is not available outside of\n   * `JsBattle.min.js` library. To create AiDefinition object use\n   * `JsBattle.createAiDefinition()` instead\n   */\n  constructor() {\n    let uid = (new Date()).getTime().toString();\n    uid = uid.substr(uid.length-6, 6) + \"\" + Math.round(10000000*Math.random());\n    uid = Number(uid);\n    uid = uid.toString(35);\n    this._name = \"\";\n    this._team = uid;\n    this._code = null;\n    this._initData = null;\n    this._useSandbox = true;\n    this._executionLimit = 100;\n  }\n\n  /**\n   * @return JSON representation of AiDefiniton\n   */\n  toJSON() {\n    return {\n      name: this._name,\n      team: this._team,\n      code: this._code,\n      initData: this._initData,\n      useSandbox: this._useSandbox,\n      executionLimit: this.executionLimit\n    };\n  }\n\n  /**\n   * @param {object} data - JSON data to be parsed\n   */\n  fromJSON(data) {\n    this._name = data.name;\n    this._team = data.team;\n    this._code = data.code;\n    this._initData = data.initData;\n    this._useSandbox = data.useSandbox;\n    this._executionLimit = data.executionLimit;\n  }\n\n  /**\n   * @return copy of the object\n   */\n  clone() {\n    let result = new AiDefinition();\n    result.fromJSON(this.toJSON());\n    return result;\n  }\n\n  /**\n   * @return name of the AI. The same name will be assigned to the tank\n   */\n  get name() {\n    return this._name;\n  }\n\n  /**\n   * @return name of the team\n   */\n  get teamName() {\n    return this._team;\n  }\n\n  /**\n   * @return Maximum time for execution of AI script (in milliseconds)\n   */\n  get executionLimit() {\n    return this._executionLimit;\n  }\n\n  /**\n   * @param {Number} limit -  Maximum time for execution of AI script (in milliseconds)\n   */\n  set executionLimit(v) {\n    this._executionLimit = v;\n  }\n\n  /**\n   * @return path to file with code of Web Worker where the AI will be ran.\n   */\n  get filePath() {\n    if(!this._useSandbox) return null;\n    if(this._code) {\n      return \"tanks/lib/codeWorker.js\";\n    } else {\n      return `tanks/${this._name}.tank.js`;\n    }\n  }\n\n  /**\n   * @return source code of AI algorithm as a string. This property is not empty only for AIs created by `fromCode()` call\n   * @see AiDefinition.fromCode()\n   */\n  get code() {\n    return this._code;\n  }\n\n  /**\n   * @return optional initial data that is passed to the AI and can be accessed from tank info object (`info.initData`)\n   */\n  get initData() {\n    return this._initData;\n  }\n\n  /**\n   * @return true if AI should be sandboxed. Otherwise false. By default, all AIs are sandboxed.\n   */\n  get useSandbox() {\n    return this._useSandbox;\n  }\n\n  /**\n   * Creates AI definition that has source codes in a file. All AI scripts\n   * are kept in `/tanks/[tankName].tank.js` files\n   * @param {String} tankName - name of the tank. Its source code is kept in `/tanks/[tankName].tank.js`\n   * @param {object} initData - optional initial data that is passed to the AI and can be accessed from tank info object (`info.initData`)\n   */\n  fromFile(tankName, initData) {\n    if(!tankName) throw \"TankName is required\";\n    this._name = tankName;\n    this._code = null;\n    this._initData = initData !== undefined ? initData : null;\n  }\n\n  /**\n   * Creates AI definition that has the algorithm codded in provided in string parameter.\n   * @param {String} tankName - name of the tank.\n   * @param {String} code - JavaScript code of AI script.\n   * @param {object} initData - optional initial data that is passed to the AI and can be accessed from tank info object (`info.initData`)\n   */\n  fromCode(tankName, code, initData) {\n    if(!tankName) throw \"TankName is required\";\n    if(!code) throw \"Code is required\";\n    code = code.replace(/importScripts\\w*\\([^\\)]*\\)/g, '');\n    this._name = tankName;\n    this._code = code;\n    this._initData = initData !== undefined ? initData : null;\n  }\n\n  /**\n   * Set name of the team. Tanks from the same team can coomunicate with eachother and cooperate\n   * @param {string} name - unique name of the team\n   */\n  assignToTeam(teamName) {\n    this._team = teamName;\n  }\n\n  /**\n   * Allows to running code of AI in the same sandbox as the core of JsBattle game. It is\n   * potentially dangerous since code of AI Script can access code of JS Battle and\n   * influence it. However disabling sandbox can significantly increase performance\n   * (especially if you run several simulations in concurrent). Use this approach\n   * only for trusted AI code.\n   */\n  disableSandbox() {\n    if(!this._code) {\n      throw \"Sandbox can be disabled for AI created from code only.\";\n    }\n    if(!SUSSPEND_AI_SANDBOX_WARNING) {\n      console.warn(\"Disabling sandbox for AI! It could be dangerous.\");\n      SUSSPEND_AI_SANDBOX_WARNING = true;\n    }\n    this._useSandbox = false;\n  }\n\n}\n\nexport default AiDefinition;\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/AiDefinition.js","'use strict';\n\nvar util = require('./util');\n\nmodule.exports = SchemaObject;\n\nfunction SchemaObject(obj) {\n  util.copy(obj, this);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/compile/schema_obj.js","'use strict';\n\nmodule.exports = function (data, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (node) {\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        if (node === undefined) return;\n        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n        if (typeof node !== 'object') return JSON.stringify(node);\n\n        var i, out;\n        if (Array.isArray(node)) {\n            out = '[';\n            for (i = 0; i < node.length; i++) {\n                if (i) out += ',';\n                out += stringify(node[i]) || 'null';\n            }\n            return out + ']';\n        }\n\n        if (node === null) return 'null';\n\n        if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n        }\n\n        var seenIndex = seen.push(node) - 1;\n        var keys = Object.keys(node).sort(cmp && cmp(node));\n        out = '';\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n        }\n        seen.splice(seenIndex, 1);\n        return '{' + out + '}';\n    })(data);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/fast-json-stable-stringify/index.js","'use strict';\nmodule.exports = function generate_validate(it, $keyword, $ruleType) {\n  var out = '';\n  var $async = it.schema.$async === true,\n    $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, '$ref'),\n    $id = it.self._getId(it.schema);\n  if (it.isTop) {\n    out += ' var validate = ';\n    if ($async) {\n      it.async = true;\n      out += 'async ';\n    }\n    out += 'function(data, dataPath, parentData, parentDataProperty, rootData) { \\'use strict\\'; ';\n    if ($id && (it.opts.sourceCode || it.opts.processCode)) {\n      out += ' ' + ('/\\*# sourceURL=' + $id + ' */') + ' ';\n    }\n  }\n  if (typeof it.schema == 'boolean' || !($refKeywords || it.schema.$ref)) {\n    var $keyword = 'false schema';\n    var $lvl = it.level;\n    var $dataLvl = it.dataLevel;\n    var $schema = it.schema[$keyword];\n    var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n    var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n    var $breakOnError = !it.opts.allErrors;\n    var $errorKeyword;\n    var $data = 'data' + ($dataLvl || '');\n    var $valid = 'valid' + $lvl;\n    if (it.schema === false) {\n      if (it.isTop) {\n        $breakOnError = true;\n      } else {\n        out += ' var ' + ($valid) + ' = false; ';\n      }\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'false schema') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'boolean schema is false\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n    } else {\n      if (it.isTop) {\n        if ($async) {\n          out += ' return data; ';\n        } else {\n          out += ' validate.errors = null; return true; ';\n        }\n      } else {\n        out += ' var ' + ($valid) + ' = true; ';\n      }\n    }\n    if (it.isTop) {\n      out += ' }; return validate; ';\n    }\n    return out;\n  }\n  if (it.isTop) {\n    var $top = it.isTop,\n      $lvl = it.level = 0,\n      $dataLvl = it.dataLevel = 0,\n      $data = 'data';\n    it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));\n    it.baseId = it.baseId || it.rootId;\n    delete it.isTop;\n    it.dataPathArr = [undefined];\n    out += ' var vErrors = null; ';\n    out += ' var errors = 0;     ';\n    out += ' if (rootData === undefined) rootData = data; ';\n  } else {\n    var $lvl = it.level,\n      $dataLvl = it.dataLevel,\n      $data = 'data' + ($dataLvl || '');\n    if ($id) it.baseId = it.resolve.url(it.baseId, $id);\n    if ($async && !it.async) throw new Error('async schema in sync schema');\n    out += ' var errs_' + ($lvl) + ' = errors;';\n  }\n  var $valid = 'valid' + $lvl,\n    $breakOnError = !it.opts.allErrors,\n    $closingBraces1 = '',\n    $closingBraces2 = '';\n  var $errorKeyword;\n  var $typeSchema = it.schema.type,\n    $typeIsArray = Array.isArray($typeSchema);\n  if ($typeSchema && it.opts.nullable && it.schema.nullable === true) {\n    if ($typeIsArray) {\n      if ($typeSchema.indexOf('null') == -1) $typeSchema = $typeSchema.concat('null');\n    } else if ($typeSchema != 'null') {\n      $typeSchema = [$typeSchema, 'null'];\n      $typeIsArray = true;\n    }\n  }\n  if ($typeIsArray && $typeSchema.length == 1) {\n    $typeSchema = $typeSchema[0];\n    $typeIsArray = false;\n  }\n  if (it.schema.$ref && $refKeywords) {\n    if (it.opts.extendRefs == 'fail') {\n      throw new Error('$ref: validation keywords used in schema at path \"' + it.errSchemaPath + '\" (see option extendRefs)');\n    } else if (it.opts.extendRefs !== true) {\n      $refKeywords = false;\n      it.logger.warn('$ref: keywords ignored in schema at path \"' + it.errSchemaPath + '\"');\n    }\n  }\n  if (it.schema.$comment && it.opts.$comment) {\n    out += ' ' + (it.RULES.all.$comment.code(it, '$comment'));\n  }\n  if ($typeSchema) {\n    if (it.opts.coerceTypes) {\n      var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);\n    }\n    var $rulesGroup = it.RULES.types[$typeSchema];\n    if ($coerceToTypes || $typeIsArray || $rulesGroup === true || ($rulesGroup && !$shouldUseGroup($rulesGroup))) {\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type';\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type',\n        $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';\n      out += ' if (' + (it.util[$method]($typeSchema, $data, true)) + ') { ';\n      if ($coerceToTypes) {\n        var $dataType = 'dataType' + $lvl,\n          $coerced = 'coerced' + $lvl;\n        out += ' var ' + ($dataType) + ' = typeof ' + ($data) + '; ';\n        if (it.opts.coerceTypes == 'array') {\n          out += ' if (' + ($dataType) + ' == \\'object\\' && Array.isArray(' + ($data) + ')) ' + ($dataType) + ' = \\'array\\'; ';\n        }\n        out += ' var ' + ($coerced) + ' = undefined; ';\n        var $bracesCoercion = '';\n        var arr1 = $coerceToTypes;\n        if (arr1) {\n          var $type, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $type = arr1[$i += 1];\n            if ($i) {\n              out += ' if (' + ($coerced) + ' === undefined) { ';\n              $bracesCoercion += '}';\n            }\n            if (it.opts.coerceTypes == 'array' && $type != 'array') {\n              out += ' if (' + ($dataType) + ' == \\'array\\' && ' + ($data) + '.length == 1) { ' + ($coerced) + ' = ' + ($data) + ' = ' + ($data) + '[0]; ' + ($dataType) + ' = typeof ' + ($data) + ';  } ';\n            }\n            if ($type == 'string') {\n              out += ' if (' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\') ' + ($coerced) + ' = \\'\\' + ' + ($data) + '; else if (' + ($data) + ' === null) ' + ($coerced) + ' = \\'\\'; ';\n            } else if ($type == 'number' || $type == 'integer') {\n              out += ' if (' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' === null || (' + ($dataType) + ' == \\'string\\' && ' + ($data) + ' && ' + ($data) + ' == +' + ($data) + ' ';\n              if ($type == 'integer') {\n                out += ' && !(' + ($data) + ' % 1)';\n              }\n              out += ')) ' + ($coerced) + ' = +' + ($data) + '; ';\n            } else if ($type == 'boolean') {\n              out += ' if (' + ($data) + ' === \\'false\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === null) ' + ($coerced) + ' = false; else if (' + ($data) + ' === \\'true\\' || ' + ($data) + ' === 1) ' + ($coerced) + ' = true; ';\n            } else if ($type == 'null') {\n              out += ' if (' + ($data) + ' === \\'\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === false) ' + ($coerced) + ' = null; ';\n            } else if (it.opts.coerceTypes == 'array' && $type == 'array') {\n              out += ' if (' + ($dataType) + ' == \\'string\\' || ' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' == null) ' + ($coerced) + ' = [' + ($data) + ']; ';\n            }\n          }\n        }\n        out += ' ' + ($bracesCoercion) + ' if (' + ($coerced) + ' === undefined) {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else {  ';\n        var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n          $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n        out += ' ' + ($data) + ' = ' + ($coerced) + '; ';\n        if (!$dataLvl) {\n          out += 'if (' + ($parentData) + ' !== undefined)';\n        }\n        out += ' ' + ($parentData) + '[' + ($parentDataProperty) + '] = ' + ($coerced) + '; } ';\n      } else {\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      }\n      out += ' } ';\n    }\n  }\n  if (it.schema.$ref && !$refKeywords) {\n    out += ' ' + (it.RULES.all.$ref.code(it, '$ref')) + ' ';\n    if ($breakOnError) {\n      out += ' } if (errors === ';\n      if ($top) {\n        out += '0';\n      } else {\n        out += 'errs_' + ($lvl);\n      }\n      out += ') { ';\n      $closingBraces2 += '}';\n    }\n  } else {\n    var arr2 = it.RULES;\n    if (arr2) {\n      var $rulesGroup, i2 = -1,\n        l2 = arr2.length - 1;\n      while (i2 < l2) {\n        $rulesGroup = arr2[i2 += 1];\n        if ($shouldUseGroup($rulesGroup)) {\n          if ($rulesGroup.type) {\n            out += ' if (' + (it.util.checkDataType($rulesGroup.type, $data)) + ') { ';\n          }\n          if (it.opts.useDefaults && !it.compositeRule) {\n            if ($rulesGroup.type == 'object' && it.schema.properties) {\n              var $schema = it.schema.properties,\n                $schemaKeys = Object.keys($schema);\n              var arr3 = $schemaKeys;\n              if (arr3) {\n                var $propertyKey, i3 = -1,\n                  l3 = arr3.length - 1;\n                while (i3 < l3) {\n                  $propertyKey = arr3[i3 += 1];\n                  var $sch = $schema[$propertyKey];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + it.util.getProperty($propertyKey);\n                    out += '  if (' + ($passData) + ' === undefined) ' + ($passData) + ' = ';\n                    if (it.opts.useDefaults == 'shared') {\n                      out += ' ' + (it.useDefault($sch.default)) + ' ';\n                    } else {\n                      out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                    }\n                    out += '; ';\n                  }\n                }\n              }\n            } else if ($rulesGroup.type == 'array' && Array.isArray(it.schema.items)) {\n              var arr4 = it.schema.items;\n              if (arr4) {\n                var $sch, $i = -1,\n                  l4 = arr4.length - 1;\n                while ($i < l4) {\n                  $sch = arr4[$i += 1];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + '[' + $i + ']';\n                    out += '  if (' + ($passData) + ' === undefined) ' + ($passData) + ' = ';\n                    if (it.opts.useDefaults == 'shared') {\n                      out += ' ' + (it.useDefault($sch.default)) + ' ';\n                    } else {\n                      out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                    }\n                    out += '; ';\n                  }\n                }\n              }\n            }\n          }\n          var arr5 = $rulesGroup.rules;\n          if (arr5) {\n            var $rule, i5 = -1,\n              l5 = arr5.length - 1;\n            while (i5 < l5) {\n              $rule = arr5[i5 += 1];\n              if ($shouldUseRule($rule)) {\n                var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);\n                if ($code) {\n                  out += ' ' + ($code) + ' ';\n                  if ($breakOnError) {\n                    $closingBraces1 += '}';\n                  }\n                }\n              }\n            }\n          }\n          if ($breakOnError) {\n            out += ' ' + ($closingBraces1) + ' ';\n            $closingBraces1 = '';\n          }\n          if ($rulesGroup.type) {\n            out += ' } ';\n            if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {\n              out += ' else { ';\n              var $schemaPath = it.schemaPath + '.type',\n                $errSchemaPath = it.errSchemaPath + '/type';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n                if ($typeIsArray) {\n                  out += '' + ($typeSchema.join(\",\"));\n                } else {\n                  out += '' + ($typeSchema);\n                }\n                out += '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should be ';\n                  if ($typeIsArray) {\n                    out += '' + ($typeSchema.join(\",\"));\n                  } else {\n                    out += '' + ($typeSchema);\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n          }\n          if ($breakOnError) {\n            out += ' if (errors === ';\n            if ($top) {\n              out += '0';\n            } else {\n              out += 'errs_' + ($lvl);\n            }\n            out += ') { ';\n            $closingBraces2 += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces2) + ' ';\n  }\n  if ($top) {\n    if ($async) {\n      out += ' if (errors === 0) return data;           ';\n      out += ' else throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; ';\n      out += ' return errors === 0;       ';\n    }\n    out += ' }; return validate;';\n  } else {\n    out += ' var ' + ($valid) + ' = errors === errs_' + ($lvl) + ';';\n  }\n  out = it.util.cleanUpCode(out);\n  if ($top) {\n    out = it.util.finalCleanUpCode(out, $async);\n  }\n\n  function $shouldUseGroup($rulesGroup) {\n    var rules = $rulesGroup.rules;\n    for (var i = 0; i < rules.length; i++)\n      if ($shouldUseRule(rules[i])) return true;\n  }\n\n  function $shouldUseRule($rule) {\n    return it.schema[$rule.keyword] !== undefined || ($rule.implements && $ruleImplementsSomeKeyword($rule));\n  }\n\n  function $ruleImplementsSomeKeyword($rule) {\n    var impl = $rule.implements;\n    for (var i = 0; i < impl.length; i++)\n      if (it.schema[impl[i]] !== undefined) return true;\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/validate.js","'use strict';\nmodule.exports = function generate__limit(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $isMax = $keyword == 'maximum',\n    $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',\n    $schemaExcl = it.schema[$exclusiveKeyword],\n    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,\n    $op = $isMax ? '<' : '>',\n    $notOp = $isMax ? '>' : '<',\n    $errorKeyword = undefined;\n  if ($isDataExcl) {\n    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),\n      $exclusive = 'exclusive' + $lvl,\n      $exclType = 'exclType' + $lvl,\n      $exclIsNumber = 'exclIsNumber' + $lvl,\n      $opExpr = 'op' + $lvl,\n      $opStr = '\\' + ' + $opExpr + ' + \\'';\n    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';\n    $schemaValueExcl = 'schemaExcl' + $lvl;\n    out += ' var ' + ($exclusive) + '; var ' + ($exclType) + ' = typeof ' + ($schemaValueExcl) + '; if (' + ($exclType) + ' != \\'boolean\\' && ' + ($exclType) + ' != \\'undefined\\' && ' + ($exclType) + ' != \\'number\\') { ';\n    var $errorKeyword = $exclusiveKeyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || '_exclusiveLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'' + ($exclusiveKeyword) + ' should be boolean\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else if ( ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n    }\n    out += ' ' + ($exclType) + ' == \\'number\\' ? ( (' + ($exclusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \\'' + ($op) + '\\' : \\'' + ($op) + '=\\'; ';\n    if ($schema === undefined) {\n      $errorKeyword = $exclusiveKeyword;\n      $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n      $schemaValue = $schemaValueExcl;\n      $isData = $isDataExcl;\n    }\n  } else {\n    var $exclIsNumber = typeof $schemaExcl == 'number',\n      $opStr = $op;\n    if ($exclIsNumber && $isData) {\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { ';\n    } else {\n      if ($exclIsNumber && $schema === undefined) {\n        $exclusive = true;\n        $errorKeyword = $exclusiveKeyword;\n        $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n        $schemaValue = $schemaExcl;\n        $notOp += '=';\n      } else {\n        if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);\n        if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {\n          $exclusive = true;\n          $errorKeyword = $exclusiveKeyword;\n          $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n          $notOp += '=';\n        } else {\n          $exclusive = false;\n          $opStr += '=';\n        }\n      }\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') { ';\n    }\n  }\n  $errorKeyword = $errorKeyword || $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opExpr) + ', limit: ' + ($schemaValue) + ', exclusive: ' + ($exclusive) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be ' + ($opStr) + ' ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/_limit.js","'use strict';\nmodule.exports = function generate__limitItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxItems' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' ' + ($data) + '.length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxItems') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' items\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/_limitItems.js","'use strict';\nmodule.exports = function generate__limitLength(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxLength' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  if (it.opts.unicode === false) {\n    out += ' ' + ($data) + '.length ';\n  } else {\n    out += ' ucs2length(' + ($data) + ') ';\n  }\n  out += ' ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitLength') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT be ';\n      if ($keyword == 'maxLength') {\n        out += 'longer';\n      } else {\n        out += 'shorter';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' characters\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/_limitLength.js","'use strict';\nmodule.exports = function generate__limitProperties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxProperties' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' Object.keys(' + ($data) + ').length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxProperties') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' properties\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/_limitProperties.js","'use strict';\n\nexport default class AbstractView  {\n\n  constructor(model) {\n    this._model = model;\n    this._view = null;\n    this._isAlive = true;\n  }\n\n  get isAlive() {\n    return this._isAlive;\n  }\n\n  destroy() {\n    this._isAlive = false;\n  }\n\n  get model () {\n    return this._model;\n  }\n\n  get view () {\n    return this._view;\n  }\n\n  update(events) {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/abstract/AbstractView.js","'use strict';\n\nimport Simulation from \"./Simulation.js\";\nimport Renderer from \"./renderers/Renderer.js\";\nimport DebugRenderer from \"./renderers/debug/DebugRenderer.js\";\nimport BWRenderer from \"./renderers/bw/BWRenderer.js\";\nimport BrodyRenderer from \"./renderers/brody/BrodyRenderer.js\";\nimport VoidRenderer from \"./renderers/void/VoidRenderer.js\";\nimport AiDefinition from \"./AiDefinition.js\";\nimport UltimateBattleDescriptor from \"./UltimateBattleDescriptor.js\";\n\nmodule.exports  = {\n\n  createSimulation: (renderer) => {\n    renderer = renderer ? renderer : new Renderer();\n    let sim = new Simulation(renderer);\n    return sim;\n  },\n\n  createAiDefinition: () => {\n    return new AiDefinition();\n  },\n\n  createUBD: () => {\n    return new UltimateBattleDescriptor();\n  },\n\n  createRenderer: (name) => {\n    switch(name) {\n      case 'debug':   return new DebugRenderer();\n      case 'bw':      return new BWRenderer();\n      case 'brody':   return new BrodyRenderer();\n      case 'void':    return new VoidRenderer();\n      default:        throw \"Unknown rederer \" + name;\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/entry.js","'use strict';\n\nimport Tank from \"./Tank.js\";\nimport Team from \"./Team.js\";\nimport Bullet from \"./Bullet.js\";\nimport Battlefield from \"./Battlefield.js\";\nimport EventStore from \"./EventStore.js\";\nimport CollisionResolver from \"./CollisionResolver.js\";\nimport AiWrapper from \"./AiWrapper.js\";\nimport PerformanceMonitor from \"./PerformanceMonitor.js\";\nimport UltimateBattleDescriptor from \"./UltimateBattleDescriptor.js\";\nimport seedrandom from \"seedrandom\";\n\n/**\n * Battle simulation component. Process the simulation updating all related objects\n * and refreshing the renderer.\n */\nclass Simulation {\n  /**\n   * Create Simulation object. Constructor is not available outside of\n   * `JsBattle.min.js` library. To create Simulation object use\n   * `JsBattle.createSimulation(renderer)` instead\n   * @param {Renderer} renderer - Renderer used to present results of the simulation\n   */\n  constructor(renderer) {\n    this._aiList = [];\n    this._allTankList = [];\n    this._tankList = [];\n    this._bulletList = [];\n    this._explodedTankList = [];\n    this._explodedBulletList = [];\n    this._battlefield = null;\n    this._simulationTimeout = null;\n    this._renderInterval = null;\n    this._simulationStepDuration = 17;\n    this._renderStepDuration = 30;\n    this._renderer = renderer;\n    this._isRunning = false;\n    this._collisionResolver = new CollisionResolver();\n    this._rngSeed = (new Date()).getTime() + Math.round(Math.random()*1000000);\n    this._rng = seedrandom(this._rngSeed);\n    this._speedMultiplier = 1;\n    this._onSimulationStepCallback = [];\n    this._onRenderStepCallback = [];\n    this._onFinishCallback = [];\n    this._onErrorCallback = [];\n    this._onStartCallback = [];\n    this._timeElapsed = 0;\n    this._timeLimit = 30000;\n    this._eventStore = new EventStore();\n    this._nextTankId = 1;\n    this._nextBulletId = 1;\n    this._rendererQuality = 'auto';\n    this._perfMon = new PerformanceMonitor();\n    this._perfMon.setSimulationStepDuration(this._simulationStepDuration/this._speedMultiplier);\n    this._callStackLimit = Number.MAX_VALUE;\n    this._callStackCount = 0;\n    this._teamMap = [];\n    this._teamList = [];\n    this._ultimateBattleDescriptor = new UltimateBattleDescriptor();\n  }\n\n  /**\n    * Seed random number generator. Each time when you seed rng with the same data\n    * it will return the same sequence of numbers. That feature can be used\n    * to reconstruct exactly the same, \"randomized\" simulation condidtions.\n    *\n    * IMPORTANT! set it just after calling constructor of the calss. Otherwise\n    * some RNG calls could be unseeded.\n    *\n    * @param {Number} seed - rng seed data\n    */\n  setRngSeed(seed) {\n    this._rngSeed = seed;\n    this._ultimateBattleDescriptor.setRngSeed(seed);\n    this._rng = seedrandom(this._rngSeed);\n  }\n\n  /**\n   * @return seed of random number generator\n   */\n  getRngSeed() {\n    return this._rngSeed;\n  }\n\n  /**\n   * @return random number from seeded rng\n   */\n  getRandom() {\n    return this._rng();\n  }\n\n  /**\n   * Initialize the battle field. Must be called before any other calls\n   * to simulation object\n   * @param {Number} width - width of the battlefield\n   * @param {Number} height - height of the battlefield\n   */\n  init(width, height) {\n    this._battlefield = new Battlefield();\n    this._battlefield.setSize(width, height);\n    this._battlefield.randomize(this._rng());\n    this._renderer.initBatlefield(this._battlefield);\n    this._collisionResolver.updateBattlefield(this._battlefield);\n  }\n\n  /**\n   * @return all tanks that were added to the battle\n   */\n  get tankList() {\n    return this._allTankList;\n  }\n\n  /**\n   * @return list of teams\n   */\n  get teamList() {\n    return this._teamList;\n  }\n\n  /**\n   * @return renderer attached to the simulation\n   */\n  get renderer() {\n    return this._renderer;\n  }\n\n  get battlefield() {\n    return this._battlefield;\n  }\n\n  /**\n   * @return amount of time that has elapsed from the beginning of the battle (in milliseconds)\n   */\n  get timeElapsed() {\n    return this._timeElapsed;\n  }\n\n  /**\n   * @return maximum duration of the battle (in milliseconds). The battle will be over after that time.\n   */\n  get timeLimit() {\n    return this._timeLimit;\n  }\n\n  set timeLimit(v) {\n    this._timeLimit = v;\n  }\n\n  /**\n   * Starts simulation of the battle. It will initialize all AI scripts, trigger `onStart` event\n   * and launch rendering and simulation processing loops. Remember to call `Simulation.init()` and\n   * `Simulation.addTank()` before executing this method.\n   * @see Simulation.onStart()\n   */\n  start() {\n    if(this._tankList.length == 0) {\n      throw new Error(\"To start simulation, the tank list cannot be empty!\");\n    }\n    this._isRunning = true;\n    let i;\n    let self = this;\n\n    if(this._renderInterval) {\n      clearInterval(this._renderInterval);\n      this._renderInterval = null;\n    }\n\n    this._activateAi(\n      () => {\n        self._renderInterval = setInterval(() => {\n          self._updateView();\n        }, self._renderStepDuration);\n\n        if(self._simulationTimeout) {\n          clearTimeout(self._simulationTimeout);\n        }\n        self._perfMon.start();\n        for(i=0; i < self._onStartCallback.length; i++) self._onStartCallback[i]();\n        self._simulationStep();\n      },\n      (err) => {\n        console.error(err);\n        for(i=0; i < self._onErrorCallback.length; i++) self._onErrorCallback[i](err.message ? err.message : \"Error during simulation\");\n      }\n    );\n  }\n\n  _simulationStep() {\n    this._perfMon.onSimulationStep();\n    let startTime = (new Date()).getTime();\n    let self = this;\n    let i;\n    this._updateModel();\n    this._updateAi(\n      () => {\n        if(self._simulationTimeout) {\n          clearTimeout(self._simulationTimeout);\n          self._simulationTimeout = null;\n        }\n        if(self._getTeamsLeft() <= 1 || self._timeElapsed == self._timeLimit) {\n          self.stop();\n          self._updateModel();\n          self._updateView();\n          for(i=0; i < self._onFinishCallback.length; i++) self._onFinishCallback[i]();\n        }\n        if(self._isRunning) {\n          let processingTime = (new Date()).getTime() - startTime;\n          let dt = self._simulationStepDuration/self._speedMultiplier - processingTime;\n          dt = Math.round(dt);\n          for(i=0; i < self._onSimulationStepCallback.length; i++) self._onSimulationStepCallback[i]();\n          self._timeElapsed = Math.min(self._timeElapsed + self._simulationStepDuration, self._timeLimit);\n          if(dt > 0) {\n            self._callStackCount=0;\n            self._simulationTimeout = setTimeout(self._simulationStep.bind(self), dt);\n          } else if(self._callStackCount >= self._callStackLimit) {\n            self._simulationTimeout = setTimeout(self._simulationStep.bind(self), 1);\n          } else {\n            self._callStackCount++;\n            self._simulationStep();\n          }\n        }\n      },\n      (err) => {\n        console.error(err);\n        for(i=0; i < self._onErrorCallback.length; i++) self._onErrorCallback[i](err.message ? err.message : \"Error during simulation\");\n      }\n    );\n  }\n\n  /**\n   * Create a tank according to provided `AiDefinition`. Remember to add at\n   * least two tanks to the battle. Otherwise, it will stop immediately and\n   * the winner will be recognized\n   * @param {AiDefinition} - defintion of tank AI script\n   */\n  addTank(aiDefinition) {\n    if(typeof aiDefinition != 'object') {\n      throw \"AI definition must be an object\";\n    }\n    if(!this._battlefield) {\n      throw \"Simulation not initialized\";\n    }\n    if(!aiDefinition.teamName) {\n      throw \"Team name cannot be empty!\";\n    }\n    let startSlot = this._battlefield.getStartSlot();\n    if(!startSlot) {\n      throw \"No free space in the battlefield\";\n    }\n    this._ultimateBattleDescriptor.addAiDefinition(aiDefinition);\n    this._ultimateBattleDescriptor.setTeamMode(this.hasTeams());\n    let tank = this._createTank(aiDefinition);\n    tank.randomize(this.getRandom());\n    tank.moveTo(startSlot.x, startSlot.y);\n    this._tankList.push(tank);\n    this._allTankList.push(tank);\n    if(this._allTankList.length > 2) {\n      this._timeLimit += 2000;\n    }\n\n    if(!this._teamMap[aiDefinition.teamName]) {\n      this._teamMap[aiDefinition.teamName] = new Team(aiDefinition.teamName);\n      this._teamList.push(this._teamMap[aiDefinition.teamName]);\n    }\n    this._teamMap[aiDefinition.teamName].addTank(tank);\n\n    let ai = this._createAiWrapper(tank, aiDefinition);\n    this._aiList.push(ai);\n\n    return ai;\n  }\n\n  /**\n   * Set speed multiplier of the simulation. Setting to `2`means that everything will be\n   * two times faster than usual. Setting to `0.5` will simulate the battle 2 times slower\n   * than usual\n   * @param {Number} multiplier - simulation speed multiplier\n   */\n  setSpeed(v) {\n    this._speedMultiplier = Math.max(0.01, Number(v));\n    this._perfMon.setSimulationStepDuration(this._simulationStepDuration/this._speedMultiplier);\n    this._renderer.setSpeed(v);\n  }\n\n  /**\n   * Sets quality of renderer controlled by simulation object.\n   * You can specify a value between 0 (lowest quality) and 1 (highest quality)\n   * or allow the simulation to adjust it automatically by passing 'auto' string\n   * Automatic quality adjustment try to keep the speed of the animation at proper level.\n   * If simulation is lagging, quality will be reduced to ensure that the simulation\n   * does not take longer than it should\n   * @param {Number|String} qualityLevel - number between 0 and 1 or 'auto' string\n   */\n  setRendererQuality(v) {\n    if(isNaN(v) && v != 'auto') return;\n    if(!isNaN(v)) {\n      v = Math.min(1, Math.max(0, v));\n    }\n    this._rendererQuality = v;\n  }\n\n  /**\n   * Stops battle simulation. It also stops rendering loop.\n   * After calling this method you should not try to call\n   * start to resume the battle but rather create a new\n   * Simulation object and initialize it from the beginning\n   */\n  stop() {\n    this._isRunning = false;\n    this._perfMon.stop();\n    this._renderer.stop();\n    if(this._simulationTimeout) {\n      clearTimeout(this._simulationTimeout);\n      this._simulationTimeout = null;\n    }\n    if(this._renderInterval) {\n      clearInterval(this._renderInterval);\n      this._renderInterval = null;\n    }\n    let ai, i;\n    for(i=0; i < this._aiList.length; i++) {\n      ai = this._aiList[i];\n      if(!ai) continue;\n      ai.deactivate();\n    }\n    this._aiList = [];\n  }\n\n\n  /**\n   * Allow adding a callback that will be called after each step of simulation\n   * processing loop. The callback takes no arguments. The frequency of this event\n   * depends on simulation speed.\n   * @param {Function} callback - callback that will be called on each event occurence.\n   * @see `Simulation.setSpeed()`\n   */\n  onStep(callback) {\n    this._onSimulationStepCallback.push(callback);\n  }\n\n  /**\n   * Allow adding a callback that will be called after each refresh of the renderer.\n   * The callback takes no arguments. `onRender` and `onStep` event are not synchronized\n   * and may be called at different intervals. Increasing of animation speed will not\n   * increase rendering frequency. Rendering frequency is affected by quality of\n   * rendering parameter\n   * @param {Function} callback - callback that will be called on each event occurence.\n   * @see `Simulation.setSpeed()`\n   * @see `Simulation.setRendererQuality()`\n   */\n  onRender(callback) {\n    this._onRenderStepCallback.push(callback);\n  }\n\n  /**\n   * Allow adding a callback that will be called when the battle is started.\n   * It is executed after initialization of all AI Scripts, just before\n   * first step of simulation processing loop. The callback takes no arguments.\n   * @param {Function} callback - callback that will be called on each event occurence.\n   */\n  onStart(callback) {\n    this._onStartCallback.push(callback);\n  }\n\n  /**\n   * Allow adding a callback that will be called when the battle is over.\n   * The callback takes no arguments.\n   * @param {Function} callback - callback that will be called on each event occurence.\n   */\n  onFinish(callback) {\n    this._onFinishCallback.push(callback);\n  }\n\n  /**\n   * Allow adding a callback that will be called when an error occur.\n   * The callback takes one arguments: error message\n   * @param {Function} callback - callback that will be called on each event occurence.\n   */\n  onError(callback) {\n    this._onErrorCallback.push(callback);\n  }\n\n  /**\n   * Create Ultimate Battle Descriptor that contains all data requied to replay\n   * the battle and reflect its exact course.\n   * @return UltimateBattleDescriptor object\n   */\n  createUltimateBattleDescriptor() {\n    return this._ultimateBattleDescriptor.clone();\n  }\n\n  /**\n   * @return true if at least two tanks are cooperating within one team\n   */\n  hasTeams() {\n    return this._teamList.length != this._tankList.length;\n  }\n\n  _activateAi(done, error) {\n    this._runInSequence(this._aiList, 'activate', this._rng(), done, error);\n  }\n\n  _updateAi(done, error) {\n    this._runInSequence(this._aiList, 'simulationStep', null, done, error);\n  }\n\n  _runInSequence(objectList, methodName, argument, done, error) {\n    if(objectList.length == 0) {\n      return done();\n    }\n    function wrapCallback() {\n      let args = [];\n      let callback = arguments[1];\n      let self = arguments[0];\n      for(let i=2; i < arguments.length; i++) {\n        args.push(arguments[i]);\n      }\n      return (args2) => {\n        callback.apply(self, args.concat(args2));\n      };\n    }\n\n    let self = null;\n    let doneWrapper = wrapCallback(self, done);\n    let errorWrapper = wrapCallback(self, error);\n\n    let c;\n    if(argument) {\n      c = wrapCallback(objectList[objectList.length-1], objectList[objectList.length-1][methodName], argument, doneWrapper, errorWrapper);\n    } else {\n      c = wrapCallback(objectList[objectList.length-1], objectList[objectList.length-1][methodName], doneWrapper, errorWrapper);\n    }\n    for(let i=objectList.length-2; i >=0; i--) {\n      if(argument) {\n        c = wrapCallback(objectList[i], objectList[i][methodName], argument, c, errorWrapper);\n      } else {\n        c = wrapCallback(objectList[i], objectList[i][methodName], c, errorWrapper);\n      }\n    }\n    c();\n  }\n\n  _updateModel() {\n    let i, tank, bullet, ai;\n\n    for(i=0; i < this._tankList.length; i++) {\n      tank = this._tankList[i];\n      if(!tank) continue;\n      tank.simulationStep(this._collisionResolver);\n    }\n\n    let killCount = 0;\n    for(i=0; i < this._tankList.length; i++) {\n      tank = this._tankList[i];\n      if(!tank) continue;\n      if(tank.energy <= 0) {\n        killCount++;\n        this._tankList[i] = null;\n        this._explodedTankList.push(tank);\n        this._collisionResolver.removeTank(tank);\n        this._eventStore.add(\"tank_\" + tank.id, {\n          type: \"destroy\",\n          tank: tank\n        });\n      }\n    }\n    let newAiList = [];\n    for(i=0; i < this._aiList.length; i++) {\n      ai = this._aiList[i];\n      if(!ai) continue;\n      if(ai.tank.energy <= 0) {\n        this._aiList[i] = null;\n        ai.deactivate();\n        continue;\n      }\n      newAiList.push(ai);\n    }\n    this._aiList = newAiList;\n\n    for(i=0; i < this._tankList.length; i++) {\n      tank = this._tankList[i];\n      if(!tank) continue;\n      if(tank.isShooting) {\n        let power = tank.handleShoot();\n        bullet = this._createBullet(tank, power);\n        this._bulletList.push(bullet);\n        this._eventStore.add(\"tank_\" + tank.id, {\n          type: \"shoot\",\n          tank: tank,\n          bullet: bullet\n        });\n      }\n    }\n    for(i=0; i < this._tankList.length; i++) {\n      tank = this._tankList[i];\n      if(!tank) continue;\n      for(let j=0; j < killCount; j++) {\n        tank.onSurviveScore();\n      }\n    }\n    let hitTest;\n    for(i=0; i < this._bulletList.length; i++) {\n      bullet = this._bulletList[i];\n      if(!bullet) continue;\n      bullet.simulationStep();\n      hitTest = this._collisionResolver.hitTestBullet(bullet);\n      if(hitTest) {\n        this._bulletList[i] = null;\n        this._explodedBulletList.push(bullet);\n        this._collisionResolver.removeBullet(bullet);\n        this._eventStore.add(\"bullet_\" + bullet.id, {\n          type: \"explode\",\n          bullet: bullet\n        });\n      }\n    }\n    for(i in this._teamMap) {\n      this._teamMap[i].processMessages();\n    }\n  }\n\n  _updateView() {\n    if(this._rendererQuality == 'auto') {\n      this._renderer.quality = this._perfMon.qualityLevel;\n    } else {\n      this._renderer.quality = this._rendererQuality;\n    }\n    let i, tank, bullet;\n    this._renderer.preRender();\n    this._renderer.renderClock(this._timeElapsed, this._timeLimit);\n    for(i=0; i < this._tankList.length; i++) {\n      tank = this._tankList[i];\n      if(!tank) continue;\n      this._renderer.renderTank(tank, this._eventStore.get(\"tank_\" + tank.id));\n    }\n    for(i=0; i < this._bulletList.length; i++) {\n      bullet = this._bulletList[i];\n      if(!bullet) continue;\n      this._renderer.renderBullet(bullet, this._eventStore.get(\"bullet_\" + bullet.id));\n    }\n    while(this._explodedTankList.length) {\n      tank = this._explodedTankList.pop();\n      this._renderer.renderTank(tank, this._eventStore.get(\"tank_\" + tank.id));\n    }\n    while(this._explodedBulletList.length) {\n      bullet = this._explodedBulletList.pop();\n      this._renderer.renderBullet(bullet, this._eventStore.get(\"bullet_\" + bullet.id));\n    }\n    this._renderer.renderTankStats(this._allTankList);\n    this._renderer.postRender();\n    for(i=0; i < this._onRenderStepCallback.length; i++) this._onRenderStepCallback[i]();\n    this._eventStore.clear();\n  }\n\n  _getTeamsLeft() {\n    let teamsLeft = 0;\n    for(let i in this._teamMap) {\n      if(!this._teamMap[i].isAlive) continue;\n      teamsLeft++;\n    }\n    return teamsLeft;\n  }\n\n  _createAiWrapper(tank, aiDefinition) {\n    return new AiWrapper(tank, aiDefinition);\n  }\n\n  _createTank(aiDefinition) {\n    let tank = new Tank(aiDefinition, this._nextTankId++);\n    return tank;\n  }\n\n  _createBullet(owner, power) {\n    let bullet = new Bullet(owner, this._nextBulletId++, power);\n    return bullet;\n  }\n\n}\nexport default Simulation;\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/Simulation.js","'use strict';\n\nimport seedrandom from \"seedrandom\";\n\nfunction normalizeAngle(a) {\n  while(a > 180) a -= 360;\n  while(a < -180) a += 360;\n  return a;\n}\n\n/**\n * Object represents a tank that is involved in the battle during simulation\n */\nclass Tank {\n\n  /**\n   * Constructor should not be called directly but through\n   * `Simulation.addTank()` method\n   * @param {AiDefinition} aiDefinition - definition of tank's AI Script\n   * @param {Number} id - unique id of the tank\n   * @param {Team} team - reference to team object where the tank belongs\n   */\n  constructor(aiDefinition, id) {\n    if(typeof aiDefinition != 'object') {\n      throw \"AI definition must be an object\";\n    }\n    this._id = id;\n    this._name = aiDefinition.name;\n    this._team =  null;\n    this._maxEnergy = 100;\n    this._energy = this._maxEnergy;\n    this._x = 0;\n    this._y = 0;\n    this._lastX = 0;\n    this._lastY = 0;\n    this._angle = 0;\n    this._gunAngle = 0;\n    this._radarAngle = 0;\n    this._throttle = 0;\n    this._actualThrottle = 0;\n    this._speed = 0;\n    this._turn = 0;\n    this._gunTurn = 0;\n    this._radarTurn = 0;\n    this._wallHit = false;\n    this._enemyHit = false;\n    this._allyHit = false;\n    this._beingRammed = false;\n    this._radarRange = 300;\n    this._radarFocal = 6;\n    this._enemySpot = null;\n    this._allySpot = null;\n    this._bulletsSpot = [];\n    this._gunReloadTime = 70;\n    this._gunTimer = 0;\n    this._shootingPower = 0;\n    this._targetingAlarmTimer = 0;\n    this._debugData = {};\n    this._score = 0;\n    this._state = null;\n    this._hasBoost = false;\n    this._maxBoost = 400;\n    this._boost = this._maxBoost;\n    this._wallDistance = null;\n    this._skin = 'zebra';\n  }\n\n  /**\n   * @return unique id of the tank\n   */\n  get id() {\n    return this._id;\n  }\n  /**\n   * @return skin name applied to the tank\n   */\n  get skin() {\n    return this._skin;\n  }\n\n  /**\n   * @return an object that represents current state of the tank\n   */\n  get state() {\n    return this._state;\n  }\n\n  /**\n   * @return amount of energy that the tank has\n   */\n  get energy() {\n    return this._energy;\n  }\n\n  /**\n   * @return current score of the tank\n   */\n  get score() {\n    return this._score;\n  }\n\n  onEnemyHitScore(damage) {\n    this._score += damage;\n  }\n\n  onEnemyKillScore() {\n    this._score += 20;\n  }\n\n  onSurviveScore() {\n    this._score += 10;\n  }\n\n  /**\n   * @return initial amount of the energy\n   */\n  get maxEnergy() {\n    return this._maxEnergy;\n  }\n\n  /**\n   * @return range of tank's radar\n   */\n  get radarRange() {\n    return this._radarRange;\n  }\n\n  /**\n   * @return angle that radar field covers\n   */\n  get radarFocal() {\n    return this._radarFocal;\n  }\n\n  /**\n   * @return name of the tank\n   */\n  get name() {\n    return this._name;\n  }\n\n  /**\n   * @return full name contains name of the tank and its unique ID\n   */\n  get fullName() {\n    return this._name + \" #\" + this._id;\n  }\n\n  /**\n   * @return name of the team\n   */\n  get team() {\n    return this._team;\n  }\n\n  /**\n   * @return x position of the tank\n   */\n  get x() {\n    return this._x;\n  }\n\n  /**\n   * @return y position of the tank\n   */\n  get y() {\n    return this._y;\n  }\n\n  /**\n   * @return linear speed of the tank\n   */\n  get speed() {\n    return this._speed;\n  }\n\n  get gunLength() {\n    return 25;\n  }\n\n  /**\n   * @return rotation of tank's body\n   */\n  get angle() {\n    return this._angle;\n  }\n\n  /**\n   * @return current throttle of the tank\n   */\n  get throttle() {\n    return this._throttle;\n  }\n  /**\n   * @return true if tank has boost turned on. Otherwise false\n   */\n  get hasBoost() {\n    return (this._hasBoost && this._boost > 0);\n  }\n\n  /**\n   * @return amount of boost that has left\n   */\n  get boost() {\n    return this._boost;\n  }\n\n  /**\n   * @return initial amount of boost\n   */\n  get maxBoost() {\n    return this._maxBoost;\n  }\n\n  /**\n   * @return rotation of tank's gun (relative to tank's body)\n   */\n  get gunAngle() {\n    return this._gunAngle;\n  }\n\n  /**\n   * @return rotation of tank's radar (relative to tank's body)\n   */\n  get radarAngle() {\n    return this._radarAngle;\n  }\n\n  get enemySpot() {\n    return this._enemySpot;\n  }\n\n  get allySpot() {\n    return this._allySpot;\n  }\n\n  setThrottle(v) {\n    this._throttle = Math.min(1, Math.max(-1, v));\n  }\n\n  setTurn(v) {\n    this._turn = Math.min(1, Math.max(-1, v));\n  }\n\n  setGunTurn(v) {\n    this._gunTurn = Math.min(1, Math.max(-1, v));\n  }\n\n  setRadarTurn(v) {\n    this._radarTurn = Math.min(1, Math.max(-1, v));\n  }\n\n  setBoost(v) {\n    this._hasBoost = v ? true : false;\n  }\n\n  setDebugData(v) {\n    this._debugData = v;\n  }\n\n  onWallHit() {\n    this._wallHit = true;\n    this.onDamage(0.2);\n  }\n\n  onEnemyHit() {\n    this._enemyHit = true;\n    this.onDamage(0.2);\n  }\n\n  onAllyHit() {\n    this._allyHit = true;\n    this.onDamage(0.2);\n  }\n\n  onBeingRam(speed) {\n    this._beingRammed = true;\n    this.onDamage(0.1 + Math.round(speed*8)*0.1);\n  }\n\n  onEnemySpot(enemy) {\n    this._enemySpot = enemy;\n  }\n\n  onAllySpot(ally) {\n    this._allySpot = ally;\n  }\n\n  onBulletSpot(bullet) {\n    this._bulletsSpot.push(bullet);\n  }\n\n  onWallSpot(distance) {\n    this._wallDistance = distance;\n  }\n\n  onTargetingAlarm() {\n    this._targetingAlarmTimer = 3;\n  }\n\n  isAlly(tank) {\n    if(!this._team) return false;\n    if(!tank.team) return false;\n    return this._team.name == tank.team.name;\n  }\n\n  /**\n   * @return true if tank is on the radar of an enemy. Otherwise false\n   */\n  get targetingAlarm() {\n    return this._targetingAlarmTimer > 0;\n  }\n\n  onDamage(damage) {\n    this._energy = Math.max(0, this._energy - damage);\n  }\n\n  moveTo(xPosition, yPosition) {\n    this._x = xPosition;\n    this._y = yPosition;\n    this._lastX = xPosition;\n    this._lastY = yPosition;\n  }\n\n  /**\n   * @return debug data set by AI script via `control.DEBUG`\n   */\n  get debugData() {\n    return this._debugData;\n  }\n\n  get isShooting() {\n    return this._shootingPower > 0;\n  }\n\n  get shootingPower() {\n    return this._shootingPower;\n  }\n\n  handleShoot() {\n    let value = this._shootingPower;\n    this._shootingPower = 0;\n    return value;\n  }\n\n  get isReloading() {\n    return this._gunTimer > 0;\n  }\n\n  shoot(value) {\n    value = Math.max(0.1, Math.min(1, value));\n    if(!this.isReloading) {\n      this._gunTimer = Math.round(value*this._gunReloadTime);\n      this._shootingPower = value;\n    }\n  }\n\n  randomize(seed) {\n    if(seed === undefined) {\n      seed = (new Date()).getTime() + Math.round(Math.random()*1000000);\n    }\n    let rng = seedrandom(seed);\n    this._angle = Math.round(360*rng())-180;\n  }\n\n  init(settings) {\n    if(settings && settings.SKIN) {\n      this._skin = settings.SKIN;\n    }\n  }\n\n  simulationStep(collisionResolver) {\n    let self = this;\n\n    if(self._energy == 0) {\n      return;\n    }\n\n    if(self._hasBoost && self._boost > 0) {\n      self._boost--;\n    }\n\n    let oldX = self._x;\n    let oldY = self._y;\n\n    let maxSpeed = self._throttle * (self.hasBoost ? 4 : 2);\n    let accelerationFactor = (self.hasBoost ? 10 : 20);\n    self._actualThrottle += (maxSpeed - self._actualThrottle)/accelerationFactor;\n\n    let v = self._actualThrottle;\n    let rotation = self._angle*(Math.PI/180);\n    self._x += v*Math.cos(rotation);\n    self._y += v*Math.sin(rotation);\n    self._wallHit = false;\n    self._enemyHit = false;\n    self._allyHit = false;\n    let hitTest = !collisionResolver.checkTank(self);\n    if(hitTest) {\n      self._x = oldX;\n      self._y = oldY;\n      self._actualThrottle = 0;\n    }\n    if(this._beingRammed) {\n      // must be done later because ramming is\n      // reported after collisionResolver.checkTank(self)\n      // it is detected when collisionResolver.checkTank\n      // is called for attacing tank\n      self._enemyHit = true;\n      this._beingRammed = false;\n    }\n\n    self._angle += 2*self._turn;\n    self._radarAngle += 6*self._radarTurn;\n    self._gunAngle += 3*self._gunTurn;\n\n    self._angle = normalizeAngle(self._angle);\n    self._radarAngle = normalizeAngle(self._radarAngle);\n    self._gunAngle = normalizeAngle(self._gunAngle);\n    collisionResolver.updateTank(self);\n\n    self._enemySpot = null;\n    self._allySpot = null;\n    self._wallDistance = null;\n    self._targetingAlarmTimer = Math.max(0, self._targetingAlarmTimer-1);\n    collisionResolver.scanTanks(self);\n    collisionResolver.scanBullets(self);\n    collisionResolver.scanWalls(self);\n\n    if(self._gunTimer > 0) {\n      self._gunTimer--;\n    }\n\n    let enemyData = null;\n    let allyData = null;\n    let bulletsData = [];\n    while(self._bulletsSpot.length) {\n      let bullet = self._bulletsSpot.shift();\n      bulletsData.push({\n        id: bullet.id,\n        x: bullet.x,\n        y: bullet.y,\n        angle: bullet.angle,\n        speed: bullet.speed,\n        damage: bullet.damage\n      });\n    }\n\n    if(self._enemySpot) {\n      enemyData = {\n        id: self._enemySpot.id,\n        x: self._enemySpot.x,\n        y: self._enemySpot.y,\n        angle: self._enemySpot.angle,\n        speed: self._enemySpot.speed,\n        energy: self._enemySpot.energy,\n      };\n    }\n    if(self._allySpot) {\n      allyData = {\n        id: self._allySpot.id,\n        x: self._allySpot.x,\n        y: self._allySpot.y,\n        angle: self._allySpot.angle,\n        speed: self._allySpot.speed,\n        energy: self._allySpot.energy,\n      };\n    }\n\n    let dx = self._x - self._lastX;\n    let dy = self._y - self._lastY;\n    self._speed = Math.sqrt(dx*dx + dy*dy);\n\n    self._lastX = self._x;\n    self._lastY = self._y;\n\n    self._state = {\n      x: self._x,\n      y: self._y,\n      angle: self._angle,\n      energy: self._energy,\n      boost: self._boost,\n      collisions: {\n        wall: self._wallHit,\n        enemy: self._enemyHit,\n        ally: self._allyHit\n      },\n      radar: {\n        angle: self._radarAngle,\n        targetingAlarm: self.targetingAlarm,\n        wallDistance: self._wallDistance,\n        enemy: enemyData,\n        ally: allyData,\n        bullets: bulletsData\n      },\n      gun: {\n        angle: self._gunAngle,\n        reloading: self.isReloading\n      },\n      radio: {\n        inbox: self.team ? self.team.getMessages(self.id) : []\n      }\n    };\n  }\n}\n\nexport default Tank;\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/Tank.js","// A port of an algorithm by Johannes Baage <baagoe@baagoe.com>, 2010\n// http://baagoe.com/en/RandomMusings/javascript/\n// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\n// Original work is under MIT license -\n\n// Copyright (C) 2010 by Johannes Baage <baagoe@baagoe.org>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n// \n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\n\n(function(global, module, define) {\n\nfunction Alea(seed) {\n  var me = this, mash = Mash();\n\n  me.next = function() {\n    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32\n    me.s0 = me.s1;\n    me.s1 = me.s2;\n    return me.s2 = t - (me.c = t | 0);\n  };\n\n  // Apply the seeding algorithm from Baagoe.\n  me.c = 1;\n  me.s0 = mash(' ');\n  me.s1 = mash(' ');\n  me.s2 = mash(' ');\n  me.s0 -= mash(seed);\n  if (me.s0 < 0) { me.s0 += 1; }\n  me.s1 -= mash(seed);\n  if (me.s1 < 0) { me.s1 += 1; }\n  me.s2 -= mash(seed);\n  if (me.s2 < 0) { me.s2 += 1; }\n  mash = null;\n}\n\nfunction copy(f, t) {\n  t.c = f.c;\n  t.s0 = f.s0;\n  t.s1 = f.s1;\n  t.s2 = f.s2;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new Alea(seed),\n      state = opts && opts.state,\n      prng = xg.next;\n  prng.int32 = function() { return (xg.next() * 0x100000000) | 0; }\n  prng.double = function() {\n    return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n  };\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nfunction Mash() {\n  var n = 0xefc8249d;\n\n  var mash = function(data) {\n    data = data.toString();\n    for (var i = 0; i < data.length; i++) {\n      n += data.charCodeAt(i);\n      var h = 0.02519603282416938 * n;\n      n = h >>> 0;\n      h -= n;\n      h *= n;\n      n = h >>> 0;\n      h -= n;\n      n += h * 0x100000000; // 2^32\n    }\n    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n  };\n\n  return mash;\n}\n\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.alea = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/seedrandom/lib/alea.js","// A Javascript implementaion of the \"xor128\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n\n  // Set up generator function.\n  me.next = function() {\n    var t = me.x ^ (me.x << 11);\n    me.x = me.y;\n    me.y = me.z;\n    me.z = me.w;\n    return me.w ^= (me.w >>> 19) ^ t ^ (t >>> 8);\n  };\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor128 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/seedrandom/lib/xor128.js","// A Javascript implementaion of the \"xorwow\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var t = (me.x ^ (me.x >>> 2));\n    me.x = me.y; me.y = me.z; me.z = me.w; me.w = me.v;\n    return (me.d = (me.d + 362437 | 0)) +\n       (me.v = (me.v ^ (me.v << 4)) ^ (t ^ (t << 1))) | 0;\n  };\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n  me.v = 0;\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    if (k == strseed.length) {\n      me.d = me.x << 10 ^ me.x >>> 4;\n    }\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  t.v = f.v;\n  t.d = f.d;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorwow = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/seedrandom/lib/xorwow.js","// A Javascript implementaion of the \"xorshift7\" algorithm by\n// Franois Panneton and Pierre L'ecuyer:\n// \"On the Xorgshift Random Number Generators\"\n// http://saluc.engr.uconn.edu/refs/crypto/rng/panneton05onthexorshift.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    // Update xor generator.\n    var X = me.x, i = me.i, t, v, w;\n    t = X[i]; t ^= (t >>> 7); v = t ^ (t << 24);\n    t = X[(i + 1) & 7]; v ^= t ^ (t >>> 10);\n    t = X[(i + 3) & 7]; v ^= t ^ (t >>> 3);\n    t = X[(i + 4) & 7]; v ^= t ^ (t << 7);\n    t = X[(i + 7) & 7]; t = t ^ (t << 13); v ^= t ^ (t << 9);\n    X[i] = v;\n    me.i = (i + 1) & 7;\n    return v;\n  };\n\n  function init(me, seed) {\n    var j, w, X = [];\n\n    if (seed === (seed | 0)) {\n      // Seed state array using a 32-bit integer.\n      w = X[0] = seed;\n    } else {\n      // Seed state using a string.\n      seed = '' + seed;\n      for (j = 0; j < seed.length; ++j) {\n        X[j & 7] = (X[j & 7] << 15) ^\n            (seed.charCodeAt(j) + X[(j + 1) & 7] << 13);\n      }\n    }\n    // Enforce an array length of 8, not all zeroes.\n    while (X.length < 8) X.push(0);\n    for (j = 0; j < 8 && X[j] === 0; ++j);\n    if (j == 8) w = X[7] = -1; else w = X[j];\n\n    me.x = X;\n    me.i = 0;\n\n    // Discard an initial 256 values.\n    for (j = 256; j > 0; --j) {\n      me.next();\n    }\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.x = f.x.slice();\n  t.i = f.i;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.x) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorshift7 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/seedrandom/lib/xorshift7.js","// A Javascript implementaion of Richard Brent's Xorgens xor4096 algorithm.\n//\n// This fast non-cryptographic random number generator is designed for\n// use in Monte-Carlo algorithms. It combines a long-period xorshift\n// generator with a Weyl generator, and it passes all common batteries\n// of stasticial tests for randomness while consuming only a few nanoseconds\n// for each prng generated.  For background on the generator, see Brent's\n// paper: \"Some long-period random number generators using shifts and xors.\"\n// http://arxiv.org/pdf/1004.3115v1.pdf\n//\n// Usage:\n//\n// var xor4096 = require('xor4096');\n// random = xor4096(1);                        // Seed with int32 or string.\n// assert.equal(random(), 0.1520436450538547); // (0, 1) range, 53 bits.\n// assert.equal(random.int32(), 1806534897);   // signed int32, 32 bits.\n//\n// For nonzero numeric keys, this impelementation provides a sequence\n// identical to that by Brent's xorgens 3 implementaion in C.  This\n// implementation also provides for initalizing the generator with\n// string seeds, or for saving and restoring the state of the generator.\n//\n// On Chrome, this prng benchmarks about 2.1 times slower than\n// Javascript's built-in Math.random().\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    var w = me.w,\n        X = me.X, i = me.i, t, v;\n    // Update Weyl generator.\n    me.w = w = (w + 0x61c88647) | 0;\n    // Update xor generator.\n    v = X[(i + 34) & 127];\n    t = X[i = ((i + 1) & 127)];\n    v ^= v << 13;\n    t ^= t << 17;\n    v ^= v >>> 15;\n    t ^= t >>> 12;\n    // Update Xor generator array state.\n    v = X[i] = v ^ t;\n    me.i = i;\n    // Result is the combination.\n    return (v + (w ^ (w >>> 16))) | 0;\n  };\n\n  function init(me, seed) {\n    var t, v, i, j, w, X = [], limit = 128;\n    if (seed === (seed | 0)) {\n      // Numeric seeds initialize v, which is used to generates X.\n      v = seed;\n      seed = null;\n    } else {\n      // String seeds are mixed into v and X one character at a time.\n      seed = seed + '\\0';\n      v = 0;\n      limit = Math.max(limit, seed.length);\n    }\n    // Initialize circular array and weyl value.\n    for (i = 0, j = -32; j < limit; ++j) {\n      // Put the unicode characters into the array, and shuffle them.\n      if (seed) v ^= seed.charCodeAt((j + 32) % seed.length);\n      // After 32 shuffles, take v as the starting w value.\n      if (j === 0) w = v;\n      v ^= v << 10;\n      v ^= v >>> 15;\n      v ^= v << 4;\n      v ^= v >>> 13;\n      if (j >= 0) {\n        w = (w + 0x61c88647) | 0;     // Weyl.\n        t = (X[j & 127] ^= (v + w));  // Combine xor and weyl to init array.\n        i = (0 == t) ? i + 1 : 0;     // Count zeroes.\n      }\n    }\n    // We have detected all zeroes; make the key nonzero.\n    if (i >= 128) {\n      X[(seed && seed.length || 0) & 127] = -1;\n    }\n    // Run the generator 512 times to further mix the state before using it.\n    // Factoring this as a function slows the main generator, so it is just\n    // unrolled here.  The weyl generator is not advanced while warming up.\n    i = 127;\n    for (j = 4 * 128; j > 0; --j) {\n      v = X[(i + 34) & 127];\n      t = X[i = ((i + 1) & 127)];\n      v ^= v << 13;\n      t ^= t << 17;\n      v ^= v >>> 15;\n      t ^= t >>> 12;\n      X[i] = v ^ t;\n    }\n    // Storing state as object members is faster than using closure variables.\n    me.w = w;\n    me.X = X;\n    me.i = i;\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.i = f.i;\n  t.w = f.w;\n  t.X = f.X.slice();\n  return t;\n};\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.X) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor4096 = impl;\n}\n\n})(\n  this,                                     // window object or global\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/seedrandom/lib/xor4096.js","// A Javascript implementaion of the \"Tyche-i\" prng algorithm by\n// Samuel Neves and Filipe Araujo.\n// See https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var b = me.b, c = me.c, d = me.d, a = me.a;\n    b = (b << 25) ^ (b >>> 7) ^ c;\n    c = (c - d) | 0;\n    d = (d << 24) ^ (d >>> 8) ^ a;\n    a = (a - b) | 0;\n    me.b = b = (b << 20) ^ (b >>> 12) ^ c;\n    me.c = c = (c - d) | 0;\n    me.d = (d << 16) ^ (c >>> 16) ^ a;\n    return me.a = (a - b) | 0;\n  };\n\n  /* The following is non-inverted tyche, which has better internal\n   * bit diffusion, but which is about 25% slower than tyche-i in JS.\n  me.next = function() {\n    var a = me.a, b = me.b, c = me.c, d = me.d;\n    a = (me.a + me.b | 0) >>> 0;\n    d = me.d ^ a; d = d << 16 ^ d >>> 16;\n    c = me.c + d | 0;\n    b = me.b ^ c; b = b << 12 ^ d >>> 20;\n    me.a = a = a + b | 0;\n    d = d ^ a; me.d = d = d << 8 ^ d >>> 24;\n    me.c = c = c + d | 0;\n    b = b ^ c;\n    return me.b = (b << 7 ^ b >>> 25);\n  }\n  */\n\n  me.a = 0;\n  me.b = 0;\n  me.c = 2654435769 | 0;\n  me.d = 1367130551;\n\n  if (seed === Math.floor(seed)) {\n    // Integer seed.\n    me.a = (seed / 0x100000000) | 0;\n    me.b = seed | 0;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 20; k++) {\n    me.b ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.a = f.a;\n  t.b = f.b;\n  t.c = f.c;\n  t.d = f.d;\n  return t;\n};\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.tychei = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/seedrandom/lib/tychei.js","/*\nCopyright 2014 David Bau.\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n(function (pool, math) {\n//\n// The following constants are related to IEEE 754 limits.\n//\n\n// Detect the global object, even if operating in strict mode.\n// http://stackoverflow.com/a/14387057/265298\nvar global = (0, eval)('this'),\n    width = 256,        // each RC4 output is 0 <= x < 256\n    chunks = 6,         // at least six RC4 outputs for each double\n    digits = 52,        // there are 52 significant digits in a double\n    rngname = 'random', // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n    significance = math.pow(2, digits),\n    overflow = significance * 2,\n    mask = width - 1,\n    nodecrypto;         // node.js crypto module, initialized at the bottom.\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nfunction seedrandom(seed, options, callback) {\n  var key = [];\n  options = (options == true) ? { entropy: true } : (options || {});\n\n  // Flatten the seed string or build one from local entropy if needed.\n  var shortseed = mixkey(flatten(\n    options.entropy ? [seed, tostring(pool)] :\n    (seed == null) ? autoseed() : seed, 3), key);\n\n  // Use the seed to initialize an ARC4 generator.\n  var arc4 = new ARC4(key);\n\n  // This function returns a random double in [0, 1) that contains\n  // randomness in every bit of the mantissa of the IEEE 754 value.\n  var prng = function() {\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\n        x = 0;                          //   and no 'extra last byte'.\n    while (n < significance) {          // Fill up all significant digits by\n      n = (n + x) * width;              //   shifting numerator and\n      d *= width;                       //   denominator and generating a\n      x = arc4.g(1);                    //   new least-significant-byte.\n    }\n    while (n >= overflow) {             // To avoid rounding up, before adding\n      n /= 2;                           //   last byte, shift everything\n      d /= 2;                           //   right using integer math until\n      x >>>= 1;                         //   we have exactly the desired bits.\n    }\n    return (n + x) / d;                 // Form the number within [0, 1).\n  };\n\n  prng.int32 = function() { return arc4.g(4) | 0; }\n  prng.quick = function() { return arc4.g(4) / 0x100000000; }\n  prng.double = prng;\n\n  // Mix the randomness into accumulated entropy.\n  mixkey(tostring(arc4.S), pool);\n\n  // Calling convention: what to return as a function of prng, seed, is_math.\n  return (options.pass || callback ||\n      function(prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) { copy(state, arc4); }\n          // Only provide the .state method if requested via options.state.\n          prng.state = function() { return copy(arc4, {}); }\n        }\n\n        // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n        if (is_math_call) { math[rngname] = prng; return seed; }\n\n        // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(\n  prng,\n  shortseed,\n  'global' in options ? options.global : (this == math),\n  options.state);\n}\nmath['seed' + rngname] = seedrandom;\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\nfunction ARC4(key) {\n  var t, keylen = key.length,\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\n\n  // The empty key [] is treated as [0].\n  if (!keylen) { key = [keylen++]; }\n\n  // Set up S using the standard key scheduling algorithm.\n  while (i < width) {\n    s[i] = i++;\n  }\n  for (i = 0; i < width; i++) {\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\n    s[j] = t;\n  }\n\n  // The \"g\" method returns the next (count) outputs as one number.\n  (me.g = function(count) {\n    // Using instance members instead of closure state nearly doubles speed.\n    var t, r = 0,\n        i = me.i, j = me.j, s = me.S;\n    while (count--) {\n      t = s[i = mask & (i + 1)];\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\n    }\n    me.i = i; me.j = j;\n    return r;\n    // For robust unpredictability, the function call below automatically\n    // discards an initial batch of values.  This is called RC4-drop[256].\n    // See http://google.com/search?q=rsa+fluhrer+response&btnI\n  })(width);\n}\n\n//\n// copy()\n// Copies internal state of ARC4 to or from a plain object.\n//\nfunction copy(f, t) {\n  t.i = f.i;\n  t.j = f.j;\n  t.S = f.S.slice();\n  return t;\n};\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\nfunction flatten(obj, depth) {\n  var result = [], typ = (typeof obj), prop;\n  if (depth && typ == 'object') {\n    for (prop in obj) {\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n    }\n  }\n  return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\n}\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\nfunction mixkey(seed, key) {\n  var stringseed = seed + '', smear, j = 0;\n  while (j < stringseed.length) {\n    key[mask & j] =\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\n  }\n  return tostring(key);\n}\n\n//\n// autoseed()\n// Returns an object for autoseeding, using window.crypto and Node crypto\n// module if available.\n//\nfunction autoseed() {\n  try {\n    var out;\n    if (nodecrypto && (out = nodecrypto.randomBytes)) {\n      // The use of 'out' to remember randomBytes makes tight minified code.\n      out = out(width);\n    } else {\n      out = new Uint8Array(width);\n      (global.crypto || global.msCrypto).getRandomValues(out);\n    }\n    return tostring(out);\n  } catch (e) {\n    var browser = global.navigator,\n        plugins = browser && browser.plugins;\n    return [+new Date, global, plugins, global.screen, tostring(pool)];\n  }\n}\n\n//\n// tostring()\n// Converts an array of charcodes to a string\n//\nfunction tostring(a) {\n  return String.fromCharCode.apply(0, a);\n}\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to interfere with deterministic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(), pool);\n\n//\n// Nodejs and AMD support: export the implementation as a module using\n// either convention.\n//\nif ((typeof module) == 'object' && module.exports) {\n  module.exports = seedrandom;\n  // When in node.js, try using crypto package for autoseeding.\n  try {\n    nodecrypto = require('crypto');\n  } catch (ex) {}\n} else if ((typeof define) == 'function' && define.amd) {\n  define(function() { return seedrandom; });\n}\n\n// End anonymous scope, and pass initial values.\n})(\n  [],     // pool: entropy pool starts empty\n  Math    // math: package containing random, pow, and seedrandom\n);\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/seedrandom/seedrandom.js","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// crypto (ignored)\n// module id = 33\n// module chunks = 0","'use strict';\n\nclass Team {\n  constructor(name) {\n    this._name = name;\n    this._members = [];\n    this._inboxMap = [];\n    this._outboxMap = [];\n  }\n\n  addTank(tank) {\n    if(tank.team) throw \"Tank \" + tank.fullName + \" is already assigned to team \" + tank.team.name;\n    for(let i in this._members) {\n      if(this._members[i].id == tank.id) return;\n    }\n    this._members.push(tank);\n    tank._team = this;\n    this._inboxMap[tank.id] = [];\n    this._outboxMap[tank.id] = [];\n  }\n\n  get size() {\n    return this._members.length;\n  }\n\n  get name() {\n    return this._name;\n  }\n\n  get aliveCount() {\n    let count = 0;\n    for(let i=0; i < this._members.length; i++ ) {\n      if(this._members[i].energy > 0) {\n        count++;\n      }\n    }\n    return count;\n  }\n\n  get score() {\n    let sum = 0;\n    for(let i=0; i < this._members.length; i++ ) {\n      sum += this._members[i].score;\n    }\n    return sum;\n  }\n\n  get energy() {\n    let sum = 0;\n    for(let i=0; i < this._members.length; i++ ) {\n      sum += this._members[i].energy;\n    }\n    return sum;\n  }\n\n  get maxEnergy() {\n    let sum = 0;\n    for(let i=0; i < this._members.length; i++ ) {\n      sum += this._members[i].maxEnergy;\n    }\n    return sum;\n  }\n\n  get isAlive() {\n    return this.aliveCount > 0;\n  }\n\n  get members() {\n    return this._members;\n  }\n\n  getMessages(receiverId) {\n    return this._outboxMap[receiverId];\n  }\n\n  sendMessages(senderId, messages) {\n    for(let i in this._inboxMap) {\n      if(i == senderId) continue;\n      this._inboxMap[i] = this._inboxMap[i].concat(messages);\n    }\n  }\n\n  processMessages() {\n    let i;\n    for(i in this._inboxMap) {\n      this._outboxMap[i] = this._inboxMap[i];\n      this._inboxMap[i] = [];\n    }\n  }\n\n}\n\nexport default Team;\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/Team.js","'use strict';\n\nexport default class Bullet {\n\n  constructor(owner, id, power) {\n    this._id = id;\n    this._owner = owner;\n    this._angle = owner.angle + owner.gunAngle;\n    while(this._angle > 180) this._angle -= 360;\n    while(this._angle < -180) this._angle += 360;\n    this._x = owner.x + owner.gunLength*Math.cos(this._angle*(Math.PI/180));\n    this._y = owner.y + owner.gunLength*Math.sin(this._angle*(Math.PI/180));\n    this._speed = 4;\n    this._power = power;\n    this._damage = Math.round(1000 * power + 300 * power * power) * 0.01;\n    this._exploded = false;\n  }\n\n  get id() {\n    return this._id;\n  }\n\n  get x() {\n    return this._x;\n  }\n\n  get y() {\n    return this._y;\n  }\n\n  get angle() {\n    return this._angle;\n  }\n\n  get speed() {\n    return this._speed;\n  }\n\n  get damage() {\n    return this._damage;\n  }\n\n  get power() {\n    return this._power;\n  }\n  get owner() {\n    return this._owner;\n  }\n\n  get exploded() {\n    return this._exploded;\n  }\n\n  onWallHit() {\n    this._exploded = true;\n  }\n\n  onEnemyHit(enemy) {\n    this._exploded = true;\n    enemy.onDamage(this._damage);\n  }\n\n  simulationStep() {\n    this._x += this._speed*Math.cos(this._angle*(Math.PI/180));\n    this._y += this._speed*Math.sin(this._angle*(Math.PI/180));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/Bullet.js","'use strict';\n\nimport seedrandom from \"seedrandom\";\n\nexport default class Battlefield {\n\n  constructor(width, height) {\n    this._width = null;\n    this._height = null;\n    this._startSlotList = [];\n    this._offsetX = 0;\n    this._offsetY = 0;\n  }\n\n  setSize(width, height) {\n    this._width = width-this.margin*2;\n    this._height = height-this.margin*2;\n\n\n  }\n\n  randomize(seed) { // remember to call it after setSize !!!\n    if(seed === undefined) {\n      seed = (new Date()).getTime() + Math.round(Math.random()*1000000);\n    }\n    let rng = seedrandom(seed);\n\n    this._offsetX = Math.round(rng()*10000-5000);\n    this._offsetY = Math.round(rng()*10000-5000);\n    \n    // generate list of start slots\n    this._startSlotList = [];\n    let slotSize = 90;\n    for(let x = this.minX + slotSize; x < this.maxX - slotSize; x += slotSize) {\n      for(let y = this.minY + slotSize; y < this.maxY - slotSize; y += slotSize) {\n        this._startSlotList.push({x: x, y: y});\n      }\n    }\n    // shuffle start slots\n    let currentIndex = this._startSlotList.length, temporaryValue, randomIndex;\n    while (0 !== currentIndex) {\n      randomIndex = Math.floor(rng() * currentIndex);\n      currentIndex -= 1;\n      temporaryValue = this._startSlotList[currentIndex];\n      this._startSlotList[currentIndex] = this._startSlotList[randomIndex];\n      this._startSlotList[randomIndex] = temporaryValue;\n    }\n  }\n\n  get width() {\n    return this._width;\n  }\n\n  get height() {\n    return this._height;\n  }\n\n  get margin() {\n    return 25;\n  }\n\n  get minX() {\n    return this._offsetX + this.margin;\n  }\n\n  get minY() {\n    return this._offsetY + this.margin;\n  }\n\n  get maxX() {\n    return this._offsetX + this._width + this.margin;\n  }\n\n  get maxY() {\n    return this._offsetY + this._height + this.margin;\n  }\n\n  get offsetX() {\n    return this._offsetX;\n  }\n\n  get offsetY() {\n    return this._offsetY;\n  }\n\n  getStartSlot() {\n    if(this._startSlotList.length) {\n      return this._startSlotList.pop();\n    }\n    return null;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/Battlefield.js","'use strict';\n\nexport default class EventStore {\n\n  constructor() {\n    this._data = [];\n  }\n\n  add(index, event) {\n    if(!this._data[index]) {\n      this._data[index] = [];\n    }\n    this._data[index].push(event);\n  }\n\n  get(index) {\n    if(!this._data[index]) {\n      this._data[index] = [];\n    }\n    return this._data[index];\n  }\n\n  clear(index) {\n    this._data = [];\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/EventStore.js","'use strict';\n\nimport SAT from 'sat';\n\nexport default class CollisionResolver {\n\n  constructor() {\n    this._wallList = [];\n    this._tankMap = [];\n    this._bulletMap = [];\n    this._radarBeamMap = [];\n    this._battlefield = null;\n  }\n\n  updateBattlefield(battlefield) {\n    this._battlefield = {\n      minX: battlefield.minX,\n      minY: battlefield.minY,\n      maxX: battlefield.maxX,\n      maxY: battlefield.maxY\n    };\n    let wall;\n    wall = (new SAT.Box(new SAT.Vector(battlefield.minX-10, battlefield.minY), 10, battlefield.height)).toPolygon();\n    this._wallList.push(wall);\n    wall = (new SAT.Box(new SAT.Vector(battlefield.minX, battlefield.minY-10), battlefield.width, 10)).toPolygon();\n    this._wallList.push(wall);\n    wall = (new SAT.Box(new SAT.Vector(battlefield.maxX, battlefield.minY), 10, battlefield.height)).toPolygon();\n    this._wallList.push(wall);\n    wall = (new SAT.Box(new SAT.Vector(battlefield.minX, battlefield.maxY), battlefield.width, 10)).toPolygon();\n    this._wallList.push(wall);\n  }\n\n  updateTank(tank) {\n    let tankShape =  this._getTankShape(tank);\n    tankShape.pos.x = tank.x;\n    tankShape.pos.y = tank.y;\n  }\n\n  removeBullet(bullet) {\n    this._bulletMap[bullet.id] = null;\n  }\n\n\n  removeTank(tank) {\n    this._tankMap[tank.id] = null;\n    this._radarBeamMap[tank.id] = null;\n  }\n\n  hitTestBullet(bullet) {\n    let bulletShape =  this._getBulletShape(bullet);\n    let tankShape =  bullet.owner.energy ? this._getTankShape(bullet.owner) : null;\n\n    bulletShape.pos.x = bullet.x;\n    bulletShape.pos.y = bullet.y;\n\n    let i;\n    let hitTest;\n    let wall;\n    for(i in this._wallList ) {\n      wall = this._wallList[i];\n      hitTest = SAT.testCirclePolygon(bulletShape, wall);\n      if(hitTest) {\n        bullet.onWallHit();\n        return true;\n      }\n    }\n    let enemyShape;\n    for(i in this._tankMap ) {\n      enemyShape = this._tankMap[i];\n      if(!enemyShape) continue;\n      if(enemyShape == tankShape) {\n        continue;\n      }\n      hitTest = SAT.testCircleCircle(bulletShape, enemyShape);\n      if(hitTest) {\n        let energyBefore = enemyShape.tank.energy;\n        bullet.onEnemyHit(enemyShape.tank);\n        let areAllies = bullet.owner.isAlly(enemyShape.tank);\n        if(!areAllies) {\n          bullet.owner.onEnemyHitScore(energyBefore - enemyShape.tank.energy);\n        }\n        if(enemyShape.tank.energy == 0) {\n          bullet.owner.onEnemyKillScore();\n        }\n        return true;\n      }\n    }\n    return false;\n  }\n\n  checkTank(tank) {\n    let tankShape =  this._getTankShape(tank);\n\n    tankShape.pos.x = tank.x;\n    tankShape.pos.y = tank.y;\n\n    let i;\n    let hitTest;\n    let wall;\n    for(i in this._wallList ) {\n      wall = this._wallList[i];\n      hitTest = SAT.testCirclePolygon(tankShape, wall);\n      if(hitTest) {\n        tank.onWallHit();\n        return false;\n      }\n    }\n    let enemyShape;\n    for(i in this._tankMap ) {\n      enemyShape = this._tankMap[i];\n      if(!enemyShape) continue;\n      if(enemyShape == tankShape) {\n        continue;\n      }\n      hitTest = SAT.testCircleCircle(tankShape, enemyShape);\n      let areAllies = tank.isAlly(enemyShape.tank);\n      if(hitTest) {\n        if(!areAllies) {\n          let energyBefore = enemyShape.tank.energy;\n          tank.onEnemyHit();\n          enemyShape.tank.onBeingRam(tank.speed);\n          tank.onEnemyHitScore(energyBefore - enemyShape.tank.energy);\n          return false;\n        } else {\n          tank.onAllyHit();\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  scanTanks(tank) {\n    let radarBeamShape =  this._getRadarBeamShape(tank);\n    let tankShape =  this._getTankShape(tank);\n    radarBeamShape.setAngle((tank.angle + tank.radarAngle)*Math.PI/180);\n    radarBeamShape.pos.x = tank.x;\n    radarBeamShape.pos.y = tank.y;\n\n    let i;\n    let enemyShape;\n    let hitTest;\n    let enemies = [];\n\n    for(i in this._tankMap ) {\n      enemyShape = this._tankMap[i];\n      if(!enemyShape) continue;\n      if(enemyShape == tankShape) {\n        continue;\n      }\n      hitTest = SAT.testPolygonCircle(radarBeamShape, enemyShape);\n      if(hitTest) {\n        enemies.push(enemyShape.tank);\n      }\n    }\n    if(enemies.length == 0) {\n      return false;\n    }\n    let closestEnemy = null;\n    let closestEnemyDistance = tank.radarRange;\n    let closestAlly = null;\n    let closestAllyDistance = tank.radarRange;\n    let d, dx, dy, ally;\n    for(i in enemies ) {\n      dx = enemies[i].x - tank.x;\n      dy = enemies[i].y - tank.y;\n      d = Math.sqrt(dx*dx + dy*dy);\n      ally = enemies[i].isAlly(tank);\n      if(!ally && (!closestEnemy || d < closestEnemyDistance)) {\n        closestEnemy = enemies[i];\n        closestEnemyDistance = d;\n      } else if(ally && (!closestAlly || d < closestAllyDistance)) {\n        closestAlly = enemies[i];\n        closestAllyDistance = d;\n      }\n    }\n    if(closestAlly) {\n      tank.onAllySpot(closestAlly);\n    }\n    if(closestEnemy) {\n      tank.onEnemySpot(closestEnemy);\n      closestEnemy.onTargetingAlarm();\n    }\n\n\n    return true;\n  }\n\n  scanBullets(tank) {\n    let radarBeamShape =  this._getRadarBeamShape(tank);\n    radarBeamShape.setAngle((tank.angle + tank.radarAngle)*Math.PI/180);\n    radarBeamShape.pos.x = tank.x;\n    radarBeamShape.pos.y = tank.y;\n\n    let i;\n    let hitTest;\n    let bulletShape;\n    let spottedBullets = false;\n\n    for(i in this._bulletMap) {\n      bulletShape = this._bulletMap[i];\n      if(!bulletShape) continue;\n      if(bulletShape.bullet.owner == tank) continue;\n      hitTest = SAT.testCirclePolygon(bulletShape, radarBeamShape);\n      if(hitTest) {\n        tank.onBulletSpot(bulletShape.bullet);\n        spottedBullets = true;\n      }\n    }\n\n    return spottedBullets;\n  }\n\n\n  scanWalls(tank) {\n    let distance = this._getWallDistance(tank);\n    if(distance < tank.radarRange) {\n      tank.onWallSpot(distance);\n      return true;\n    }\n    return false;\n  }\n\n  _getWallDistance(tank) {\n    let angle = tank.angle + tank.radarAngle;\n    while(angle > 180) angle -= 360;\n    while(angle < -180) angle += 360;\n\n    let distanceNorth = tank.y - this._battlefield.minY;\n    let distanceSouth = this._battlefield.maxY - tank.y;\n    let distanceWest = tank.x - this._battlefield.minX;\n    let distanceEast = this._battlefield.maxX - tank.x;\n\n    if(angle == -180 || angle == 180) { // W\n      return distanceWest;\n    } else if(angle == 0) { // E\n      return distanceEast;\n    } else if(angle == -90) { // N\n      return distanceNorth;\n    } else if(angle == 90) { // S\n      return  distanceSouth;\n    }\n\n    let d1, d2;\n\n    if(angle > -180 && angle < -90) { // NW\n      d1 = distanceWest / Math.cos((angle+180)*(Math.PI/180));\n      d2 = distanceNorth / Math.sin((angle+180)*(Math.PI/180));\n    } else if(angle > -90 && angle < 0) { // NE\n      d1 = distanceEast / Math.cos((-angle)*(Math.PI/180));\n      d2 = distanceNorth / Math.sin((-angle)*(Math.PI/180));\n    } else if(angle > 0 && angle < 90) { // SE\n      d1 = distanceEast / Math.cos((angle)*(Math.PI/180));\n      d2 = distanceSouth / Math.sin((angle)*(Math.PI/180));\n    } else { // SW\n      d1 = distanceWest / Math.cos((180-angle)*(Math.PI/180));\n      d2 = distanceSouth / Math.sin((180-angle)*(Math.PI/180));\n    }\n\n    return Math.min(d1, d2);\n  }\n\n  _getTankShape(tank) {\n    if(!this._tankMap[tank.id]) {\n      if(tank.energy == 0) {\n        throw \"Cannot create shape for destroyed tank\";\n      }\n      let shape = new SAT.Circle(new SAT.Vector(tank.x,tank.y), 18);\n      this._tankMap[tank.id] = shape;\n      shape.tank = tank;\n    }\n    return this._tankMap[tank.id];\n  }\n\n  _getBulletShape(bullet) {\n    if(!this._bulletMap[bullet.id]) {\n      if(bullet.exploded) {\n        throw \"Cannot create shape for exploded bullet\";\n      }\n      let shape = new SAT.Circle(new SAT.Vector(bullet.x,bullet.y), 3);\n      this._bulletMap[bullet.id] = shape;\n      shape.bullet = bullet;\n    }\n    return this._bulletMap[bullet.id];\n  }\n\n  _getRadarBeamShape(tank) {\n    if(!this._radarBeamMap[tank.id]) {\n      if(tank.energy == 0) {\n        throw \"Cannot create radar beam shape for destroyed tank\";\n      }\n      let width = tank.radarRange * Math.tan(tank.radarFocal*(Math.PI/180))/2;\n      let shape = new SAT.Polygon(new SAT.Vector(tank.x, tank.y), [\n        new SAT.Vector(0, 3),\n        new SAT.Vector(0, -3),\n        new SAT.Vector(tank.radarRange,-width),\n        new SAT.Vector(tank.radarRange,width)\n      ]);\n\n      this._radarBeamMap[tank.id] = shape;\n      shape.tank = tank;\n    }\n    return this._radarBeamMap[tank.id];\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/CollisionResolver.js","// Version 0.7.1 - Copyright 2012 - 2018 -  Jim Riecken <jimr@jimr.ca>\n//\n// Released under the MIT License - https://github.com/jriecken/sat-js\n//\n// A simple library for determining intersections of circles and\n// polygons using the Separating Axis Theorem.\n/** @preserve SAT.js - Version 0.7.1 - Copyright 2012 - 2018 - Jim Riecken <jimr@jimr.ca> - released under the MIT License. https://github.com/jriecken/sat-js */\n\n/*global define: false, module: false*/\n/*jshint shadow:true, sub:true, forin:true, noarg:true, noempty:true,\n  eqeqeq:true, bitwise:true, strict:true, undef:true,\n  curly:true, browser:true */\n\n// Create a UMD wrapper for SAT. Works in:\n//\n//  - Plain browser via global SAT variable\n//  - AMD loader (like require.js)\n//  - Node.js\n//\n// The quoted properties all over the place are used so that the Closure Compiler\n// does not mangle the exposed API in advanced mode.\n/**\n * @param {*} root - The global scope\n * @param {Function} factory - Factory that creates SAT module\n */\n(function (root, factory) {\n  \"use strict\";\n  if (typeof define === 'function' && define['amd']) {\n    define(factory);\n  } else if (typeof exports === 'object') {\n    module['exports'] = factory();\n  } else {\n    root['SAT'] = factory();\n  }\n}(this, function () {\n  \"use strict\";\n\n  var SAT = {};\n\n  //\n  // ## Vector\n  //\n  // Represents a vector in two dimensions with `x` and `y` properties.\n\n\n  // Create a new Vector, optionally passing in the `x` and `y` coordinates. If\n  // a coordinate is not specified, it will be set to `0`\n  /**\n   * @param {?number=} x The x position.\n   * @param {?number=} y The y position.\n   * @constructor\n   */\n  function Vector(x, y) {\n    this['x'] = x || 0;\n    this['y'] = y || 0;\n  }\n  SAT['Vector'] = Vector;\n  // Alias `Vector` as `V`\n  SAT['V'] = Vector;\n\n\n  // Copy the values of another Vector into this one.\n  /**\n   * @param {Vector} other The other Vector.\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['copy'] = Vector.prototype.copy = function(other) {\n    this['x'] = other['x'];\n    this['y'] = other['y'];\n    return this;\n  };\n\n  // Create a new vector with the same coordinates as this on.\n  /**\n   * @return {Vector} The new cloned vector\n   */\n  Vector.prototype['clone'] = Vector.prototype.clone = function() {\n    return new Vector(this['x'], this['y']);\n  };\n\n  // Change this vector to be perpendicular to what it was before. (Effectively\n  // roatates it 90 degrees in a clockwise direction)\n  /**\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['perp'] = Vector.prototype.perp = function() {\n    var x = this['x'];\n    this['x'] = this['y'];\n    this['y'] = -x;\n    return this;\n  };\n\n  // Rotate this vector (counter-clockwise) by the specified angle (in radians).\n  /**\n   * @param {number} angle The angle to rotate (in radians)\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['rotate'] = Vector.prototype.rotate = function (angle) {\n    var x = this['x'];\n    var y = this['y'];\n    this['x'] = x * Math.cos(angle) - y * Math.sin(angle);\n    this['y'] = x * Math.sin(angle) + y * Math.cos(angle);\n    return this;\n  };\n\n  // Reverse this vector.\n  /**\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['reverse'] = Vector.prototype.reverse = function() {\n    this['x'] = -this['x'];\n    this['y'] = -this['y'];\n    return this;\n  };\n\n\n  // Normalize this vector.  (make it have length of `1`)\n  /**\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['normalize'] = Vector.prototype.normalize = function() {\n    var d = this.len();\n    if(d > 0) {\n      this['x'] = this['x'] / d;\n      this['y'] = this['y'] / d;\n    }\n    return this;\n  };\n\n  // Add another vector to this one.\n  /**\n   * @param {Vector} other The other Vector.\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['add'] = Vector.prototype.add = function(other) {\n    this['x'] += other['x'];\n    this['y'] += other['y'];\n    return this;\n  };\n\n  // Subtract another vector from this one.\n  /**\n   * @param {Vector} other The other Vector.\n   * @return {Vector} This for chaiing.\n   */\n  Vector.prototype['sub'] = Vector.prototype.sub = function(other) {\n    this['x'] -= other['x'];\n    this['y'] -= other['y'];\n    return this;\n  };\n\n  // Scale this vector. An independant scaling factor can be provided\n  // for each axis, or a single scaling factor that will scale both `x` and `y`.\n  /**\n   * @param {number} x The scaling factor in the x direction.\n   * @param {?number=} y The scaling factor in the y direction.  If this\n   *   is not specified, the x scaling factor will be used.\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['scale'] = Vector.prototype.scale = function(x,y) {\n    this['x'] *= x;\n    this['y'] *= typeof y != 'undefined' ? y : x;\n    return this;\n  };\n\n  // Project this vector on to another vector.\n  /**\n   * @param {Vector} other The vector to project onto.\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['project'] = Vector.prototype.project = function(other) {\n    var amt = this.dot(other) / other.len2();\n    this['x'] = amt * other['x'];\n    this['y'] = amt * other['y'];\n    return this;\n  };\n\n  // Project this vector onto a vector of unit length. This is slightly more efficient\n  // than `project` when dealing with unit vectors.\n  /**\n   * @param {Vector} other The unit vector to project onto.\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['projectN'] = Vector.prototype.projectN = function(other) {\n    var amt = this.dot(other);\n    this['x'] = amt * other['x'];\n    this['y'] = amt * other['y'];\n    return this;\n  };\n\n  // Reflect this vector on an arbitrary axis.\n  /**\n   * @param {Vector} axis The vector representing the axis.\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['reflect'] = Vector.prototype.reflect = function(axis) {\n    var x = this['x'];\n    var y = this['y'];\n    this.project(axis).scale(2);\n    this['x'] -= x;\n    this['y'] -= y;\n    return this;\n  };\n\n  // Reflect this vector on an arbitrary axis (represented by a unit vector). This is\n  // slightly more efficient than `reflect` when dealing with an axis that is a unit vector.\n  /**\n   * @param {Vector} axis The unit vector representing the axis.\n   * @return {Vector} This for chaining.\n   */\n  Vector.prototype['reflectN'] = Vector.prototype.reflectN = function(axis) {\n    var x = this['x'];\n    var y = this['y'];\n    this.projectN(axis).scale(2);\n    this['x'] -= x;\n    this['y'] -= y;\n    return this;\n  };\n\n  // Get the dot product of this vector and another.\n  /**\n   * @param {Vector}  other The vector to dot this one against.\n   * @return {number} The dot product.\n   */\n  Vector.prototype['dot'] = Vector.prototype.dot = function(other) {\n    return this['x'] * other['x'] + this['y'] * other['y'];\n  };\n\n  // Get the squared length of this vector.\n  /**\n   * @return {number} The length^2 of this vector.\n   */\n  Vector.prototype['len2'] = Vector.prototype.len2 = function() {\n    return this.dot(this);\n  };\n\n  // Get the length of this vector.\n  /**\n   * @return {number} The length of this vector.\n   */\n  Vector.prototype['len'] = Vector.prototype.len = function() {\n    return Math.sqrt(this.len2());\n  };\n\n  // ## Circle\n  //\n  // Represents a circle with a position and a radius.\n\n  // Create a new circle, optionally passing in a position and/or radius. If no position\n  // is given, the circle will be at `(0,0)`. If no radius is provided, the circle will\n  // have a radius of `0`.\n  /**\n   * @param {Vector=} pos A vector representing the position of the center of the circle\n   * @param {?number=} r The radius of the circle\n   * @constructor\n   */\n  function Circle(pos, r) {\n    this['pos'] = pos || new Vector();\n    this['r'] = r || 0;\n  }\n  SAT['Circle'] = Circle;\n\n  // Compute the axis-aligned bounding box (AABB) of this Circle.\n  //\n  // Note: Returns a _new_ `Polygon` each time you call this.\n  /**\n   * @return {Polygon} The AABB\n   */\n  Circle.prototype['getAABB'] = Circle.prototype.getAABB = function() {\n    var r = this['r'];\n    var corner = this[\"pos\"].clone().sub(new Vector(r, r));\n    return new Box(corner, r*2, r*2).toPolygon();\n  };\n\n  // ## Polygon\n  //\n  // Represents a *convex* polygon with any number of points (specified in counter-clockwise order)\n  //\n  // Note: Do _not_ manually change the `points`, `angle`, or `offset` properties. Use the\n  // provided setters. Otherwise the calculated properties will not be updated correctly.\n  //\n  // `pos` can be changed directly.\n\n  // Create a new polygon, passing in a position vector, and an array of points (represented\n  // by vectors relative to the position vector). If no position is passed in, the position\n  // of the polygon will be `(0,0)`.\n  /**\n   * @param {Vector=} pos A vector representing the origin of the polygon. (all other\n   *   points are relative to this one)\n   * @param {Array.<Vector>=} points An array of vectors representing the points in the polygon,\n   *   in counter-clockwise order.\n   * @constructor\n   */\n  function Polygon(pos, points) {\n    this['pos'] = pos || new Vector();\n    this['angle'] = 0;\n    this['offset'] = new Vector();\n    this.setPoints(points || []);\n  }\n  SAT['Polygon'] = Polygon;\n\n  // Set the points of the polygon.\n  //\n  // Note: The points are counter-clockwise *with respect to the coordinate system*.\n  // If you directly draw the points on a screen that has the origin at the top-left corner\n  // it will _appear_ visually that the points are being specified clockwise. This is just\n  // because of the inversion of the Y-axis when being displayed.\n  /**\n   * @param {Array.<Vector>=} points An array of vectors representing the points in the polygon,\n   *   in counter-clockwise order.\n   * @return {Polygon} This for chaining.\n   */\n  Polygon.prototype['setPoints'] = Polygon.prototype.setPoints = function(points) {\n    // Only re-allocate if this is a new polygon or the number of points has changed.\n    var lengthChanged = !this['points'] || this['points'].length !== points.length;\n    if (lengthChanged) {\n      var i;\n      var calcPoints = this['calcPoints'] = [];\n      var edges = this['edges'] = [];\n      var normals = this['normals'] = [];\n      // Allocate the vector arrays for the calculated properties\n      for (i = 0; i < points.length; i++) {\n        calcPoints.push(new Vector());\n        edges.push(new Vector());\n        normals.push(new Vector());\n      }\n    }\n    this['points'] = points;\n    this._recalc();\n    return this;\n  };\n\n  // Set the current rotation angle of the polygon.\n  /**\n   * @param {number} angle The current rotation angle (in radians).\n   * @return {Polygon} This for chaining.\n   */\n  Polygon.prototype['setAngle'] = Polygon.prototype.setAngle = function(angle) {\n    this['angle'] = angle;\n    this._recalc();\n    return this;\n  };\n\n  // Set the current offset to apply to the `points` before applying the `angle` rotation.\n  /**\n   * @param {Vector} offset The new offset vector.\n   * @return {Polygon} This for chaining.\n   */\n  Polygon.prototype['setOffset'] = Polygon.prototype.setOffset = function(offset) {\n    this['offset'] = offset;\n    this._recalc();\n    return this;\n  };\n\n  // Rotates this polygon counter-clockwise around the origin of *its local coordinate system* (i.e. `pos`).\n  //\n  // Note: This changes the **original** points (so any `angle` will be applied on top of this rotation).\n  /**\n   * @param {number} angle The angle to rotate (in radians)\n   * @return {Polygon} This for chaining.\n   */\n  Polygon.prototype['rotate'] = Polygon.prototype.rotate = function(angle) {\n    var points = this['points'];\n    var len = points.length;\n    for (var i = 0; i < len; i++) {\n      points[i].rotate(angle);\n    }\n    this._recalc();\n    return this;\n  };\n\n  // Translates the points of this polygon by a specified amount relative to the origin of *its own coordinate\n  // system* (i.e. `pos`).\n  //\n  // This is most useful to change the \"center point\" of a polygon. If you just want to move the whole polygon, change\n  // the coordinates of `pos`.\n  //\n  // Note: This changes the **original** points (so any `offset` will be applied on top of this translation)\n  /**\n   * @param {number} x The horizontal amount to translate.\n   * @param {number} y The vertical amount to translate.\n   * @return {Polygon} This for chaining.\n   */\n  Polygon.prototype['translate'] = Polygon.prototype.translate = function (x, y) {\n    var points = this['points'];\n    var len = points.length;\n    for (var i = 0; i < len; i++) {\n      points[i][\"x\"] += x;\n      points[i][\"y\"] += y;\n    }\n    this._recalc();\n    return this;\n  };\n\n\n  // Computes the calculated collision polygon. Applies the `angle` and `offset` to the original points then recalculates the\n  // edges and normals of the collision polygon.\n  /**\n   * @return {Polygon} This for chaining.\n   */\n  Polygon.prototype._recalc = function() {\n    // Calculated points - this is what is used for underlying collisions and takes into account\n    // the angle/offset set on the polygon.\n    var calcPoints = this['calcPoints'];\n    // The edges here are the direction of the `n`th edge of the polygon, relative to\n    // the `n`th point. If you want to draw a given edge from the edge value, you must\n    // first translate to the position of the starting point.\n    var edges = this['edges'];\n    // The normals here are the direction of the normal for the `n`th edge of the polygon, relative\n    // to the position of the `n`th point. If you want to draw an edge normal, you must first\n    // translate to the position of the starting point.\n    var normals = this['normals'];\n    // Copy the original points array and apply the offset/angle\n    var points = this['points'];\n    var offset = this['offset'];\n    var angle = this['angle'];\n    var len = points.length;\n    var i;\n    for (i = 0; i < len; i++) {\n      var calcPoint = calcPoints[i].copy(points[i]);\n      calcPoint[\"x\"] += offset[\"x\"];\n      calcPoint[\"y\"] += offset[\"y\"];\n      if (angle !== 0) {\n        calcPoint.rotate(angle);\n      }\n    }\n    // Calculate the edges/normals\n    for (i = 0; i < len; i++) {\n      var p1 = calcPoints[i];\n      var p2 = i < len - 1 ? calcPoints[i + 1] : calcPoints[0];\n      var e = edges[i].copy(p2).sub(p1);\n      normals[i].copy(e).perp().normalize();\n    }\n    return this;\n  };\n\n\n  // Compute the axis-aligned bounding box. Any current state\n  // (translations/rotations) will be applied before constructing the AABB.\n  //\n  // Note: Returns a _new_ `Polygon` each time you call this.\n  /**\n   * @return {Polygon} The AABB\n   */\n  Polygon.prototype[\"getAABB\"] = Polygon.prototype.getAABB = function() {\n    var points = this[\"calcPoints\"];\n    var len = points.length;\n    var xMin = points[0][\"x\"];\n    var yMin = points[0][\"y\"];\n    var xMax = points[0][\"x\"];\n    var yMax = points[0][\"y\"];\n    for (var i = 1; i < len; i++) {\n      var point = points[i];\n      if (point[\"x\"] < xMin) {\n        xMin = point[\"x\"];\n      }\n      else if (point[\"x\"] > xMax) {\n        xMax = point[\"x\"];\n      }\n      if (point[\"y\"] < yMin) {\n        yMin = point[\"y\"];\n      }\n      else if (point[\"y\"] > yMax) {\n        yMax = point[\"y\"];\n      }\n    }\n    return new Box(this[\"pos\"].clone().add(new Vector(xMin, yMin)), xMax - xMin, yMax - yMin).toPolygon();\n  };\n\n  // Compute the centroid (geometric center) of the polygon. Any current state\n  // (translations/rotations) will be applied before computing the centroid.\n  //\n  // See https://en.wikipedia.org/wiki/Centroid#Centroid_of_a_polygon\n  //\n  // Note: Returns a _new_ `Vector` each time you call this.\n  /**\n   * @return {Vector} A Vector that contains the coordinates of the Centroid.\n   */\n  Polygon.prototype[\"getCentroid\"] = Polygon.prototype.getCentroid = function() {\n    var points = this[\"calcPoints\"];\n    var len = points.length;\n    var cx = 0;\n    var cy = 0;\n    var ar = 0;\n    for (var i = 0; i < len; i++) {\n      var p1 = points[i];\n      var p2 = i === len - 1 ? points[0] : points[i+1]; // Loop around if last point\n      var a = p1[\"x\"] * p2[\"y\"] - p2[\"x\"] * p1[\"y\"];\n      cx += (p1[\"x\"] + p2[\"x\"]) * a;\n      cy += (p1[\"y\"] + p2[\"y\"]) * a;\n      ar += a;\n    }\n    ar = ar * 3; // we want 1 / 6 the area and we currently have 2*area\n    cx = cx / ar;\n    cy = cy / ar;\n    return new Vector(cx, cy);\n  };\n\n\n  // ## Box\n  //\n  // Represents an axis-aligned box, with a width and height.\n\n\n  // Create a new box, with the specified position, width, and height. If no position\n  // is given, the position will be `(0,0)`. If no width or height are given, they will\n  // be set to `0`.\n  /**\n   * @param {Vector=} pos A vector representing the bottom-left of the box (i.e. the smallest x and smallest y value).\n   * @param {?number=} w The width of the box.\n   * @param {?number=} h The height of the box.\n   * @constructor\n   */\n  function Box(pos, w, h) {\n    this['pos'] = pos || new Vector();\n    this['w'] = w || 0;\n    this['h'] = h || 0;\n  }\n  SAT['Box'] = Box;\n\n  // Returns a polygon whose edges are the same as this box.\n  /**\n   * @return {Polygon} A new Polygon that represents this box.\n   */\n  Box.prototype['toPolygon'] = Box.prototype.toPolygon = function() {\n    var pos = this['pos'];\n    var w = this['w'];\n    var h = this['h'];\n    return new Polygon(new Vector(pos['x'], pos['y']), [\n     new Vector(), new Vector(w, 0),\n     new Vector(w,h), new Vector(0,h)\n    ]);\n  };\n\n  // ## Response\n  //\n  // An object representing the result of an intersection. Contains:\n  //  - The two objects participating in the intersection\n  //  - The vector representing the minimum change necessary to extract the first object\n  //    from the second one (as well as a unit vector in that direction and the magnitude\n  //    of the overlap)\n  //  - Whether the first object is entirely inside the second, and vice versa.\n  /**\n   * @constructor\n   */\n  function Response() {\n    this['a'] = null;\n    this['b'] = null;\n    this['overlapN'] = new Vector();\n    this['overlapV'] = new Vector();\n    this.clear();\n  }\n  SAT['Response'] = Response;\n\n  // Set some values of the response back to their defaults.  Call this between tests if\n  // you are going to reuse a single Response object for multiple intersection tests (recommented\n  // as it will avoid allcating extra memory)\n  /**\n   * @return {Response} This for chaining\n   */\n  Response.prototype['clear'] = Response.prototype.clear = function() {\n    this['aInB'] = true;\n    this['bInA'] = true;\n    this['overlap'] = Number.MAX_VALUE;\n    return this;\n  };\n\n  // ## Object Pools\n\n  // A pool of `Vector` objects that are used in calculations to avoid\n  // allocating memory.\n  /**\n   * @type {Array.<Vector>}\n   */\n  var T_VECTORS = [];\n  for (var i = 0; i < 10; i++) { T_VECTORS.push(new Vector()); }\n\n  // A pool of arrays of numbers used in calculations to avoid allocating\n  // memory.\n  /**\n   * @type {Array.<Array.<number>>}\n   */\n  var T_ARRAYS = [];\n  for (var i = 0; i < 5; i++) { T_ARRAYS.push([]); }\n\n  // Temporary response used for polygon hit detection.\n  /**\n   * @type {Response}\n   */\n  var T_RESPONSE = new Response();\n\n  // Tiny \"point\" polygon used for polygon hit detection.\n  /**\n   * @type {Polygon}\n   */\n  var TEST_POINT = new Box(new Vector(), 0.000001, 0.000001).toPolygon();\n\n  // ## Helper Functions\n\n  // Flattens the specified array of points onto a unit vector axis,\n  // resulting in a one dimensional range of the minimum and\n  // maximum value on that axis.\n  /**\n   * @param {Array.<Vector>} points The points to flatten.\n   * @param {Vector} normal The unit vector axis to flatten on.\n   * @param {Array.<number>} result An array.  After calling this function,\n   *   result[0] will be the minimum value,\n   *   result[1] will be the maximum value.\n   */\n  function flattenPointsOn(points, normal, result) {\n    var min = Number.MAX_VALUE;\n    var max = -Number.MAX_VALUE;\n    var len = points.length;\n    for (var i = 0; i < len; i++ ) {\n      // The magnitude of the projection of the point onto the normal\n      var dot = points[i].dot(normal);\n      if (dot < min) { min = dot; }\n      if (dot > max) { max = dot; }\n    }\n    result[0] = min; result[1] = max;\n  }\n\n  // Check whether two convex polygons are separated by the specified\n  // axis (must be a unit vector).\n  /**\n   * @param {Vector} aPos The position of the first polygon.\n   * @param {Vector} bPos The position of the second polygon.\n   * @param {Array.<Vector>} aPoints The points in the first polygon.\n   * @param {Array.<Vector>} bPoints The points in the second polygon.\n   * @param {Vector} axis The axis (unit sized) to test against.  The points of both polygons\n   *   will be projected onto this axis.\n   * @param {Response=} response A Response object (optional) which will be populated\n   *   if the axis is not a separating axis.\n   * @return {boolean} true if it is a separating axis, false otherwise.  If false,\n   *   and a response is passed in, information about how much overlap and\n   *   the direction of the overlap will be populated.\n   */\n  function isSeparatingAxis(aPos, bPos, aPoints, bPoints, axis, response) {\n    var rangeA = T_ARRAYS.pop();\n    var rangeB = T_ARRAYS.pop();\n    // The magnitude of the offset between the two polygons\n    var offsetV = T_VECTORS.pop().copy(bPos).sub(aPos);\n    var projectedOffset = offsetV.dot(axis);\n    // Project the polygons onto the axis.\n    flattenPointsOn(aPoints, axis, rangeA);\n    flattenPointsOn(bPoints, axis, rangeB);\n    // Move B's range to its position relative to A.\n    rangeB[0] += projectedOffset;\n    rangeB[1] += projectedOffset;\n    // Check if there is a gap. If there is, this is a separating axis and we can stop\n    if (rangeA[0] > rangeB[1] || rangeB[0] > rangeA[1]) {\n      T_VECTORS.push(offsetV);\n      T_ARRAYS.push(rangeA);\n      T_ARRAYS.push(rangeB);\n      return true;\n    }\n    // This is not a separating axis. If we're calculating a response, calculate the overlap.\n    if (response) {\n      var overlap = 0;\n      // A starts further left than B\n      if (rangeA[0] < rangeB[0]) {\n        response['aInB'] = false;\n        // A ends before B does. We have to pull A out of B\n        if (rangeA[1] < rangeB[1]) {\n          overlap = rangeA[1] - rangeB[0];\n          response['bInA'] = false;\n        // B is fully inside A.  Pick the shortest way out.\n        } else {\n          var option1 = rangeA[1] - rangeB[0];\n          var option2 = rangeB[1] - rangeA[0];\n          overlap = option1 < option2 ? option1 : -option2;\n        }\n      // B starts further left than A\n      } else {\n        response['bInA'] = false;\n        // B ends before A ends. We have to push A out of B\n        if (rangeA[1] > rangeB[1]) {\n          overlap = rangeA[0] - rangeB[1];\n          response['aInB'] = false;\n        // A is fully inside B.  Pick the shortest way out.\n        } else {\n          var option1 = rangeA[1] - rangeB[0];\n          var option2 = rangeB[1] - rangeA[0];\n          overlap = option1 < option2 ? option1 : -option2;\n        }\n      }\n      // If this is the smallest amount of overlap we've seen so far, set it as the minimum overlap.\n      var absOverlap = Math.abs(overlap);\n      if (absOverlap < response['overlap']) {\n        response['overlap'] = absOverlap;\n        response['overlapN'].copy(axis);\n        if (overlap < 0) {\n          response['overlapN'].reverse();\n        }\n      }\n    }\n    T_VECTORS.push(offsetV);\n    T_ARRAYS.push(rangeA);\n    T_ARRAYS.push(rangeB);\n    return false;\n  }\n  SAT['isSeparatingAxis'] = isSeparatingAxis;\n\n  // Calculates which Voronoi region a point is on a line segment.\n  // It is assumed that both the line and the point are relative to `(0,0)`\n  //\n  //            |       (0)      |\n  //     (-1)  [S]--------------[E]  (1)\n  //            |       (0)      |\n  /**\n   * @param {Vector} line The line segment.\n   * @param {Vector} point The point.\n   * @return  {number} LEFT_VORONOI_REGION (-1) if it is the left region,\n   *          MIDDLE_VORONOI_REGION (0) if it is the middle region,\n   *          RIGHT_VORONOI_REGION (1) if it is the right region.\n   */\n  function voronoiRegion(line, point) {\n    var len2 = line.len2();\n    var dp = point.dot(line);\n    // If the point is beyond the start of the line, it is in the\n    // left voronoi region.\n    if (dp < 0) { return LEFT_VORONOI_REGION; }\n    // If the point is beyond the end of the line, it is in the\n    // right voronoi region.\n    else if (dp > len2) { return RIGHT_VORONOI_REGION; }\n    // Otherwise, it's in the middle one.\n    else { return MIDDLE_VORONOI_REGION; }\n  }\n  // Constants for Voronoi regions\n  /**\n   * @const\n   */\n  var LEFT_VORONOI_REGION = -1;\n  /**\n   * @const\n   */\n  var MIDDLE_VORONOI_REGION = 0;\n  /**\n   * @const\n   */\n  var RIGHT_VORONOI_REGION = 1;\n\n  // ## Collision Tests\n\n  // Check if a point is inside a circle.\n  /**\n   * @param {Vector} p The point to test.\n   * @param {Circle} c The circle to test.\n   * @return {boolean} true if the point is inside the circle, false if it is not.\n   */\n  function pointInCircle(p, c) {\n    var differenceV = T_VECTORS.pop().copy(p).sub(c['pos']);\n    var radiusSq = c['r'] * c['r'];\n    var distanceSq = differenceV.len2();\n    T_VECTORS.push(differenceV);\n    // If the distance between is smaller than the radius then the point is inside the circle.\n    return distanceSq <= radiusSq;\n  }\n  SAT['pointInCircle'] = pointInCircle;\n\n  // Check if a point is inside a convex polygon.\n  /**\n   * @param {Vector} p The point to test.\n   * @param {Polygon} poly The polygon to test.\n   * @return {boolean} true if the point is inside the polygon, false if it is not.\n   */\n  function pointInPolygon(p, poly) {\n    TEST_POINT['pos'].copy(p);\n    T_RESPONSE.clear();\n    var result = testPolygonPolygon(TEST_POINT, poly, T_RESPONSE);\n    if (result) {\n      result = T_RESPONSE['aInB'];\n    }\n    return result;\n  }\n  SAT['pointInPolygon'] = pointInPolygon;\n\n  // Check if two circles collide.\n  /**\n   * @param {Circle} a The first circle.\n   * @param {Circle} b The second circle.\n   * @param {Response=} response Response object (optional) that will be populated if\n   *   the circles intersect.\n   * @return {boolean} true if the circles intersect, false if they don't.\n   */\n  function testCircleCircle(a, b, response) {\n    // Check if the distance between the centers of the two\n    // circles is greater than their combined radius.\n    var differenceV = T_VECTORS.pop().copy(b['pos']).sub(a['pos']);\n    var totalRadius = a['r'] + b['r'];\n    var totalRadiusSq = totalRadius * totalRadius;\n    var distanceSq = differenceV.len2();\n    // If the distance is bigger than the combined radius, they don't intersect.\n    if (distanceSq > totalRadiusSq) {\n      T_VECTORS.push(differenceV);\n      return false;\n    }\n    // They intersect.  If we're calculating a response, calculate the overlap.\n    if (response) {\n      var dist = Math.sqrt(distanceSq);\n      response['a'] = a;\n      response['b'] = b;\n      response['overlap'] = totalRadius - dist;\n      response['overlapN'].copy(differenceV.normalize());\n      response['overlapV'].copy(differenceV).scale(response['overlap']);\n      response['aInB']= a['r'] <= b['r'] && dist <= b['r'] - a['r'];\n      response['bInA'] = b['r'] <= a['r'] && dist <= a['r'] - b['r'];\n    }\n    T_VECTORS.push(differenceV);\n    return true;\n  }\n  SAT['testCircleCircle'] = testCircleCircle;\n\n  // Check if a polygon and a circle collide.\n  /**\n   * @param {Polygon} polygon The polygon.\n   * @param {Circle} circle The circle.\n   * @param {Response=} response Response object (optional) that will be populated if\n   *   they interset.\n   * @return {boolean} true if they intersect, false if they don't.\n   */\n  function testPolygonCircle(polygon, circle, response) {\n    // Get the position of the circle relative to the polygon.\n    var circlePos = T_VECTORS.pop().copy(circle['pos']).sub(polygon['pos']);\n    var radius = circle['r'];\n    var radius2 = radius * radius;\n    var points = polygon['calcPoints'];\n    var len = points.length;\n    var edge = T_VECTORS.pop();\n    var point = T_VECTORS.pop();\n\n    // For each edge in the polygon:\n    for (var i = 0; i < len; i++) {\n      var next = i === len - 1 ? 0 : i + 1;\n      var prev = i === 0 ? len - 1 : i - 1;\n      var overlap = 0;\n      var overlapN = null;\n\n      // Get the edge.\n      edge.copy(polygon['edges'][i]);\n      // Calculate the center of the circle relative to the starting point of the edge.\n      point.copy(circlePos).sub(points[i]);\n\n      // If the distance between the center of the circle and the point\n      // is bigger than the radius, the polygon is definitely not fully in\n      // the circle.\n      if (response && point.len2() > radius2) {\n        response['aInB'] = false;\n      }\n\n      // Calculate which Voronoi region the center of the circle is in.\n      var region = voronoiRegion(edge, point);\n      // If it's the left region:\n      if (region === LEFT_VORONOI_REGION) {\n        // We need to make sure we're in the RIGHT_VORONOI_REGION of the previous edge.\n        edge.copy(polygon['edges'][prev]);\n        // Calculate the center of the circle relative the starting point of the previous edge\n        var point2 = T_VECTORS.pop().copy(circlePos).sub(points[prev]);\n        region = voronoiRegion(edge, point2);\n        if (region === RIGHT_VORONOI_REGION) {\n          // It's in the region we want.  Check if the circle intersects the point.\n          var dist = point.len();\n          if (dist > radius) {\n            // No intersection\n            T_VECTORS.push(circlePos);\n            T_VECTORS.push(edge);\n            T_VECTORS.push(point);\n            T_VECTORS.push(point2);\n            return false;\n          } else if (response) {\n            // It intersects, calculate the overlap.\n            response['bInA'] = false;\n            overlapN = point.normalize();\n            overlap = radius - dist;\n          }\n        }\n        T_VECTORS.push(point2);\n      // If it's the right region:\n      } else if (region === RIGHT_VORONOI_REGION) {\n        // We need to make sure we're in the left region on the next edge\n        edge.copy(polygon['edges'][next]);\n        // Calculate the center of the circle relative to the starting point of the next edge.\n        point.copy(circlePos).sub(points[next]);\n        region = voronoiRegion(edge, point);\n        if (region === LEFT_VORONOI_REGION) {\n          // It's in the region we want.  Check if the circle intersects the point.\n          var dist = point.len();\n          if (dist > radius) {\n            // No intersection\n            T_VECTORS.push(circlePos);\n            T_VECTORS.push(edge);\n            T_VECTORS.push(point);\n            return false;\n          } else if (response) {\n            // It intersects, calculate the overlap.\n            response['bInA'] = false;\n            overlapN = point.normalize();\n            overlap = radius - dist;\n          }\n        }\n      // Otherwise, it's the middle region:\n      } else {\n        // Need to check if the circle is intersecting the edge,\n        // Change the edge into its \"edge normal\".\n        var normal = edge.perp().normalize();\n        // Find the perpendicular distance between the center of the\n        // circle and the edge.\n        var dist = point.dot(normal);\n        var distAbs = Math.abs(dist);\n        // If the circle is on the outside of the edge, there is no intersection.\n        if (dist > 0 && distAbs > radius) {\n          // No intersection\n          T_VECTORS.push(circlePos);\n          T_VECTORS.push(normal);\n          T_VECTORS.push(point);\n          return false;\n        } else if (response) {\n          // It intersects, calculate the overlap.\n          overlapN = normal;\n          overlap = radius - dist;\n          // If the center of the circle is on the outside of the edge, or part of the\n          // circle is on the outside, the circle is not fully inside the polygon.\n          if (dist >= 0 || overlap < 2 * radius) {\n            response['bInA'] = false;\n          }\n        }\n      }\n\n      // If this is the smallest overlap we've seen, keep it.\n      // (overlapN may be null if the circle was in the wrong Voronoi region).\n      if (overlapN && response && Math.abs(overlap) < Math.abs(response['overlap'])) {\n        response['overlap'] = overlap;\n        response['overlapN'].copy(overlapN);\n      }\n    }\n\n    // Calculate the final overlap vector - based on the smallest overlap.\n    if (response) {\n      response['a'] = polygon;\n      response['b'] = circle;\n      response['overlapV'].copy(response['overlapN']).scale(response['overlap']);\n    }\n    T_VECTORS.push(circlePos);\n    T_VECTORS.push(edge);\n    T_VECTORS.push(point);\n    return true;\n  }\n  SAT['testPolygonCircle'] = testPolygonCircle;\n\n  // Check if a circle and a polygon collide.\n  //\n  // **NOTE:** This is slightly less efficient than polygonCircle as it just\n  // runs polygonCircle and reverses everything at the end.\n  /**\n   * @param {Circle} circle The circle.\n   * @param {Polygon} polygon The polygon.\n   * @param {Response=} response Response object (optional) that will be populated if\n   *   they interset.\n   * @return {boolean} true if they intersect, false if they don't.\n   */\n  function testCirclePolygon(circle, polygon, response) {\n    // Test the polygon against the circle.\n    var result = testPolygonCircle(polygon, circle, response);\n    if (result && response) {\n      // Swap A and B in the response.\n      var a = response['a'];\n      var aInB = response['aInB'];\n      response['overlapN'].reverse();\n      response['overlapV'].reverse();\n      response['a'] = response['b'];\n      response['b'] = a;\n      response['aInB'] = response['bInA'];\n      response['bInA'] = aInB;\n    }\n    return result;\n  }\n  SAT['testCirclePolygon'] = testCirclePolygon;\n\n  // Checks whether polygons collide.\n  /**\n   * @param {Polygon} a The first polygon.\n   * @param {Polygon} b The second polygon.\n   * @param {Response=} response Response object (optional) that will be populated if\n   *   they interset.\n   * @return {boolean} true if they intersect, false if they don't.\n   */\n  function testPolygonPolygon(a, b, response) {\n    var aPoints = a['calcPoints'];\n    var aLen = aPoints.length;\n    var bPoints = b['calcPoints'];\n    var bLen = bPoints.length;\n    // If any of the edge normals of A is a separating axis, no intersection.\n    for (var i = 0; i < aLen; i++) {\n      if (isSeparatingAxis(a['pos'], b['pos'], aPoints, bPoints, a['normals'][i], response)) {\n        return false;\n      }\n    }\n    // If any of the edge normals of B is a separating axis, no intersection.\n    for (var i = 0;i < bLen; i++) {\n      if (isSeparatingAxis(a['pos'], b['pos'], aPoints, bPoints, b['normals'][i], response)) {\n        return false;\n      }\n    }\n    // Since none of the edge normals of A or B are a separating axis, there is an intersection\n    // and we've already calculated the smallest overlap (in isSeparatingAxis).  Calculate the\n    // final overlap vector.\n    if (response) {\n      response['a'] = a;\n      response['b'] = b;\n      response['overlapV'].copy(response['overlapN']).scale(response['overlap']);\n    }\n    return true;\n  }\n  SAT['testPolygonPolygon'] = testPolygonPolygon;\n\n  return SAT;\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/sat/SAT.js","'use strict';\n\nimport EvalWorker from './EvalWorker.js';\n\nexport default class AiWrapper {\n\n  constructor(tank, aiDefinition) {\n    if(!tank) throw \"Tank is required\";\n    if(!aiDefinition) throw \"AiDefinition is required\";\n    this._tank = tank;\n    this._aiWorker = null;\n    this._aiProcessingStart = 0;\n    this._aiProcessingCheckInterval = null;\n    this._aiProcessingResolveCallback = null;\n    this._aiProcessingRejectCallback = null;\n    this._slowAiChances = 10;\n    this._onActivationCallback = [];\n    this._onDectivationCallback = [];\n    this._aiProcessingTimeLimit = 3000;\n    this._aiDefinition = aiDefinition;\n    this._isReady = false;\n    this._controlData = {\n      THROTTLE: 0,\n      BOOST: 0,\n      TURN: 0,\n      RADAR_TURN: 0,\n      GUN_TURN: 0,\n      SHOOT: 0,\n      OUTBOX: [],\n      DEBUG: {}\n    };\n  }\n\n  setProcessingLimit(v) {\n    this._aiProcessingTimeLimit = v;\n  }\n\n  get tank() {\n    return this._tank;\n  }\n\n  get worker() {\n    return this._aiWorker;\n  }\n\n  onActivation(callback) {\n    this._onActivationCallback.push(callback);\n  }\n\n  onDectivation(callback) {\n    this._onDeactivationCallback.push(callback);\n  }\n\n  _formatError(err) {\n    if(!err.message) return 'unknown';\n    let msg = err.message;\n    if(err.lineno) {\n      msg = \"Line #\" + err.lineno + \": \" + msg;\n    }\n    return msg;\n  }\n\n  activate(seed, resolve, reject) {\n    if(typeof seed != 'number') throw \"seed must be a number, '\" + (typeof seed) + \"' given\";\n    if(typeof resolve != 'function') throw \"resolve callback must be a function, '\" + (typeof resolve) + \"' given\";\n    if(typeof reject != 'function') throw \"reject callback must be a function, '\" + (typeof reject) + \"' given\";\n    let self = this;\n    self._aiWorker = self._createWorker(this._aiDefinition);\n    self._aiWorker.onerror = (err) => {\n      console.error(err);\n      if(self._aiProcessingRejectCallback) {\n        self._aiProcessingRejectCallback({\n          message: \"Web Worker of '\" + self._tank.fullName + \"' returned an error: \" + self._formatError(err),\n          performanceIssues: false,\n          tankName: self._tank.name,\n          tankId: self._tank.id\n        });\n        self._aiProcessingResolveCallback = null;\n        self._aiProcessingRejectCallback = null;\n      }\n    };\n\n    if(self._aiProcessingCheckInterval) {\n      clearInterval(self._aiProcessingCheckInterval);\n      self._aiProcessingCheckInterval = null;\n    }\n\n    self._aiProcessingCheckInterval = setInterval(() => {\n      if(self._aiProcessingRejectCallback) {\n        let now = (new Date()).getTime();\n        let dt = now - self._aiProcessingStart;\n        if(dt > self._aiProcessingTimeLimit) {\n          clearInterval(self._aiProcessingCheckInterval);\n          self._aiProcessingCheckInterval = null;\n          self._aiProcessingRejectCallback({\n            message: \"Simulation cannot be continued because \" + self._tank.name + \" #\" + self._tank.id + \" does not respond\",\n            performanceIssues: true,\n            tankName: self._tank.name,\n            tankId: self._tank.id\n          });\n        }\n      }\n    }, Math.max(self._aiDefinition.executionLimit, Math.round(self._aiProcessingTimeLimit/2)));\n\n    self._aiWorker.onmessage = (commandEvent) => {\n      let value = commandEvent.data;\n      if(self._aiProcessingResolveCallback) {\n        if(value.type == 'init') {\n          self._configureTank(value.settings ? value.settings : {});\n          self._isReady = true;\n          for(let i=0; i < self._onActivationCallback.length; i++) self._onActivationCallback[i].bind(self)();\n        } else {\n          self._controlTank(value);\n        }\n\n        let callback;\n        let now = (new Date()).getTime();\n        let dt = now - self._aiProcessingStart;\n        if(dt > self._aiDefinition.executionLimit && value.type != 'init') {\n          self._slowAiChances--;\n          console.warn(\"Execution of AI for tank \" + self._tank.name + \" #\" + self._tank.id + \" takes too long (\" + dt + \"ms). If problem repeats, AI will be terminated.\");\n          if(self._slowAiChances <= 0) {\n            callback = self._aiProcessingRejectCallback;\n            self._aiProcessingResolveCallback = null;\n            self._aiProcessingRejectCallback = null;\n            callback({\n              message: \"Simulation cannot be continued because \" + self._tank.name + \" #\" + self._tank.id + \" has performance issues\",\n              performanceIssues: true,\n              tankName: self._tank.name,\n              tankId: self._tank.id\n            });\n            return;\n          }\n        }\n        callback = self._aiProcessingResolveCallback;\n        self._aiProcessingResolveCallback = null;\n        self._aiProcessingRejectCallback = null;\n        callback();\n      }\n\n    };\n\n    let teamInfo = null;\n    if(self._tank.team && self._tank.team.size > 1) {\n      teamInfo = {\n        name: self._tank.team.name,\n        mates: self._tank.team.members.map((t) => t.id),\n      };\n    } else {\n      teamInfo = {\n        name: self._tank.fullName,\n        mates: [self._tank.id],\n      };\n    }\n    let infoData = {\n      id: self._tank.id,\n      team: teamInfo\n    };\n    if(self._aiDefinition.initData) {\n      infoData.initData = self._aiDefinition.initData;\n    }\n    self._aiProcessingStart = (new Date()).getTime();\n    self._aiProcessingResolveCallback = resolve;\n    self._aiProcessingRejectCallback = reject;\n    self._aiWorker.postMessage({\n      command: 'init',\n      seed: seed + \":\" + self._tank.id,\n      settings: {\n        SKIN: 'zebra'\n      },\n      info: infoData,\n      code: self._aiDefinition.code\n    });\n  }\n\n  deactivate() {\n    if(this._aiWorker) {\n      this._aiWorker.terminate();\n      this._aiWorker = null;\n    }\n\n    if(this._aiProcessingCheckInterval) {\n      clearInterval(this._aiProcessingCheckInterval);\n      this._aiProcessingCheckInterval = null;\n    }\n    for(let i=0; i < this._onDectivationCallback.length; i++) this._onDectivationCallback[i].bind(this)();\n  }\n\n  simulationStep(resolve, reject) {\n    if(typeof resolve != 'function') throw \"resolve callback must be a function, '\" + (typeof resolve) + \"' given\";\n    if(typeof reject != 'function') throw \"reject callback must be a function, '\" + (typeof reject) + \"' given\";\n    if(!this._isReady) {\n      throw \"AI of \" + this._tank.fullName + \" not initliazed\";\n    }\n    let self = this;\n    if(self._aiWorker && self._tank.energy == 0) {\n      self._aiWorker.terminate();\n      self._aiWorker = null;\n      resolve();\n      return;\n    }\n\n    self._aiProcessingStart = (new Date()).getTime();\n    self._aiProcessingResolveCallback = resolve;\n    self._aiProcessingRejectCallback = reject;\n    self._aiWorker.postMessage({\n      command: 'update',\n      state: self._tank.state,\n      control: self._controlData\n    });\n\n  }\n\n  _configureTank(input) {\n    let settings = {};\n\n    let skinList = ['zebra', 'forest', 'black', 'tiger', 'desert', 'lava', 'ocean'];\n    if(skinList.indexOf(input.SKIN) != -1) {\n      settings.SKIN = input.SKIN;\n    }\n    this._tank.init(settings);\n  }\n\n  _controlTank(value) {\n    let self = this;\n    self._controlData.THROTTLE = Number(value.THROTTLE);\n    self._controlData.TURN = Number(value.TURN);\n    self._controlData.GUN_TURN = Number(value.GUN_TURN);\n    self._controlData.RADAR_TURN = Number(value.RADAR_TURN);\n    self._controlData.SHOOT = Number(value.SHOOT);\n    self._controlData.DEBUG = value.DEBUG;\n    self._controlData.BOOST = value.BOOST ? 1 : 0;\n\n    self._controlData.THROTTLE = isNaN(self._controlData.THROTTLE) ? 0 : self._controlData.THROTTLE;\n    self._controlData.TURN = isNaN(self._controlData.TURN) ? 0 : self._controlData.TURN;\n    self._controlData.GUN_TURN = isNaN(self._controlData.GUN_TURN) ? 0 : self._controlData.GUN_TURN;\n    self._controlData.RADAR_TURN = isNaN(self._controlData.RADAR_TURN) ? 0 : self._controlData.RADAR_TURN;\n    self._controlData.SHOOT = isNaN(self._controlData.SHOOT) ? 0 : self._controlData.SHOOT;\n\n    self._controlData.THROTTLE = Math.min(1, Math.max(-1, Number(self._controlData.THROTTLE)));\n    self._controlData.TURN = Math.min(1, Math.max(-1, Number(self._controlData.TURN)));\n    self._controlData.GUN_TURN = Math.min(1, Math.max(-1, Number(self._controlData.GUN_TURN)));\n    self._controlData.RADAR_TURN = Math.min(1, Math.max(-1, Number(self._controlData.RADAR_TURN)));\n    self._controlData.SHOOT = Math.min(1, Math.max(0, Number(self._controlData.SHOOT)));\n\n    self._tank.setThrottle(self._controlData.THROTTLE );\n    self._tank.setBoost(self._controlData.BOOST );\n    self._tank.setTurn(self._controlData.TURN);\n    self._tank.setRadarTurn(self._controlData.RADAR_TURN);\n    self._tank.setGunTurn(self._controlData.GUN_TURN );\n    self._tank.setDebugData(self._controlData.DEBUG);\n    if(self._controlData.SHOOT) {\n      self._tank.shoot(self._controlData.SHOOT);\n    }\n    self._controlData.SHOOT = 0;\n\n    let messages = [];\n    for(let i  in value.OUTBOX) {\n      messages.push(JSON.parse(JSON.stringify(value.OUTBOX[i])));\n    }\n\n    if(self._tank.team) {\n      self._tank.team.sendMessages(self._tank.id, messages);\n    }\n\n    self._controlData.OUTBOX = [];\n  }\n\n  _createWorker(def) {\n    if(def.useSandbox) {\n      return new Worker(def.filePath);\n    } else {\n      return new EvalWorker();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/AiWrapper.js","const extendedMath = require('../tanks/lib/extendedMath.js');\n\nclass TankController {\n  constructor() {\n    this._initCallback = () => {};\n    this._loopCallback = () => {};\n  }\n\n  loop(callback) {\n    this._loopCallback = callback;\n  }\n\n  init(callback) {\n    this._initCallback = callback;\n  }\n}\n\nclass EvalWorker {\n\n  constructor() {\n    this.onmessage = (msg) => {};\n    this._callStackLimit = 100;\n    this._callStackCount = 0;\n    this._tankController = new TankController();\n  }\n\n  postMessage(inputData) {\n    let response = null;\n    if(inputData.command == 'init') {\n      if(!inputData.code) throw \"The code is required!\";\n      let settings = inputData.settings;\n      let info = inputData.info;\n      var Math = extendedMath();\n\n      let tank = this._tankController;\n      eval(inputData.code);  // jshint ignore:line\n      tank._initCallback(settings, info);\n      response = {data: {type: 'init', settings: settings}};\n    } else if (inputData.command == 'update') {\n      let state = inputData.state;\n      let control = inputData.control;\n      if(this._tankController._loopCallback) {\n        this._tankController._loopCallback(state, control);\n        response = {data: control};\n      } else {\n        response = {data: control};\n      }\n    }\n    if(this._callStackCount < this._callStackLimit) {\n      this._callStackCount++;\n      this.onmessage(response);\n    } else {\n      this._callStackCount = 0;\n      setTimeout(() => {\n        this.onmessage(response);\n      }, 1);\n    }\n\n  }\n\n  terminate() {\n\n  }\n}\n\nexport default EvalWorker;\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/EvalWorker.js","module.exports = function() {\n  var result = {};\n  var items = [\"LN10\", \"PI\", \"E\", \"LOG10E\", \"SQRT2\", \"LOG2E\", \"SQRT1_2\", \"LN2\", \"cos\", \"pow\", \"log\", \"tan\", \"sqrt\", \"ceil\", \"asin\", \"abs\", \"max\", \"exp\", \"atan2\", \"random\", \"round\", \"floor\", \"acos\", \"atan\", \"min\", \"sin\"];\n  for(var i in items) {\n    result[items[i]] = Math[items[i]];\n  }\n\n  result.deg = {};\n\n  result.rad = {};\n\n  result.deg.normalize = function(a) {\n    a = Number(a);\n    while(a > 180) a -= 360;\n    while(a <= -180) a += 360;\n    return a;\n  };\n\n  result.rad.normalize = function(a) {\n    a = Number(a);\n    while(a > result.PI) a -= result.PI*2;\n    while(a <= -result.PI) a += result.PI*2;\n    return a;\n  };\n\n  result.deg2rad = function(v) {\n    return result.rad.normalize(v*(result.PI/180));\n  };\n\n  result.rad2deg = function(v) {\n    return result.deg.normalize(v*(180/result.PI));\n  };\n\n  result.rad.atan2 = result.atan2;\n\n  result.deg.atan2 = function(y, x) {\n    return result.rad2deg(result.rad.atan2(y, x));\n  };\n\n  result.distance = function(x1, y1, x2, y2) {\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    return result.sqrt(dx*dx + dy*dy);\n  };\n\n  result.randomRange = function(a, b) {\n    if(a > b) throw \"The range is incorrect. First number must be lower than second\";\n    return a + result.random()*(b-a);\n  };\n  return result;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./app/tanks/lib/extendedMath.js","'use strict';\n\nexport default class PerformanceMonitor {\n\n  constructor() {\n    this._simulationStepDuration = 30;\n    this._stepCounter=0;\n    this._checkLoop=0;\n    this._started=false;\n    this._desiredPerfomance = Math.floor(1000/this._simulationStepDuration);\n    this._actualPerfomance = this._desiredPerfomance;\n    this._perfomanceIndex = 1;\n    this._desiredQuality = 1;\n    this._quality = this._desiredQuality;\n    this._checkInterval = 500;\n  }\n\n  get started() {\n    return this._started;\n  }\n\n  get desiredPerfomance() {\n    return this._desiredPerfomance;\n  }\n\n  get actualPerfomance() {\n    return this._actualPerfomance;\n  }\n\n  start() {\n    this._started = true;\n    let self = this;\n    this._checkLoop = setInterval(() => {\n      self._check();\n    }, this._checkInterval);\n  }\n\n  stop() {\n    this._started = false;\n    if(this._checkLoop) {\n      clearInterval(this._checkLoop);\n      this._checkLoop = null;\n    }\n  }\n\n  setSimulationStepDuration(v) {\n    if(v != this._simulationStepDuration) {\n      this._quality = this._desiredQuality;\n    }\n    this._simulationStepDuration = v;\n    this._desiredPerfomance = Math.floor(1000/v);\n  }\n\n  onSimulationStep() {\n    if(this._started) {\n      this._stepCounter++;\n    }\n  }\n\n  get qualityLevel() {\n    return this._quality;\n  }\n\n  _check() {\n    this._actualPerfomance = Math.ceil(this._stepCounter*(1000/this._checkInterval));\n    this._stepCounter = 0;\n    let index = this._desiredPerfomance ? this._actualPerfomance/this._desiredPerfomance : 1;\n    this._perfomanceIndex = (this._perfomanceIndex + index)/2;\n    this._updateQuality();\n  }\n\n  _updateQuality() {\n    let lowestQuality = 2.5*this._perfomanceIndex - 1.25;\n    lowestQuality = Math.max(0, Math.min(1, lowestQuality));\n    let decreaseStep = -0.5*this._perfomanceIndex + 0.45;\n\n    if(this._perfomanceIndex > 1) {\n      this._desiredQuality += 0.1;\n    } else {\n      this._desiredQuality -= decreaseStep;\n    }\n\n    this._desiredQuality = Math.max(0, Math.min(1, this._desiredQuality));\n\n    let targetQuality = Math.max(lowestQuality, this._desiredQuality);\n\n    this._desiredQuality = (this._desiredQuality + targetQuality)/2;\n    if(this._desiredQuality < this._quality ) {\n      this._quality = this._desiredQuality;\n    } else {\n      this._quality = (this._desiredQuality + 9*this._quality)/10;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/PerformanceMonitor.js","'use strict';\n\nvar compileSchema = require('./compile')\n  , resolve = require('./compile/resolve')\n  , Cache = require('./cache')\n  , SchemaObject = require('./compile/schema_obj')\n  , stableStringify = require('fast-json-stable-stringify')\n  , formats = require('./compile/formats')\n  , rules = require('./compile/rules')\n  , $dataMetaSchema = require('./data')\n  , util = require('./compile/util');\n\nmodule.exports = Ajv;\n\nAjv.prototype.validate = validate;\nAjv.prototype.compile = compile;\nAjv.prototype.addSchema = addSchema;\nAjv.prototype.addMetaSchema = addMetaSchema;\nAjv.prototype.validateSchema = validateSchema;\nAjv.prototype.getSchema = getSchema;\nAjv.prototype.removeSchema = removeSchema;\nAjv.prototype.addFormat = addFormat;\nAjv.prototype.errorsText = errorsText;\n\nAjv.prototype._addSchema = _addSchema;\nAjv.prototype._compile = _compile;\n\nAjv.prototype.compileAsync = require('./compile/async');\nvar customKeyword = require('./keyword');\nAjv.prototype.addKeyword = customKeyword.add;\nAjv.prototype.getKeyword = customKeyword.get;\nAjv.prototype.removeKeyword = customKeyword.remove;\n\nvar errorClasses = require('./compile/error_classes');\nAjv.ValidationError = errorClasses.Validation;\nAjv.MissingRefError = errorClasses.MissingRef;\nAjv.$dataMetaSchema = $dataMetaSchema;\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-07/schema';\n\nvar META_IGNORE_OPTIONS = [ 'removeAdditional', 'useDefaults', 'coerceTypes' ];\nvar META_SUPPORT_DATA = ['/properties'];\n\n/**\n * Creates validator instance.\n * Usage: `Ajv(opts)`\n * @param {Object} opts optional options\n * @return {Object} ajv instance\n */\nfunction Ajv(opts) {\n  if (!(this instanceof Ajv)) return new Ajv(opts);\n  opts = this._opts = util.copy(opts) || {};\n  setLogger(this);\n  this._schemas = {};\n  this._refs = {};\n  this._fragments = {};\n  this._formats = formats(opts.format);\n\n  this._cache = opts.cache || new Cache;\n  this._loadingSchemas = {};\n  this._compilations = [];\n  this.RULES = rules();\n  this._getId = chooseGetId(opts);\n\n  opts.loopRequired = opts.loopRequired || Infinity;\n  if (opts.errorDataPath == 'property') opts._errorDataPathProperty = true;\n  if (opts.serialize === undefined) opts.serialize = stableStringify;\n  this._metaOpts = getMetaSchemaOptions(this);\n\n  if (opts.formats) addInitialFormats(this);\n  addDefaultMetaSchema(this);\n  if (typeof opts.meta == 'object') this.addMetaSchema(opts.meta);\n  if (opts.nullable) this.addKeyword('nullable', {metaSchema: {const: true}});\n  addInitialSchemas(this);\n}\n\n\n\n/**\n * Validate data using schema\n * Schema will be compiled and cached (using serialized JSON as key. [fast-json-stable-stringify](https://github.com/epoberezkin/fast-json-stable-stringify) is used to serialize.\n * @this   Ajv\n * @param  {String|Object} schemaKeyRef key, ref or schema object\n * @param  {Any} data to be validated\n * @return {Boolean} validation result. Errors from the last validation will be available in `ajv.errors` (and also in compiled schema: `schema.errors`).\n */\nfunction validate(schemaKeyRef, data) {\n  var v;\n  if (typeof schemaKeyRef == 'string') {\n    v = this.getSchema(schemaKeyRef);\n    if (!v) throw new Error('no schema with key or ref \"' + schemaKeyRef + '\"');\n  } else {\n    var schemaObj = this._addSchema(schemaKeyRef);\n    v = schemaObj.validate || this._compile(schemaObj);\n  }\n\n  var valid = v(data);\n  if (v.$async !== true) this.errors = v.errors;\n  return valid;\n}\n\n\n/**\n * Create validating function for passed schema.\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Boolean} _meta true if schema is a meta-schema. Used internally to compile meta schemas of custom keywords.\n * @return {Function} validating function\n */\nfunction compile(schema, _meta) {\n  var schemaObj = this._addSchema(schema, undefined, _meta);\n  return schemaObj.validate || this._compile(schemaObj);\n}\n\n\n/**\n * Adds schema to the instance.\n * @this   Ajv\n * @param {Object|Array} schema schema or array of schemas. If array is passed, `key` and other parameters will be ignored.\n * @param {String} key Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n * @param {Boolean} _skipValidation true to skip schema validation. Used internally, option validateSchema should be used instead.\n * @param {Boolean} _meta true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n * @return {Ajv} this for method chaining\n */\nfunction addSchema(schema, key, _skipValidation, _meta) {\n  if (Array.isArray(schema)){\n    for (var i=0; i<schema.length; i++) this.addSchema(schema[i], undefined, _skipValidation, _meta);\n    return this;\n  }\n  var id = this._getId(schema);\n  if (id !== undefined && typeof id != 'string')\n    throw new Error('schema id must be string');\n  key = resolve.normalizeId(key || id);\n  checkUnique(this, key);\n  this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);\n  return this;\n}\n\n\n/**\n * Add schema that will be used to validate other schemas\n * options in META_IGNORE_OPTIONS are alway set to false\n * @this   Ajv\n * @param {Object} schema schema object\n * @param {String} key optional schema key\n * @param {Boolean} skipValidation true to skip schema validation, can be used to override validateSchema option for meta-schema\n * @return {Ajv} this for method chaining\n */\nfunction addMetaSchema(schema, key, skipValidation) {\n  this.addSchema(schema, key, skipValidation, true);\n  return this;\n}\n\n\n/**\n * Validate schema\n * @this   Ajv\n * @param {Object} schema schema to validate\n * @param {Boolean} throwOrLogError pass true to throw (or log) an error if invalid\n * @return {Boolean} true if schema is valid\n */\nfunction validateSchema(schema, throwOrLogError) {\n  var $schema = schema.$schema;\n  if ($schema !== undefined && typeof $schema != 'string')\n    throw new Error('$schema must be a string');\n  $schema = $schema || this._opts.defaultMeta || defaultMeta(this);\n  if (!$schema) {\n    this.logger.warn('meta-schema not available');\n    this.errors = null;\n    return true;\n  }\n  var valid = this.validate($schema, schema);\n  if (!valid && throwOrLogError) {\n    var message = 'schema is invalid: ' + this.errorsText();\n    if (this._opts.validateSchema == 'log') this.logger.error(message);\n    else throw new Error(message);\n  }\n  return valid;\n}\n\n\nfunction defaultMeta(self) {\n  var meta = self._opts.meta;\n  self._opts.defaultMeta = typeof meta == 'object'\n                            ? self._getId(meta) || meta\n                            : self.getSchema(META_SCHEMA_ID)\n                              ? META_SCHEMA_ID\n                              : undefined;\n  return self._opts.defaultMeta;\n}\n\n\n/**\n * Get compiled schema from the instance by `key` or `ref`.\n * @this   Ajv\n * @param  {String} keyRef `key` that was passed to `addSchema` or full schema reference (`schema.id` or resolved id).\n * @return {Function} schema validating function (with property `schema`).\n */\nfunction getSchema(keyRef) {\n  var schemaObj = _getSchemaObj(this, keyRef);\n  switch (typeof schemaObj) {\n    case 'object': return schemaObj.validate || this._compile(schemaObj);\n    case 'string': return this.getSchema(schemaObj);\n    case 'undefined': return _getSchemaFragment(this, keyRef);\n  }\n}\n\n\nfunction _getSchemaFragment(self, ref) {\n  var res = resolve.schema.call(self, { schema: {} }, ref);\n  if (res) {\n    var schema = res.schema\n      , root = res.root\n      , baseId = res.baseId;\n    var v = compileSchema.call(self, schema, root, undefined, baseId);\n    self._fragments[ref] = new SchemaObject({\n      ref: ref,\n      fragment: true,\n      schema: schema,\n      root: root,\n      baseId: baseId,\n      validate: v\n    });\n    return v;\n  }\n}\n\n\nfunction _getSchemaObj(self, keyRef) {\n  keyRef = resolve.normalizeId(keyRef);\n  return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];\n}\n\n\n/**\n * Remove cached schema(s).\n * If no parameter is passed all schemas but meta-schemas are removed.\n * If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n * Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n * @this   Ajv\n * @param  {String|Object|RegExp} schemaKeyRef key, ref, pattern to match key/ref or schema object\n * @return {Ajv} this for method chaining\n */\nfunction removeSchema(schemaKeyRef) {\n  if (schemaKeyRef instanceof RegExp) {\n    _removeAllSchemas(this, this._schemas, schemaKeyRef);\n    _removeAllSchemas(this, this._refs, schemaKeyRef);\n    return this;\n  }\n  switch (typeof schemaKeyRef) {\n    case 'undefined':\n      _removeAllSchemas(this, this._schemas);\n      _removeAllSchemas(this, this._refs);\n      this._cache.clear();\n      return this;\n    case 'string':\n      var schemaObj = _getSchemaObj(this, schemaKeyRef);\n      if (schemaObj) this._cache.del(schemaObj.cacheKey);\n      delete this._schemas[schemaKeyRef];\n      delete this._refs[schemaKeyRef];\n      return this;\n    case 'object':\n      var serialize = this._opts.serialize;\n      var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;\n      this._cache.del(cacheKey);\n      var id = this._getId(schemaKeyRef);\n      if (id) {\n        id = resolve.normalizeId(id);\n        delete this._schemas[id];\n        delete this._refs[id];\n      }\n  }\n  return this;\n}\n\n\nfunction _removeAllSchemas(self, schemas, regex) {\n  for (var keyRef in schemas) {\n    var schemaObj = schemas[keyRef];\n    if (!schemaObj.meta && (!regex || regex.test(keyRef))) {\n      self._cache.del(schemaObj.cacheKey);\n      delete schemas[keyRef];\n    }\n  }\n}\n\n\n/* @this   Ajv */\nfunction _addSchema(schema, skipValidation, meta, shouldAddSchema) {\n  if (typeof schema != 'object' && typeof schema != 'boolean')\n    throw new Error('schema should be object or boolean');\n  var serialize = this._opts.serialize;\n  var cacheKey = serialize ? serialize(schema) : schema;\n  var cached = this._cache.get(cacheKey);\n  if (cached) return cached;\n\n  shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;\n\n  var id = resolve.normalizeId(this._getId(schema));\n  if (id && shouldAddSchema) checkUnique(this, id);\n\n  var willValidate = this._opts.validateSchema !== false && !skipValidation;\n  var recursiveMeta;\n  if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema)))\n    this.validateSchema(schema, true);\n\n  var localRefs = resolve.ids.call(this, schema);\n\n  var schemaObj = new SchemaObject({\n    id: id,\n    schema: schema,\n    localRefs: localRefs,\n    cacheKey: cacheKey,\n    meta: meta\n  });\n\n  if (id[0] != '#' && shouldAddSchema) this._refs[id] = schemaObj;\n  this._cache.put(cacheKey, schemaObj);\n\n  if (willValidate && recursiveMeta) this.validateSchema(schema, true);\n\n  return schemaObj;\n}\n\n\n/* @this   Ajv */\nfunction _compile(schemaObj, root) {\n  if (schemaObj.compiling) {\n    schemaObj.validate = callValidate;\n    callValidate.schema = schemaObj.schema;\n    callValidate.errors = null;\n    callValidate.root = root ? root : callValidate;\n    if (schemaObj.schema.$async === true)\n      callValidate.$async = true;\n    return callValidate;\n  }\n  schemaObj.compiling = true;\n\n  var currentOpts;\n  if (schemaObj.meta) {\n    currentOpts = this._opts;\n    this._opts = this._metaOpts;\n  }\n\n  var v;\n  try { v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs); }\n  catch(e) {\n    delete schemaObj.validate;\n    throw e;\n  }\n  finally {\n    schemaObj.compiling = false;\n    if (schemaObj.meta) this._opts = currentOpts;\n  }\n\n  schemaObj.validate = v;\n  schemaObj.refs = v.refs;\n  schemaObj.refVal = v.refVal;\n  schemaObj.root = v.root;\n  return v;\n\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var _validate = schemaObj.validate;\n    var result = _validate.apply(this, arguments);\n    callValidate.errors = _validate.errors;\n    return result;\n  }\n}\n\n\nfunction chooseGetId(opts) {\n  switch (opts.schemaId) {\n    case 'auto': return _get$IdOrId;\n    case 'id': return _getId;\n    default: return _get$Id;\n  }\n}\n\n/* @this   Ajv */\nfunction _getId(schema) {\n  if (schema.$id) this.logger.warn('schema $id ignored', schema.$id);\n  return schema.id;\n}\n\n/* @this   Ajv */\nfunction _get$Id(schema) {\n  if (schema.id) this.logger.warn('schema id ignored', schema.id);\n  return schema.$id;\n}\n\n\nfunction _get$IdOrId(schema) {\n  if (schema.$id && schema.id && schema.$id != schema.id)\n    throw new Error('schema $id is different from id');\n  return schema.$id || schema.id;\n}\n\n\n/**\n * Convert array of error message objects to string\n * @this   Ajv\n * @param  {Array<Object>} errors optional array of validation errors, if not passed errors from the instance are used.\n * @param  {Object} options optional options with properties `separator` and `dataVar`.\n * @return {String} human readable string with all errors descriptions\n */\nfunction errorsText(errors, options) {\n  errors = errors || this.errors;\n  if (!errors) return 'No errors';\n  options = options || {};\n  var separator = options.separator === undefined ? ', ' : options.separator;\n  var dataVar = options.dataVar === undefined ? 'data' : options.dataVar;\n\n  var text = '';\n  for (var i=0; i<errors.length; i++) {\n    var e = errors[i];\n    if (e) text += dataVar + e.dataPath + ' ' + e.message + separator;\n  }\n  return text.slice(0, -separator.length);\n}\n\n\n/**\n * Add custom format\n * @this   Ajv\n * @param {String} name format name\n * @param {String|RegExp|Function} format string is converted to RegExp; function should return boolean (true when valid)\n * @return {Ajv} this for method chaining\n */\nfunction addFormat(name, format) {\n  if (typeof format == 'string') format = new RegExp(format);\n  this._formats[name] = format;\n  return this;\n}\n\n\nfunction addDefaultMetaSchema(self) {\n  var $dataSchema;\n  if (self._opts.$data) {\n    $dataSchema = require('./refs/data.json');\n    self.addMetaSchema($dataSchema, $dataSchema.$id, true);\n  }\n  if (self._opts.meta === false) return;\n  var metaSchema = require('./refs/json-schema-draft-07.json');\n  if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);\n  self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);\n  self._refs['http://json-schema.org/schema'] = META_SCHEMA_ID;\n}\n\n\nfunction addInitialSchemas(self) {\n  var optsSchemas = self._opts.schemas;\n  if (!optsSchemas) return;\n  if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);\n  else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);\n}\n\n\nfunction addInitialFormats(self) {\n  for (var name in self._opts.formats) {\n    var format = self._opts.formats[name];\n    self.addFormat(name, format);\n  }\n}\n\n\nfunction checkUnique(self, id) {\n  if (self._schemas[id] || self._refs[id])\n    throw new Error('schema with key or id \"' + id + '\" already exists');\n}\n\n\nfunction getMetaSchemaOptions(self) {\n  var metaOpts = util.copy(self._opts);\n  for (var i=0; i<META_IGNORE_OPTIONS.length; i++)\n    delete metaOpts[META_IGNORE_OPTIONS[i]];\n  return metaOpts;\n}\n\n\nfunction setLogger(self) {\n  var logger = self._opts.logger;\n  if (logger === false) {\n    self.logger = {log: noop, warn: noop, error: noop};\n  } else {\n    if (logger === undefined) logger = console;\n    if (!(typeof logger == 'object' && logger.log && logger.warn && logger.error))\n      throw new Error('logger must implement log, warn and error methods');\n    self.logger = logger;\n  }\n}\n\n\nfunction noop() {}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/ajv.js","'use strict';\n\nvar resolve = require('./resolve')\n  , util = require('./util')\n  , errorClasses = require('./error_classes')\n  , stableStringify = require('fast-json-stable-stringify');\n\nvar validateGenerator = require('../dotjs/validate');\n\n/**\n * Functions below are used inside compiled validations function\n */\n\nvar ucs2length = util.ucs2length;\nvar equal = require('fast-deep-equal');\n\n// this error is thrown by async schemas to return validation errors via exception\nvar ValidationError = errorClasses.Validation;\n\nmodule.exports = compile;\n\n\n/**\n * Compiles schema to validation function\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Object} root object with information about the root schema for this schema\n * @param  {Object} localRefs the hash of local references inside the schema (created by resolve.id), used for inline resolution\n * @param  {String} baseId base ID for IDs in the schema\n * @return {Function} validation function\n */\nfunction compile(schema, root, localRefs, baseId) {\n  /* jshint validthis: true, evil: true */\n  /* eslint no-shadow: 0 */\n  var self = this\n    , opts = this._opts\n    , refVal = [ undefined ]\n    , refs = {}\n    , patterns = []\n    , patternsHash = {}\n    , defaults = []\n    , defaultsHash = {}\n    , customRules = [];\n\n  root = root || { schema: schema, refVal: refVal, refs: refs };\n\n  var c = checkCompiling.call(this, schema, root, baseId);\n  var compilation = this._compilations[c.index];\n  if (c.compiling) return (compilation.callValidate = callValidate);\n\n  var formats = this._formats;\n  var RULES = this.RULES;\n\n  try {\n    var v = localCompile(schema, root, localRefs, baseId);\n    compilation.validate = v;\n    var cv = compilation.callValidate;\n    if (cv) {\n      cv.schema = v.schema;\n      cv.errors = null;\n      cv.refs = v.refs;\n      cv.refVal = v.refVal;\n      cv.root = v.root;\n      cv.$async = v.$async;\n      if (opts.sourceCode) cv.source = v.source;\n    }\n    return v;\n  } finally {\n    endCompiling.call(this, schema, root, baseId);\n  }\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var validate = compilation.validate;\n    var result = validate.apply(this, arguments);\n    callValidate.errors = validate.errors;\n    return result;\n  }\n\n  function localCompile(_schema, _root, localRefs, baseId) {\n    var isRoot = !_root || (_root && _root.schema == _schema);\n    if (_root.schema != root.schema)\n      return compile.call(self, _schema, _root, localRefs, baseId);\n\n    var $async = _schema.$async === true;\n\n    var sourceCode = validateGenerator({\n      isTop: true,\n      schema: _schema,\n      isRoot: isRoot,\n      baseId: baseId,\n      root: _root,\n      schemaPath: '',\n      errSchemaPath: '#',\n      errorPath: '\"\"',\n      MissingRefError: errorClasses.MissingRef,\n      RULES: RULES,\n      validate: validateGenerator,\n      util: util,\n      resolve: resolve,\n      resolveRef: resolveRef,\n      usePattern: usePattern,\n      useDefault: useDefault,\n      useCustomRule: useCustomRule,\n      opts: opts,\n      formats: formats,\n      logger: self.logger,\n      self: self\n    });\n\n    sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode)\n                   + vars(defaults, defaultCode) + vars(customRules, customRuleCode)\n                   + sourceCode;\n\n    if (opts.processCode) sourceCode = opts.processCode(sourceCode);\n    // console.log('\\n\\n\\n *** \\n', JSON.stringify(sourceCode));\n    var validate;\n    try {\n      var makeValidate = new Function(\n        'self',\n        'RULES',\n        'formats',\n        'root',\n        'refVal',\n        'defaults',\n        'customRules',\n        'equal',\n        'ucs2length',\n        'ValidationError',\n        sourceCode\n      );\n\n      validate = makeValidate(\n        self,\n        RULES,\n        formats,\n        root,\n        refVal,\n        defaults,\n        customRules,\n        equal,\n        ucs2length,\n        ValidationError\n      );\n\n      refVal[0] = validate;\n    } catch(e) {\n      self.logger.error('Error compiling schema, function code:', sourceCode);\n      throw e;\n    }\n\n    validate.schema = _schema;\n    validate.errors = null;\n    validate.refs = refs;\n    validate.refVal = refVal;\n    validate.root = isRoot ? validate : _root;\n    if ($async) validate.$async = true;\n    if (opts.sourceCode === true) {\n      validate.source = {\n        code: sourceCode,\n        patterns: patterns,\n        defaults: defaults\n      };\n    }\n\n    return validate;\n  }\n\n  function resolveRef(baseId, ref, isRoot) {\n    ref = resolve.url(baseId, ref);\n    var refIndex = refs[ref];\n    var _refVal, refCode;\n    if (refIndex !== undefined) {\n      _refVal = refVal[refIndex];\n      refCode = 'refVal[' + refIndex + ']';\n      return resolvedRef(_refVal, refCode);\n    }\n    if (!isRoot && root.refs) {\n      var rootRefId = root.refs[ref];\n      if (rootRefId !== undefined) {\n        _refVal = root.refVal[rootRefId];\n        refCode = addLocalRef(ref, _refVal);\n        return resolvedRef(_refVal, refCode);\n      }\n    }\n\n    refCode = addLocalRef(ref);\n    var v = resolve.call(self, localCompile, root, ref);\n    if (v === undefined) {\n      var localSchema = localRefs && localRefs[ref];\n      if (localSchema) {\n        v = resolve.inlineRef(localSchema, opts.inlineRefs)\n            ? localSchema\n            : compile.call(self, localSchema, root, localRefs, baseId);\n      }\n    }\n\n    if (v === undefined) {\n      removeLocalRef(ref);\n    } else {\n      replaceLocalRef(ref, v);\n      return resolvedRef(v, refCode);\n    }\n  }\n\n  function addLocalRef(ref, v) {\n    var refId = refVal.length;\n    refVal[refId] = v;\n    refs[ref] = refId;\n    return 'refVal' + refId;\n  }\n\n  function removeLocalRef(ref) {\n    delete refs[ref];\n  }\n\n  function replaceLocalRef(ref, v) {\n    var refId = refs[ref];\n    refVal[refId] = v;\n  }\n\n  function resolvedRef(refVal, code) {\n    return typeof refVal == 'object' || typeof refVal == 'boolean'\n            ? { code: code, schema: refVal, inline: true }\n            : { code: code, $async: refVal && !!refVal.$async };\n  }\n\n  function usePattern(regexStr) {\n    var index = patternsHash[regexStr];\n    if (index === undefined) {\n      index = patternsHash[regexStr] = patterns.length;\n      patterns[index] = regexStr;\n    }\n    return 'pattern' + index;\n  }\n\n  function useDefault(value) {\n    switch (typeof value) {\n      case 'boolean':\n      case 'number':\n        return '' + value;\n      case 'string':\n        return util.toQuotedString(value);\n      case 'object':\n        if (value === null) return 'null';\n        var valueStr = stableStringify(value);\n        var index = defaultsHash[valueStr];\n        if (index === undefined) {\n          index = defaultsHash[valueStr] = defaults.length;\n          defaults[index] = value;\n        }\n        return 'default' + index;\n    }\n  }\n\n  function useCustomRule(rule, schema, parentSchema, it) {\n    var validateSchema = rule.definition.validateSchema;\n    if (validateSchema && self._opts.validateSchema !== false) {\n      var valid = validateSchema(schema);\n      if (!valid) {\n        var message = 'keyword schema is invalid: ' + self.errorsText(validateSchema.errors);\n        if (self._opts.validateSchema == 'log') self.logger.error(message);\n        else throw new Error(message);\n      }\n    }\n\n    var compile = rule.definition.compile\n      , inline = rule.definition.inline\n      , macro = rule.definition.macro;\n\n    var validate;\n    if (compile) {\n      validate = compile.call(self, schema, parentSchema, it);\n    } else if (macro) {\n      validate = macro.call(self, schema, parentSchema, it);\n      if (opts.validateSchema !== false) self.validateSchema(validate, true);\n    } else if (inline) {\n      validate = inline.call(self, it, rule.keyword, schema, parentSchema);\n    } else {\n      validate = rule.definition.validate;\n      if (!validate) return;\n    }\n\n    if (validate === undefined)\n      throw new Error('custom keyword \"' + rule.keyword + '\"failed to compile');\n\n    var index = customRules.length;\n    customRules[index] = validate;\n\n    return {\n      code: 'customRule' + index,\n      validate: validate\n    };\n  }\n}\n\n\n/**\n * Checks if the schema is currently compiled\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Object} object with properties \"index\" (compilation index) and \"compiling\" (boolean)\n */\nfunction checkCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var index = compIndex.call(this, schema, root, baseId);\n  if (index >= 0) return { index: index, compiling: true };\n  index = this._compilations.length;\n  this._compilations[index] = {\n    schema: schema,\n    root: root,\n    baseId: baseId\n  };\n  return { index: index, compiling: false };\n}\n\n\n/**\n * Removes the schema from the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n */\nfunction endCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var i = compIndex.call(this, schema, root, baseId);\n  if (i >= 0) this._compilations.splice(i, 1);\n}\n\n\n/**\n * Index of schema compilation in the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Integer} compilation index\n */\nfunction compIndex(schema, root, baseId) {\n  /* jshint validthis: true */\n  for (var i=0; i<this._compilations.length; i++) {\n    var c = this._compilations[i];\n    if (c.schema == schema && c.root == root && c.baseId == baseId) return i;\n  }\n  return -1;\n}\n\n\nfunction patternCode(i, patterns) {\n  return 'var pattern' + i + ' = new RegExp(' + util.toQuotedString(patterns[i]) + ');';\n}\n\n\nfunction defaultCode(i) {\n  return 'var default' + i + ' = defaults[' + i + '];';\n}\n\n\nfunction refValCode(i, refVal) {\n  return refVal[i] === undefined ? '' : 'var refVal' + i + ' = refVal[' + i + '];';\n}\n\n\nfunction customRuleCode(i) {\n  return 'var customRule' + i + ' = customRules[' + i + '];';\n}\n\n\nfunction vars(arr, statement) {\n  if (!arr.length) return '';\n  var code = '';\n  for (var i=0; i<arr.length; i++)\n    code += statement(i, arr);\n  return code;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/compile/index.js","/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.URI = global.URI || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction merge() {\n    for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {\n        sets[_key] = arguments[_key];\n    }\n\n    if (sets.length > 1) {\n        sets[0] = sets[0].slice(0, -1);\n        var xl = sets.length - 1;\n        for (var x = 1; x < xl; ++x) {\n            sets[x] = sets[x].slice(1, -1);\n        }\n        sets[xl] = sets[xl].slice(1);\n        return sets.join('');\n    } else {\n        return sets[0];\n    }\n}\nfunction subexp(str) {\n    return \"(?:\" + str + \")\";\n}\nfunction typeOf(o) {\n    return o === undefined ? \"undefined\" : o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase();\n}\nfunction toUpperCase(str) {\n    return str.toUpperCase();\n}\nfunction toArray(obj) {\n    return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];\n}\nfunction assign(target, source) {\n    var obj = target;\n    if (source) {\n        for (var key in source) {\n            obj[key] = source[key];\n        }\n    }\n    return obj;\n}\n\nfunction buildExps(isIRI) {\n    var ALPHA$$ = \"[A-Za-z]\",\n        CR$ = \"[\\\\x0D]\",\n        DIGIT$$ = \"[0-9]\",\n        DQUOTE$$ = \"[\\\\x22]\",\n        HEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),\n        //case-insensitive\n    LF$$ = \"[\\\\x0A]\",\n        SP$$ = \"[\\\\x20]\",\n        PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),\n        //expanded\n    GEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n        SUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n        RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n        UCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",\n        //subset, excludes bidi control characters\n    IPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",\n        //subset\n    UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n        SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n        USERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n        DEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n        DEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),\n        //relaxed parsing rules\n    IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n        H16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n        LS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n        IPV6ADDRESS1$ = subexp(subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$),\n        //                           6( h16 \":\" ) ls32\n    IPV6ADDRESS2$ = subexp(\"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$),\n        //                      \"::\" 5( h16 \":\" ) ls32\n    IPV6ADDRESS3$ = subexp(subexp(H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$),\n        //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n    IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$),\n        //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n    IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$),\n        //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n    IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" + H16$ + \"\\\\:\" + LS32$),\n        //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n    IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\" + LS32$),\n        //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n    IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\" + H16$),\n        //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n    IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"),\n        //[ *6( h16 \":\" ) h16 ] \"::\"\n    IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n        ZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),\n        //RFC 6874\n    IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),\n        //RFC 6874\n    IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),\n        //RFC 6874, with relaxed parsing rules\n    IPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n        IP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),\n        //RFC 6874\n    REG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n        HOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n        PORT$ = subexp(DIGIT$$ + \"*\"),\n        AUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n        PCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n        SEGMENT$ = subexp(PCHAR$ + \"*\"),\n        SEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n        SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n        PATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n        PATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),\n        //simplified\n    PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n        PATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        QUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n        FRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n        HIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        RELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n        RELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        URI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n        ABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n        GENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        RELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        ABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n        SAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        AUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\";\n    return {\n        NOT_SCHEME: new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n        NOT_USERINFO: new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_HOST: new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH: new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH_NOSCHEME: new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_QUERY: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n        NOT_FRAGMENT: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n        ESCAPE: new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        UNRESERVED: new RegExp(UNRESERVED$$, \"g\"),\n        OTHER_CHARS: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n        PCT_ENCODED: new RegExp(PCT_ENCODED$, \"g\"),\n        IPV4ADDRESS: new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n        IPV6ADDRESS: new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\") //RFC 6874, with relaxed parsing rules\n    };\n}\nvar URI_PROTOCOL = buildExps(false);\n\nvar IRI_PROTOCOL = buildExps(true);\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/** Highest positive signed 32-bit float value */\n\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nvar regexPunycode = /^xn--/;\nvar regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nvar regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nvar errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error$1(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tvar result = [];\n\tvar length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tvar parts = string.split('@');\n\tvar result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tvar labels = string.split('.');\n\tvar encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t// Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nvar ucs2encode = function ucs2encode(array) {\n\treturn String.fromCodePoint.apply(String, toConsumableArray(array));\n};\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nvar basicToDigit = function basicToDigit(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nvar digitToBasic = function digitToBasic(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nvar adapt = function adapt(delta, numPoints, firstTime) {\n\tvar k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nvar decode = function decode(input) {\n\t// Don't use UCS-2.\n\tvar output = [];\n\tvar inputLength = input.length;\n\tvar i = 0;\n\tvar n = initialN;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tvar basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (var j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror$1('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (var index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tvar oldi = i;\n\t\tfor (var w = 1, k = base;; /* no condition */k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror$1('invalid-input');\n\t\t\t}\n\n\t\t\tvar digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvar baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\t\t}\n\n\t\tvar out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\t}\n\n\treturn String.fromCodePoint.apply(String, output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nvar encode = function encode(input) {\n\tvar output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tvar inputLength = input.length;\n\n\t// Initialize the state.\n\tvar n = initialN;\n\tvar delta = 0;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points.\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar _currentValue2 = _step.value;\n\n\t\t\tif (_currentValue2 < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(_currentValue2));\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t_iterator.return();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar basicLength = output.length;\n\tvar handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tvar m = maxInt;\n\t\tvar _iteratorNormalCompletion2 = true;\n\t\tvar _didIteratorError2 = false;\n\t\tvar _iteratorError2 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\tvar currentValue = _step2.value;\n\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow.\n\t\t} catch (err) {\n\t\t\t_didIteratorError2 = true;\n\t\t\t_iteratorError2 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t_iterator2.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tvar _iteratorNormalCompletion3 = true;\n\t\tvar _didIteratorError3 = false;\n\t\tvar _iteratorError3 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\tvar _currentValue = _step3.value;\n\n\t\t\t\tif (_currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror$1('overflow');\n\t\t\t\t}\n\t\t\t\tif (_currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\t\tvar q = delta;\n\t\t\t\t\tfor (var k = base;; /* no condition */k += base) {\n\t\t\t\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar qMinusT = q - t;\n\t\t\t\t\t\tvar baseMinusT = base - t;\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError3 = true;\n\t\t\t_iteratorError3 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t_iterator3.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nvar toUnicode = function toUnicode(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nvar toASCII = function toASCII(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nvar punycode = {\n\t/**\n  * A string representing the current Punycode.js version number.\n  * @memberOf punycode\n  * @type String\n  */\n\t'version': '2.1.0',\n\t/**\n  * An object of methods to convert from JavaScript's internal character\n  * representation (UCS-2) to Unicode code points, and back.\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode\n  * @type Object\n  */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\n/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\nvar SCHEMES = {};\nfunction pctEncChar(chr) {\n    var c = chr.charCodeAt(0);\n    var e = void 0;\n    if (c < 16) e = \"%0\" + c.toString(16).toUpperCase();else if (c < 128) e = \"%\" + c.toString(16).toUpperCase();else if (c < 2048) e = \"%\" + (c >> 6 | 192).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();else e = \"%\" + (c >> 12 | 224).toString(16).toUpperCase() + \"%\" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();\n    return e;\n}\nfunction pctDecChars(str) {\n    var newStr = \"\";\n    var i = 0;\n    var il = str.length;\n    while (i < il) {\n        var c = parseInt(str.substr(i + 1, 2), 16);\n        if (c < 128) {\n            newStr += String.fromCharCode(c);\n            i += 3;\n        } else if (c >= 194 && c < 224) {\n            if (il - i >= 6) {\n                var c2 = parseInt(str.substr(i + 4, 2), 16);\n                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);\n            } else {\n                newStr += str.substr(i, 6);\n            }\n            i += 6;\n        } else if (c >= 224) {\n            if (il - i >= 9) {\n                var _c = parseInt(str.substr(i + 4, 2), 16);\n                var c3 = parseInt(str.substr(i + 7, 2), 16);\n                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);\n            } else {\n                newStr += str.substr(i, 9);\n            }\n            i += 9;\n        } else {\n            newStr += str.substr(i, 3);\n            i += 3;\n        }\n    }\n    return newStr;\n}\nfunction _normalizeComponentEncoding(components, protocol) {\n    function decodeUnreserved(str) {\n        var decStr = pctDecChars(str);\n        return !decStr.match(protocol.UNRESERVED) ? str : decStr;\n    }\n    if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n    if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    return components;\n}\n\nfunction _stripLeadingZeros(str) {\n    return str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\nfunction _normalizeIPv4(host, protocol) {\n    var matches = host.match(protocol.IPV4ADDRESS) || [];\n\n    var _matches = slicedToArray(matches, 2),\n        address = _matches[1];\n\n    if (address) {\n        return address.split(\".\").map(_stripLeadingZeros).join(\".\");\n    } else {\n        return host;\n    }\n}\nfunction _normalizeIPv6(host, protocol) {\n    var matches = host.match(protocol.IPV6ADDRESS) || [];\n\n    var _matches2 = slicedToArray(matches, 3),\n        address = _matches2[1],\n        zone = _matches2[2];\n\n    if (address) {\n        var _address$toLowerCase$ = address.toLowerCase().split('::').reverse(),\n            _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),\n            last = _address$toLowerCase$2[0],\n            first = _address$toLowerCase$2[1];\n\n        var firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n        var lastFields = last.split(\":\").map(_stripLeadingZeros);\n        var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n        var fieldCount = isLastFieldIPv4Address ? 7 : 8;\n        var lastFieldsStart = lastFields.length - fieldCount;\n        var fields = Array(fieldCount);\n        for (var x = 0; x < fieldCount; ++x) {\n            fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n        }\n        if (isLastFieldIPv4Address) {\n            fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n        }\n        var allZeroFields = fields.reduce(function (acc, field, index) {\n            if (!field || field === \"0\") {\n                var lastLongest = acc[acc.length - 1];\n                if (lastLongest && lastLongest.index + lastLongest.length === index) {\n                    lastLongest.length++;\n                } else {\n                    acc.push({ index: index, length: 1 });\n                }\n            }\n            return acc;\n        }, []);\n        var longestZeroFields = allZeroFields.sort(function (a, b) {\n            return b.length - a.length;\n        })[0];\n        var newHost = void 0;\n        if (longestZeroFields && longestZeroFields.length > 1) {\n            var newFirst = fields.slice(0, longestZeroFields.index);\n            var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n            newHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n        } else {\n            newHost = fields.join(\":\");\n        }\n        if (zone) {\n            newHost += \"%\" + zone;\n        }\n        return newHost;\n    } else {\n        return host;\n    }\n}\nvar URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nvar NO_MATCH_IS_UNDEFINED = \"\".match(/(){0}/)[1] === undefined;\nfunction parse(uriString) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var components = {};\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    if (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n    var matches = uriString.match(URI_PARSE);\n    if (matches) {\n        if (NO_MATCH_IS_UNDEFINED) {\n            //store each component\n            components.scheme = matches[1];\n            components.userinfo = matches[3];\n            components.host = matches[4];\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = matches[7];\n            components.fragment = matches[8];\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = matches[5];\n            }\n        } else {\n            //IE FIX for improper RegExp matching\n            //store each component\n            components.scheme = matches[1] || undefined;\n            components.userinfo = uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined;\n            components.host = uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined;\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined;\n            components.fragment = uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined;\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined;\n            }\n        }\n        if (components.host) {\n            //normalize IP hosts\n            components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n        }\n        //determine reference type\n        if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n            components.reference = \"same-document\";\n        } else if (components.scheme === undefined) {\n            components.reference = \"relative\";\n        } else if (components.fragment === undefined) {\n            components.reference = \"absolute\";\n        } else {\n            components.reference = \"uri\";\n        }\n        //check for reference errors\n        if (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n            components.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n        }\n        //find scheme handler\n        var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n        //check if scheme can't handle IRIs\n        if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n            //if host component is a domain name\n            if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            }\n            //convert IRI -> URI\n            _normalizeComponentEncoding(components, URI_PROTOCOL);\n        } else {\n            //normalize encodings\n            _normalizeComponentEncoding(components, protocol);\n        }\n        //perform scheme specific parsing\n        if (schemeHandler && schemeHandler.parse) {\n            schemeHandler.parse(components, options);\n        }\n    } else {\n        components.error = components.error || \"URI can not be parsed.\";\n    }\n    return components;\n}\n\nfunction _recomposeAuthority(components, options) {\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    if (components.userinfo !== undefined) {\n        uriTokens.push(components.userinfo);\n        uriTokens.push(\"@\");\n    }\n    if (components.host !== undefined) {\n        //normalize IP hosts, add brackets and escape zone separator for IPv6\n        uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {\n            return \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\";\n        }));\n    }\n    if (typeof components.port === \"number\") {\n        uriTokens.push(\":\");\n        uriTokens.push(components.port.toString(10));\n    }\n    return uriTokens.length ? uriTokens.join(\"\") : undefined;\n}\n\nvar RDS1 = /^\\.\\.?\\//;\nvar RDS2 = /^\\/\\.(\\/|$)/;\nvar RDS3 = /^\\/\\.\\.(\\/|$)/;\nvar RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\nfunction removeDotSegments(input) {\n    var output = [];\n    while (input.length) {\n        if (input.match(RDS1)) {\n            input = input.replace(RDS1, \"\");\n        } else if (input.match(RDS2)) {\n            input = input.replace(RDS2, \"/\");\n        } else if (input.match(RDS3)) {\n            input = input.replace(RDS3, \"/\");\n            output.pop();\n        } else if (input === \".\" || input === \"..\") {\n            input = \"\";\n        } else {\n            var im = input.match(RDS5);\n            if (im) {\n                var s = im[0];\n                input = input.slice(s.length);\n                output.push(s);\n            } else {\n                throw new Error(\"Unexpected dot segment condition\");\n            }\n        }\n    }\n    return output.join(\"\");\n}\n\nfunction serialize(components) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    //find scheme handler\n    var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n    //perform scheme specific serialization\n    if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n    if (components.host) {\n        //if host component is an IPv6 address\n        if (protocol.IPV6ADDRESS.test(components.host)) {}\n        //TODO: normalize IPv6 address as per RFC 5952\n\n        //if host component is a domain name\n        else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {\n                //convert IDN via punycode\n                try {\n                    components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n            }\n    }\n    //normalize encoding\n    _normalizeComponentEncoding(components, protocol);\n    if (options.reference !== \"suffix\" && components.scheme) {\n        uriTokens.push(components.scheme);\n        uriTokens.push(\":\");\n    }\n    var authority = _recomposeAuthority(components, options);\n    if (authority !== undefined) {\n        if (options.reference !== \"suffix\") {\n            uriTokens.push(\"//\");\n        }\n        uriTokens.push(authority);\n        if (components.path && components.path.charAt(0) !== \"/\") {\n            uriTokens.push(\"/\");\n        }\n    }\n    if (components.path !== undefined) {\n        var s = components.path;\n        if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n            s = removeDotSegments(s);\n        }\n        if (authority === undefined) {\n            s = s.replace(/^\\/\\//, \"/%2F\"); //don't allow the path to start with \"//\"\n        }\n        uriTokens.push(s);\n    }\n    if (components.query !== undefined) {\n        uriTokens.push(\"?\");\n        uriTokens.push(components.query);\n    }\n    if (components.fragment !== undefined) {\n        uriTokens.push(\"#\");\n        uriTokens.push(components.fragment);\n    }\n    return uriTokens.join(\"\"); //merge tokens into a string\n}\n\nfunction resolveComponents(base, relative) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var skipNormalization = arguments[3];\n\n    var target = {};\n    if (!skipNormalization) {\n        base = parse(serialize(base, options), options); //normalize base components\n        relative = parse(serialize(relative, options), options); //normalize relative components\n    }\n    options = options || {};\n    if (!options.tolerant && relative.scheme) {\n        target.scheme = relative.scheme;\n        //target.authority = relative.authority;\n        target.userinfo = relative.userinfo;\n        target.host = relative.host;\n        target.port = relative.port;\n        target.path = removeDotSegments(relative.path || \"\");\n        target.query = relative.query;\n    } else {\n        if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n            //target.authority = relative.authority;\n            target.userinfo = relative.userinfo;\n            target.host = relative.host;\n            target.port = relative.port;\n            target.path = removeDotSegments(relative.path || \"\");\n            target.query = relative.query;\n        } else {\n            if (!relative.path) {\n                target.path = base.path;\n                if (relative.query !== undefined) {\n                    target.query = relative.query;\n                } else {\n                    target.query = base.query;\n                }\n            } else {\n                if (relative.path.charAt(0) === \"/\") {\n                    target.path = removeDotSegments(relative.path);\n                } else {\n                    if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n                        target.path = \"/\" + relative.path;\n                    } else if (!base.path) {\n                        target.path = relative.path;\n                    } else {\n                        target.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n                    }\n                    target.path = removeDotSegments(target.path);\n                }\n                target.query = relative.query;\n            }\n            //target.authority = base.authority;\n            target.userinfo = base.userinfo;\n            target.host = base.host;\n            target.port = base.port;\n        }\n        target.scheme = base.scheme;\n    }\n    target.fragment = relative.fragment;\n    return target;\n}\n\nfunction resolve(baseURI, relativeURI, options) {\n    var schemelessOptions = assign({ scheme: 'null' }, options);\n    return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n}\n\nfunction normalize(uri, options) {\n    if (typeof uri === \"string\") {\n        uri = serialize(parse(uri, options), options);\n    } else if (typeOf(uri) === \"object\") {\n        uri = parse(serialize(uri, options), options);\n    }\n    return uri;\n}\n\nfunction equal(uriA, uriB, options) {\n    if (typeof uriA === \"string\") {\n        uriA = serialize(parse(uriA, options), options);\n    } else if (typeOf(uriA) === \"object\") {\n        uriA = serialize(uriA, options);\n    }\n    if (typeof uriB === \"string\") {\n        uriB = serialize(parse(uriB, options), options);\n    } else if (typeOf(uriB) === \"object\") {\n        uriB = serialize(uriB, options);\n    }\n    return uriA === uriB;\n}\n\nfunction escapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);\n}\n\nfunction unescapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);\n}\n\nvar handler = {\n    scheme: \"http\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        //report missing host\n        if (!components.host) {\n            components.error = components.error || \"HTTP URIs must have a host.\";\n        }\n        return components;\n    },\n    serialize: function serialize(components, options) {\n        //normalize the default port\n        if (components.port === (String(components.scheme).toLowerCase() !== \"https\" ? 80 : 443) || components.port === \"\") {\n            components.port = undefined;\n        }\n        //normalize the empty path\n        if (!components.path) {\n            components.path = \"/\";\n        }\n        //NOTE: We do not parse query strings for HTTP URIs\n        //as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n        //and not the HTTP spec.\n        return components;\n    }\n};\n\nvar handler$1 = {\n    scheme: \"https\",\n    domainHost: handler.domainHost,\n    parse: handler.parse,\n    serialize: handler.serialize\n};\n\nvar O = {};\nvar isIRI = true;\n//RFC 3986\nvar UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nvar HEXDIG$$ = \"[0-9A-Fa-f]\"; //case-insensitive\nvar PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)); //expanded\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nvar ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nvar QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nvar VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nvar SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nvar UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nvar PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nvar NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nvar NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nvar NOT_HFVALUE = NOT_HFNAME;\nfunction decodeUnreserved(str) {\n    var decStr = pctDecChars(str);\n    return !decStr.match(UNRESERVED) ? str : decStr;\n}\nvar handler$2 = {\n    scheme: \"mailto\",\n    parse: function parse$$1(components, options) {\n        var mailtoComponents = components;\n        var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(\",\") : [];\n        mailtoComponents.path = undefined;\n        if (mailtoComponents.query) {\n            var unknownHeaders = false;\n            var headers = {};\n            var hfields = mailtoComponents.query.split(\"&\");\n            for (var x = 0, xl = hfields.length; x < xl; ++x) {\n                var hfield = hfields[x].split(\"=\");\n                switch (hfield[0]) {\n                    case \"to\":\n                        var toAddrs = hfield[1].split(\",\");\n                        for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {\n                            to.push(toAddrs[_x]);\n                        }\n                        break;\n                    case \"subject\":\n                        mailtoComponents.subject = unescapeComponent(hfield[1], options);\n                        break;\n                    case \"body\":\n                        mailtoComponents.body = unescapeComponent(hfield[1], options);\n                        break;\n                    default:\n                        unknownHeaders = true;\n                        headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n                        break;\n                }\n            }\n            if (unknownHeaders) mailtoComponents.headers = headers;\n        }\n        mailtoComponents.query = undefined;\n        for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {\n            var addr = to[_x2].split(\"@\");\n            addr[0] = unescapeComponent(addr[0]);\n            if (!options.unicodeSupport) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n                } catch (e) {\n                    mailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            } else {\n                addr[1] = unescapeComponent(addr[1], options).toLowerCase();\n            }\n            to[_x2] = addr.join(\"@\");\n        }\n        return mailtoComponents;\n    },\n    serialize: function serialize$$1(mailtoComponents, options) {\n        var components = mailtoComponents;\n        var to = toArray(mailtoComponents.to);\n        if (to) {\n            for (var x = 0, xl = to.length; x < xl; ++x) {\n                var toAddr = String(to[x]);\n                var atIdx = toAddr.lastIndexOf(\"@\");\n                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n                var domain = toAddr.slice(atIdx + 1);\n                //convert IDN via punycode\n                try {\n                    domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);\n                } catch (e) {\n                    components.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n                to[x] = localPart + \"@\" + domain;\n            }\n            components.path = to.join(\",\");\n        }\n        var headers = mailtoComponents.headers = mailtoComponents.headers || {};\n        if (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n        if (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n        var fields = [];\n        for (var name in headers) {\n            if (headers[name] !== O[name]) {\n                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + \"=\" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));\n            }\n        }\n        if (fields.length) {\n            components.query = fields.join(\"&\");\n        }\n        return components;\n    }\n};\n\nvar URN_PARSE = /^([^\\:]+)\\:(.*)/;\n//RFC 2141\nvar handler$3 = {\n    scheme: \"urn\",\n    parse: function parse$$1(components, options) {\n        var matches = components.path && components.path.match(URN_PARSE);\n        var urnComponents = components;\n        if (matches) {\n            var scheme = options.scheme || urnComponents.scheme || \"urn\";\n            var nid = matches[1].toLowerCase();\n            var nss = matches[2];\n            var urnScheme = scheme + \":\" + (options.nid || nid);\n            var schemeHandler = SCHEMES[urnScheme];\n            urnComponents.nid = nid;\n            urnComponents.nss = nss;\n            urnComponents.path = undefined;\n            if (schemeHandler) {\n                urnComponents = schemeHandler.parse(urnComponents, options);\n            }\n        } else {\n            urnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n        }\n        return urnComponents;\n    },\n    serialize: function serialize$$1(urnComponents, options) {\n        var scheme = options.scheme || urnComponents.scheme || \"urn\";\n        var nid = urnComponents.nid;\n        var urnScheme = scheme + \":\" + (options.nid || nid);\n        var schemeHandler = SCHEMES[urnScheme];\n        if (schemeHandler) {\n            urnComponents = schemeHandler.serialize(urnComponents, options);\n        }\n        var uriComponents = urnComponents;\n        var nss = urnComponents.nss;\n        uriComponents.path = (nid || options.nid) + \":\" + nss;\n        return uriComponents;\n    }\n};\n\nvar UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\n//RFC 4122\nvar handler$4 = {\n    scheme: \"urn:uuid\",\n    parse: function parse(urnComponents, options) {\n        var uuidComponents = urnComponents;\n        uuidComponents.uuid = uuidComponents.nss;\n        uuidComponents.nss = undefined;\n        if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n            uuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n        }\n        return uuidComponents;\n    },\n    serialize: function serialize(uuidComponents, options) {\n        var urnComponents = uuidComponents;\n        //normalize UUID\n        urnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n        return urnComponents;\n    }\n};\n\nSCHEMES[handler.scheme] = handler;\nSCHEMES[handler$1.scheme] = handler$1;\nSCHEMES[handler$2.scheme] = handler$2;\nSCHEMES[handler$3.scheme] = handler$3;\nSCHEMES[handler$4.scheme] = handler$4;\n\nexports.SCHEMES = SCHEMES;\nexports.pctEncChar = pctEncChar;\nexports.pctDecChars = pctDecChars;\nexports.parse = parse;\nexports.removeDotSegments = removeDotSegments;\nexports.serialize = serialize;\nexports.resolveComponents = resolveComponents;\nexports.resolve = resolve;\nexports.normalize = normalize;\nexports.equal = equal;\nexports.escapeComponent = escapeComponent;\nexports.unescapeComponent = unescapeComponent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=uri.all.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/uri-js/dist/es5/uri.all.js","'use strict';\n\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nmodule.exports = function ucs2length(str) {\n  var length = 0\n    , len = str.length\n    , pos = 0\n    , value;\n  while (pos < len) {\n    length++;\n    value = str.charCodeAt(pos++);\n    if (value >= 0xD800 && value <= 0xDBFF && pos < len) {\n      // high surrogate, and there is a next character\n      value = str.charCodeAt(pos);\n      if ((value & 0xFC00) == 0xDC00) pos++; // low surrogate\n    }\n  }\n  return length;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/compile/ucs2length.js","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/json-schema-traverse/index.js","'use strict';\n\n\nvar Cache = module.exports = function Cache() {\n  this._cache = {};\n};\n\n\nCache.prototype.put = function Cache_put(key, value) {\n  this._cache[key] = value;\n};\n\n\nCache.prototype.get = function Cache_get(key) {\n  return this._cache[key];\n};\n\n\nCache.prototype.del = function Cache_del(key) {\n  delete this._cache[key];\n};\n\n\nCache.prototype.clear = function Cache_clear() {\n  this._cache = {};\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/cache.js","'use strict';\n\nvar util = require('./util');\n\nvar DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\nvar DAYS = [0,31,28,31,30,31,30,31,31,30,31,30,31];\nvar TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d:\\d\\d)?$/i;\nvar HOSTNAME = /^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i;\nvar URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nvar URIREF = /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\n// uri-template: https://tools.ietf.org/html/rfc6570\nvar URITEMPLATE = /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i;\n// For the source: https://gist.github.com/dperini/729294\n// For test cases: https://mathiasbynens.be/demo/url-regex\n// @todo Delete current URL in favour of the commented out URL rule when this issue is fixed https://github.com/eslint/eslint/issues/7983.\n// var URL = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu;\nvar URL = /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i;\nvar UUID = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;\nvar JSON_POINTER = /^(?:\\/(?:[^~/]|~0|~1)*)*$/;\nvar JSON_POINTER_URI_FRAGMENT = /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;\nvar RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/;\n\n\nmodule.exports = formats;\n\nfunction formats(mode) {\n  mode = mode == 'full' ? 'full' : 'fast';\n  return util.copy(formats[mode]);\n}\n\n\nformats.fast = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date: /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: /^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)?$/i,\n  'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)$/i,\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n  uri: /^(?:[a-z][a-z0-9+-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n  'uri-reference': /^(?:(?:[a-z][a-z0-9+-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  // email (sources from jsen validator):\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n  email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n  hostname: HOSTNAME,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: UUID,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nformats.full = {\n  date: date,\n  time: time,\n  'date-time': date_time,\n  uri: uri,\n  'uri-reference': URIREF,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname: hostname,\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  uuid: UUID,\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nfunction isLeapYear(year) {\n  // https://tools.ietf.org/html/rfc3339#appendix-C\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\n\nfunction date(str) {\n  // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n  var matches = str.match(DATE);\n  if (!matches) return false;\n\n  var year = +matches[1];\n  var month = +matches[2];\n  var day = +matches[3];\n\n  return month >= 1 && month <= 12 && day >= 1 &&\n          day <= (month == 2 && isLeapYear(year) ? 29 : DAYS[month]);\n}\n\n\nfunction time(str, full) {\n  var matches = str.match(TIME);\n  if (!matches) return false;\n\n  var hour = matches[1];\n  var minute = matches[2];\n  var second = matches[3];\n  var timeZone = matches[5];\n  return ((hour <= 23 && minute <= 59 && second <= 59) ||\n          (hour == 23 && minute == 59 && second == 60)) &&\n         (!full || timeZone);\n}\n\n\nvar DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n  // http://tools.ietf.org/html/rfc3339#section-5.6\n  var dateTime = str.split(DATE_TIME_SEPARATOR);\n  return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\n\n\nfunction hostname(str) {\n  // https://tools.ietf.org/html/rfc1034#section-3.5\n  // https://tools.ietf.org/html/rfc1123#section-2\n  return str.length <= 255 && HOSTNAME.test(str);\n}\n\n\nvar NOT_URI_FRAGMENT = /\\/|:/;\nfunction uri(str) {\n  // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\n\n\nvar Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n  if (Z_ANCHOR.test(str)) return false;\n  try {\n    new RegExp(str);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/compile/formats.js","'use strict';\n\nvar ruleModules = require('../dotjs')\n  , toHash = require('./util').toHash;\n\nmodule.exports = function rules() {\n  var RULES = [\n    { type: 'number',\n      rules: [ { 'maximum': ['exclusiveMaximum'] },\n               { 'minimum': ['exclusiveMinimum'] }, 'multipleOf', 'format'] },\n    { type: 'string',\n      rules: [ 'maxLength', 'minLength', 'pattern', 'format' ] },\n    { type: 'array',\n      rules: [ 'maxItems', 'minItems', 'items', 'contains', 'uniqueItems' ] },\n    { type: 'object',\n      rules: [ 'maxProperties', 'minProperties', 'required', 'dependencies', 'propertyNames',\n               { 'properties': ['additionalProperties', 'patternProperties'] } ] },\n    { rules: [ '$ref', 'const', 'enum', 'not', 'anyOf', 'oneOf', 'allOf', 'if' ] }\n  ];\n\n  var ALL = [ 'type', '$comment' ];\n  var KEYWORDS = [\n    '$schema', '$id', 'id', '$data', 'title',\n    'description', 'default', 'definitions',\n    'examples', 'readOnly', 'writeOnly',\n    'contentMediaType', 'contentEncoding',\n    'additionalItems', 'then', 'else'\n  ];\n  var TYPES = [ 'number', 'integer', 'string', 'array', 'object', 'boolean', 'null' ];\n  RULES.all = toHash(ALL);\n  RULES.types = toHash(TYPES);\n\n  RULES.forEach(function (group) {\n    group.rules = group.rules.map(function (keyword) {\n      var implKeywords;\n      if (typeof keyword == 'object') {\n        var key = Object.keys(keyword)[0];\n        implKeywords = keyword[key];\n        keyword = key;\n        implKeywords.forEach(function (k) {\n          ALL.push(k);\n          RULES.all[k] = true;\n        });\n      }\n      ALL.push(keyword);\n      var rule = RULES.all[keyword] = {\n        keyword: keyword,\n        code: ruleModules[keyword],\n        implements: implKeywords\n      };\n      return rule;\n    });\n\n    RULES.all.$comment = {\n      keyword: '$comment',\n      code: ruleModules.$comment\n    };\n\n    if (group.type) RULES.types[group.type] = group;\n  });\n\n  RULES.keywords = toHash(ALL.concat(KEYWORDS));\n  RULES.custom = {};\n\n  return RULES;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/compile/rules.js","'use strict';\n\n//all requires must be explicit because browserify won't work with dynamic requires\nmodule.exports = {\n  '$ref': require('./ref'),\n  allOf: require('./allOf'),\n  anyOf: require('./anyOf'),\n  '$comment': require('./comment'),\n  const: require('./const'),\n  contains: require('./contains'),\n  dependencies: require('./dependencies'),\n  'enum': require('./enum'),\n  format: require('./format'),\n  'if': require('./if'),\n  items: require('./items'),\n  maximum: require('./_limit'),\n  minimum: require('./_limit'),\n  maxItems: require('./_limitItems'),\n  minItems: require('./_limitItems'),\n  maxLength: require('./_limitLength'),\n  minLength: require('./_limitLength'),\n  maxProperties: require('./_limitProperties'),\n  minProperties: require('./_limitProperties'),\n  multipleOf: require('./multipleOf'),\n  not: require('./not'),\n  oneOf: require('./oneOf'),\n  pattern: require('./pattern'),\n  properties: require('./properties'),\n  propertyNames: require('./propertyNames'),\n  required: require('./required'),\n  uniqueItems: require('./uniqueItems'),\n  validate: require('./validate')\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/index.js","'use strict';\nmodule.exports = function generate_ref(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $async, $refCode;\n  if ($schema == '#' || $schema == '#/') {\n    if (it.isRoot) {\n      $async = it.async;\n      $refCode = 'validate';\n    } else {\n      $async = it.root.schema.$async === true;\n      $refCode = 'root.refVal[0]';\n    }\n  } else {\n    var $refVal = it.resolveRef(it.baseId, $schema, it.isRoot);\n    if ($refVal === undefined) {\n      var $message = it.MissingRefError.message(it.baseId, $schema);\n      if (it.opts.missingRefs == 'fail') {\n        it.logger.error($message);\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('$ref') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { ref: \\'' + (it.util.escapeQuotes($schema)) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'can\\\\\\'t resolve reference ' + (it.util.escapeQuotes($schema)) + '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: ' + (it.util.toQuotedString($schema)) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        if ($breakOnError) {\n          out += ' if (false) { ';\n        }\n      } else if (it.opts.missingRefs == 'ignore') {\n        it.logger.warn($message);\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n      } else {\n        throw new it.MissingRefError(it.baseId, $schema, $message);\n      }\n    } else if ($refVal.inline) {\n      var $it = it.util.copy(it);\n      $it.level++;\n      var $nextValid = 'valid' + $it.level;\n      $it.schema = $refVal.schema;\n      $it.schemaPath = '';\n      $it.errSchemaPath = $schema;\n      var $code = it.validate($it).replace(/validate\\.schema/g, $refVal.code);\n      out += ' ' + ($code) + ' ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n      }\n    } else {\n      $async = $refVal.$async === true || (it.async && $refVal.$async !== false);\n      $refCode = $refVal.code;\n    }\n  }\n  if ($refCode) {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    if (it.opts.passContext) {\n      out += ' ' + ($refCode) + '.call(this, ';\n    } else {\n      out += ' ' + ($refCode) + '( ';\n    }\n    out += ' ' + ($data) + ', (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ', rootData)  ';\n    var __callValidate = out;\n    out = $$outStack.pop();\n    if ($async) {\n      if (!it.async) throw new Error('async schema referenced by sync schema');\n      if ($breakOnError) {\n        out += ' var ' + ($valid) + '; ';\n      }\n      out += ' try { await ' + (__callValidate) + '; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = true; ';\n      }\n      out += ' } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = false; ';\n      }\n      out += ' } ';\n      if ($breakOnError) {\n        out += ' if (' + ($valid) + ') { ';\n      }\n    } else {\n      out += ' if (!' + (__callValidate) + ') { if (vErrors === null) vErrors = ' + ($refCode) + '.errors; else vErrors = vErrors.concat(' + ($refCode) + '.errors); errors = vErrors.length; } ';\n      if ($breakOnError) {\n        out += ' else { ';\n      }\n    }\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/ref.js","'use strict';\nmodule.exports = function generate_allOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $allSchemasEmpty = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if (it.util.schemaHasRules($sch, it.RULES.all)) {\n        $allSchemasEmpty = false;\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    if ($allSchemasEmpty) {\n      out += ' if (true) { ';\n    } else {\n      out += ' ' + ($closingBraces.slice(0, -1)) + ' ';\n    }\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/allOf.js","'use strict';\nmodule.exports = function generate_anyOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $noEmptySchema = $schema.every(function($sch) {\n    return it.util.schemaHasRules($sch, it.RULES.all);\n  });\n  if ($noEmptySchema) {\n    var $currentBaseId = $it.baseId;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = false;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        out += ' ' + ($valid) + ' = ' + ($valid) + ' || ' + ($nextValid) + '; if (!' + ($valid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('anyOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match some schema in anyOf\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n    out = it.util.cleanUpCode(out);\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/anyOf.js","'use strict';\nmodule.exports = function generate_comment(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $comment = it.util.toQuotedString($schema);\n  if (it.opts.$comment === true) {\n    out += ' console.log(' + ($comment) + ');';\n  } else if (typeof it.opts.$comment == 'function') {\n    out += ' self._opts.$comment(' + ($comment) + ', ' + (it.util.toQuotedString($errSchemaPath)) + ', validate.root.schema);';\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/comment.js","'use strict';\nmodule.exports = function generate_const(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!$isData) {\n    out += ' var schema' + ($lvl) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ' = equal(' + ($data) + ', schema' + ($lvl) + '); if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('const') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValue: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to constant\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/const.js","'use strict';\nmodule.exports = function generate_contains(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId,\n    $nonEmptySchema = it.util.schemaHasRules($schema, it.RULES.all);\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($nonEmptySchema) {\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($nextValid) + ' = false; for (var ' + ($idx) + ' = 0; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    out += ' if (' + ($nextValid) + ') break; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($nextValid) + ') {';\n  } else {\n    out += ' if (' + ($data) + '.length == 0) {';\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('contains') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should contain a valid item\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } else { ';\n  if ($nonEmptySchema) {\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n  }\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/contains.js","'use strict';\nmodule.exports = function generate_dependencies(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $schemaDeps = {},\n    $propertyDeps = {},\n    $ownProperties = it.opts.ownProperties;\n  for ($property in $schema) {\n    var $sch = $schema[$property];\n    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n    $deps[$property] = $sch;\n  }\n  out += 'var ' + ($errs) + ' = errors;';\n  var $currentErrorPath = it.errorPath;\n  out += 'var missing' + ($lvl) + ';';\n  for (var $property in $propertyDeps) {\n    $deps = $propertyDeps[$property];\n    if ($deps.length) {\n      out += ' if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      if ($breakOnError) {\n        out += ' && ( ';\n        var arr1 = $deps;\n        if (arr1) {\n          var $propertyKey, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $propertyKey = arr1[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ')) {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should have ';\n            if ($deps.length == 1) {\n              out += 'property ' + (it.util.escapeQuotes($deps[0]));\n            } else {\n              out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n            }\n            out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      } else {\n        out += ' ) { ';\n        var arr2 = $deps;\n        if (arr2) {\n          var $propertyKey, i2 = -1,\n            l2 = arr2.length - 1;\n          while (i2 < l2) {\n            $propertyKey = arr2[i2 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should have ';\n                if ($deps.length == 1) {\n                  out += 'property ' + (it.util.escapeQuotes($deps[0]));\n                } else {\n                  out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n                }\n                out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n      out += ' }   ';\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n  }\n  it.errorPath = $currentErrorPath;\n  var $currentBaseId = $it.baseId;\n  for (var $property in $schemaDeps) {\n    var $sch = $schemaDeps[$property];\n    if (it.util.schemaHasRules($sch, it.RULES.all)) {\n      out += ' ' + ($nextValid) + ' = true; if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      out += ') { ';\n      $it.schema = $sch;\n      $it.schemaPath = $schemaPath + it.util.getProperty($property);\n      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += '   ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/dependencies.js","'use strict';\nmodule.exports = function generate_enum(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $i = 'i' + $lvl,\n    $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ';';\n  if ($isData) {\n    out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n  }\n  out += '' + ($valid) + ' = false;for (var ' + ($i) + '=0; ' + ($i) + '<' + ($vSchema) + '.length; ' + ($i) + '++) if (equal(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + '])) { ' + ($valid) + ' = true; break; }';\n  if ($isData) {\n    out += '  }  ';\n  }\n  out += ' if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('enum') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValues: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to one of the allowed values\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/enum.js","'use strict';\nmodule.exports = function generate_format(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  if (it.opts.format === false) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n    return out;\n  }\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $unknownFormats = it.opts.unknownFormats,\n    $allowUnknown = Array.isArray($unknownFormats);\n  if ($isData) {\n    var $format = 'format' + $lvl,\n      $isObject = 'isObject' + $lvl,\n      $formatType = 'formatType' + $lvl;\n    out += ' var ' + ($format) + ' = formats[' + ($schemaValue) + ']; var ' + ($isObject) + ' = typeof ' + ($format) + ' == \\'object\\' && !(' + ($format) + ' instanceof RegExp) && ' + ($format) + '.validate; var ' + ($formatType) + ' = ' + ($isObject) + ' && ' + ($format) + '.type || \\'string\\'; if (' + ($isObject) + ') { ';\n    if (it.async) {\n      out += ' var async' + ($lvl) + ' = ' + ($format) + '.async; ';\n    }\n    out += ' ' + ($format) + ' = ' + ($format) + '.validate; } if (  ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n    }\n    out += ' (';\n    if ($unknownFormats != 'ignore') {\n      out += ' (' + ($schemaValue) + ' && !' + ($format) + ' ';\n      if ($allowUnknown) {\n        out += ' && self._opts.unknownFormats.indexOf(' + ($schemaValue) + ') == -1 ';\n      }\n      out += ') || ';\n    }\n    out += ' (' + ($format) + ' && ' + ($formatType) + ' == \\'' + ($ruleType) + '\\' && !(typeof ' + ($format) + ' == \\'function\\' ? ';\n    if (it.async) {\n      out += ' (async' + ($lvl) + ' ? await ' + ($format) + '(' + ($data) + ') : ' + ($format) + '(' + ($data) + ')) ';\n    } else {\n      out += ' ' + ($format) + '(' + ($data) + ') ';\n    }\n    out += ' : ' + ($format) + '.test(' + ($data) + '))))) {';\n  } else {\n    var $format = it.formats[$schema];\n    if (!$format) {\n      if ($unknownFormats == 'ignore') {\n        it.logger.warn('unknown format \"' + $schema + '\" ignored in schema at path \"' + it.errSchemaPath + '\"');\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else if ($allowUnknown && $unknownFormats.indexOf($schema) >= 0) {\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else {\n        throw new Error('unknown format \"' + $schema + '\" is used in schema at path \"' + it.errSchemaPath + '\"');\n      }\n    }\n    var $isObject = typeof $format == 'object' && !($format instanceof RegExp) && $format.validate;\n    var $formatType = $isObject && $format.type || 'string';\n    if ($isObject) {\n      var $async = $format.async === true;\n      $format = $format.validate;\n    }\n    if ($formatType != $ruleType) {\n      if ($breakOnError) {\n        out += ' if (true) { ';\n      }\n      return out;\n    }\n    if ($async) {\n      if (!it.async) throw new Error('async format in sync schema');\n      var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';\n      out += ' if (!(await ' + ($formatRef) + '(' + ($data) + '))) { ';\n    } else {\n      out += ' if (! ';\n      var $formatRef = 'formats' + it.util.getProperty($schema);\n      if ($isObject) $formatRef += '.validate';\n      if (typeof $format == 'function') {\n        out += ' ' + ($formatRef) + '(' + ($data) + ') ';\n      } else {\n        out += ' ' + ($formatRef) + '.test(' + ($data) + ') ';\n      }\n      out += ') { ';\n    }\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('format') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { format:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match format \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/format.js","'use strict';\nmodule.exports = function generate_if(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $thenSch = it.schema['then'],\n    $elseSch = it.schema['else'],\n    $thenPresent = $thenSch !== undefined && it.util.schemaHasRules($thenSch, it.RULES.all),\n    $elsePresent = $elseSch !== undefined && it.util.schemaHasRules($elseSch, it.RULES.all),\n    $currentBaseId = $it.baseId;\n  if ($thenPresent || $elsePresent) {\n    var $ifClause;\n    $it.createErrors = false;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = true;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    out += '  ' + (it.validate($it)) + ' ';\n    $it.baseId = $currentBaseId;\n    $it.createErrors = true;\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    if ($thenPresent) {\n      out += ' if (' + ($nextValid) + ') {  ';\n      $it.schema = it.schema['then'];\n      $it.schemaPath = it.schemaPath + '.then';\n      $it.errSchemaPath = it.errSchemaPath + '/then';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'then\\'; ';\n      } else {\n        $ifClause = '\\'then\\'';\n      }\n      out += ' } ';\n      if ($elsePresent) {\n        out += ' else { ';\n      }\n    } else {\n      out += ' if (!' + ($nextValid) + ') { ';\n    }\n    if ($elsePresent) {\n      $it.schema = it.schema['else'];\n      $it.schemaPath = it.schemaPath + '.else';\n      $it.errSchemaPath = it.errSchemaPath + '/else';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'else\\'; ';\n      } else {\n        $ifClause = '\\'else\\'';\n      }\n      out += ' } ';\n    }\n    out += ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('if') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { failingKeyword: ' + ($ifClause) + ' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match \"\\' + ' + ($ifClause) + ' + \\'\" schema\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' }   ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n    out = it.util.cleanUpCode(out);\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/if.js","'use strict';\nmodule.exports = function generate_items(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId;\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if (Array.isArray($schema)) {\n    var $additionalItems = it.schema.additionalItems;\n    if ($additionalItems === false) {\n      out += ' ' + ($valid) + ' = ' + ($data) + '.length <= ' + ($schema.length) + '; ';\n      var $currErrSchemaPath = $errSchemaPath;\n      $errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += '  if (!' + ($valid) + ') {   ';\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ('additionalItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schema.length) + ' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should NOT have more than ' + ($schema.length) + ' items\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n      out += ' } ';\n      $errSchemaPath = $currErrSchemaPath;\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        if (it.util.schemaHasRules($sch, it.RULES.all)) {\n          out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($i) + ') { ';\n          var $passData = $data + '[' + $i + ']';\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + '[' + $i + ']';\n          $it.errSchemaPath = $errSchemaPath + '/' + $i;\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);\n          $it.dataPathArr[$dataNxt] = $i;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n    if (typeof $additionalItems == 'object' && it.util.schemaHasRules($additionalItems, it.RULES.all)) {\n      $it.schema = $additionalItems;\n      $it.schemaPath = it.schemaPath + '.additionalItems';\n      $it.errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($schema.length) + ') {  for (var ' + ($idx) + ' = ' + ($schema.length) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n      $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n      var $passData = $data + '[' + $idx + ']';\n      $it.dataPathArr[$dataNxt] = $idx;\n      var $code = it.validate($it);\n      $it.baseId = $currentBaseId;\n      if (it.util.varOccurences($code, $nextData) < 2) {\n        out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n      } else {\n        out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n      }\n      if ($breakOnError) {\n        out += ' if (!' + ($nextValid) + ') break; ';\n      }\n      out += ' } }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  } else if (it.util.schemaHasRules($schema, it.RULES.all)) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += '  for (var ' + ($idx) + ' = ' + (0) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    if ($breakOnError) {\n      out += ' if (!' + ($nextValid) + ') break; ';\n    }\n    out += ' }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/items.js","'use strict';\nmodule.exports = function generate_multipleOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  out += 'var division' + ($lvl) + ';if (';\n  if ($isData) {\n    out += ' ' + ($schemaValue) + ' !== undefined && ( typeof ' + ($schemaValue) + ' != \\'number\\' || ';\n  }\n  out += ' (division' + ($lvl) + ' = ' + ($data) + ' / ' + ($schemaValue) + ', ';\n  if (it.opts.multipleOfPrecision) {\n    out += ' Math.abs(Math.round(division' + ($lvl) + ') - division' + ($lvl) + ') > 1e-' + (it.opts.multipleOfPrecision) + ' ';\n  } else {\n    out += ' division' + ($lvl) + ' !== parseInt(division' + ($lvl) + ') ';\n  }\n  out += ' ) ';\n  if ($isData) {\n    out += '  )  ';\n  }\n  out += ' ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('multipleOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { multipleOf: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be multiple of ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/multipleOf.js","'use strict';\nmodule.exports = function generate_not(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if (it.util.schemaHasRules($schema, it.RULES.all)) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.createErrors = false;\n    var $allErrorsOption;\n    if ($it.opts.allErrors) {\n      $allErrorsOption = $it.opts.allErrors;\n      $it.opts.allErrors = false;\n    }\n    out += ' ' + (it.validate($it)) + ' ';\n    $it.createErrors = true;\n    if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (' + ($nextValid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    out += '  var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if ($breakOnError) {\n      out += ' if (false) { ';\n    }\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/not.js","'use strict';\nmodule.exports = function generate_oneOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $prevValid = 'prevValid' + $lvl,\n    $passingSchemas = 'passingSchemas' + $lvl;\n  out += 'var ' + ($errs) + ' = errors , ' + ($prevValid) + ' = false , ' + ($valid) + ' = false , ' + ($passingSchemas) + ' = null; ';\n  var $wasComposite = it.compositeRule;\n  it.compositeRule = $it.compositeRule = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if (it.util.schemaHasRules($sch, it.RULES.all)) {\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n      } else {\n        out += ' var ' + ($nextValid) + ' = true; ';\n      }\n      if ($i) {\n        out += ' if (' + ($nextValid) + ' && ' + ($prevValid) + ') { ' + ($valid) + ' = false; ' + ($passingSchemas) + ' = [' + ($passingSchemas) + ', ' + ($i) + ']; } else { ';\n        $closingBraces += '}';\n      }\n      out += ' if (' + ($nextValid) + ') { ' + ($valid) + ' = ' + ($prevValid) + ' = true; ' + ($passingSchemas) + ' = ' + ($i) + '; }';\n    }\n  }\n  it.compositeRule = $it.compositeRule = $wasComposite;\n  out += '' + ($closingBraces) + 'if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('oneOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { passingSchemas: ' + ($passingSchemas) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match exactly one schema in oneOf\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; return false; ';\n    }\n  }\n  out += '} else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }';\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/oneOf.js","'use strict';\nmodule.exports = function generate_pattern(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $regexp = $isData ? '(new RegExp(' + $schemaValue + '))' : it.usePattern($schema);\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n  }\n  out += ' !' + ($regexp) + '.test(' + ($data) + ') ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('pattern') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { pattern:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match pattern \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/pattern.js","'use strict';\nmodule.exports = function generate_properties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $key = 'key' + $lvl,\n    $idx = 'idx' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $dataProperties = 'dataProperties' + $lvl;\n  var $schemaKeys = Object.keys($schema || {}),\n    $pProperties = it.schema.patternProperties || {},\n    $pPropertyKeys = Object.keys($pProperties),\n    $aProperties = it.schema.additionalProperties,\n    $someProperties = $schemaKeys.length || $pPropertyKeys.length,\n    $noAdditional = $aProperties === false,\n    $additionalIsSchema = typeof $aProperties == 'object' && Object.keys($aProperties).length,\n    $removeAdditional = it.opts.removeAdditional,\n    $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional,\n    $ownProperties = it.opts.ownProperties,\n    $currentBaseId = it.baseId;\n  var $required = it.schema.required;\n  if ($required && !(it.opts.$data && $required.$data) && $required.length < it.opts.loopRequired) var $requiredHash = it.util.toHash($required);\n  out += 'var ' + ($errs) + ' = errors;var ' + ($nextValid) + ' = true;';\n  if ($ownProperties) {\n    out += ' var ' + ($dataProperties) + ' = undefined;';\n  }\n  if ($checkAdditional) {\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    if ($someProperties) {\n      out += ' var isAdditional' + ($lvl) + ' = !(false ';\n      if ($schemaKeys.length) {\n        if ($schemaKeys.length > 8) {\n          out += ' || validate.schema' + ($schemaPath) + '.hasOwnProperty(' + ($key) + ') ';\n        } else {\n          var arr1 = $schemaKeys;\n          if (arr1) {\n            var $propertyKey, i1 = -1,\n              l1 = arr1.length - 1;\n            while (i1 < l1) {\n              $propertyKey = arr1[i1 += 1];\n              out += ' || ' + ($key) + ' == ' + (it.util.toQuotedString($propertyKey)) + ' ';\n            }\n          }\n        }\n      }\n      if ($pPropertyKeys.length) {\n        var arr2 = $pPropertyKeys;\n        if (arr2) {\n          var $pProperty, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $pProperty = arr2[$i += 1];\n            out += ' || ' + (it.usePattern($pProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      out += ' ); if (isAdditional' + ($lvl) + ') { ';\n    }\n    if ($removeAdditional == 'all') {\n      out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n    } else {\n      var $currentErrorPath = it.errorPath;\n      var $additionalProperty = '\\' + ' + $key + ' + \\'';\n      if (it.opts._errorDataPathProperty) {\n        it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n      }\n      if ($noAdditional) {\n        if ($removeAdditional) {\n          out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n        } else {\n          out += ' ' + ($nextValid) + ' = false; ';\n          var $currErrSchemaPath = $errSchemaPath;\n          $errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = ''; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('additionalProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { additionalProperty: \\'' + ($additionalProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is an invalid additional property';\n              } else {\n                out += 'should NOT have additional properties';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          var __err = out;\n          out = $$outStack.pop();\n          if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + (__err) + ']); ';\n            } else {\n              out += ' validate.errors = [' + (__err) + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n          $errSchemaPath = $currErrSchemaPath;\n          if ($breakOnError) {\n            out += ' break; ';\n          }\n        }\n      } else if ($additionalIsSchema) {\n        if ($removeAdditional == 'failing') {\n          out += ' var ' + ($errs) + ' = errors;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' if (!' + ($nextValid) + ') { errors = ' + ($errs) + '; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete ' + ($data) + '[' + ($key) + ']; }  ';\n          it.compositeRule = $it.compositeRule = $wasComposite;\n        } else {\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n        }\n      }\n      it.errorPath = $currentErrorPath;\n    }\n    if ($someProperties) {\n      out += ' } ';\n    }\n    out += ' }  ';\n    if ($breakOnError) {\n      out += ' if (' + ($nextValid) + ') { ';\n      $closingBraces += '}';\n    }\n  }\n  var $useDefaults = it.opts.useDefaults && !it.compositeRule;\n  if ($schemaKeys.length) {\n    var arr3 = $schemaKeys;\n    if (arr3) {\n      var $propertyKey, i3 = -1,\n        l3 = arr3.length - 1;\n      while (i3 < l3) {\n        $propertyKey = arr3[i3 += 1];\n        var $sch = $schema[$propertyKey];\n        if (it.util.schemaHasRules($sch, it.RULES.all)) {\n          var $prop = it.util.getProperty($propertyKey),\n            $passData = $data + $prop,\n            $hasDefault = $useDefaults && $sch.default !== undefined;\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + $prop;\n          $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($propertyKey);\n          $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);\n          $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            $code = it.util.varReplace($code, $nextData, $passData);\n            var $useData = $passData;\n          } else {\n            var $useData = $nextData;\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ';\n          }\n          if ($hasDefault) {\n            out += ' ' + ($code) + ' ';\n          } else {\n            if ($requiredHash && $requiredHash[$propertyKey]) {\n              out += ' if ( ' + ($useData) + ' === undefined ';\n              if ($ownProperties) {\n                out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n              }\n              out += ') { ' + ($nextValid) + ' = false; ';\n              var $currentErrorPath = it.errorPath,\n                $currErrSchemaPath = $errSchemaPath,\n                $missingProperty = it.util.escapeQuotes($propertyKey);\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n              }\n              $errSchemaPath = it.errSchemaPath + '/required';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              $errSchemaPath = $currErrSchemaPath;\n              it.errorPath = $currentErrorPath;\n              out += ' } else { ';\n            } else {\n              if ($breakOnError) {\n                out += ' if ( ' + ($useData) + ' === undefined ';\n                if ($ownProperties) {\n                  out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ') { ' + ($nextValid) + ' = true; } else { ';\n              } else {\n                out += ' if (' + ($useData) + ' !== undefined ';\n                if ($ownProperties) {\n                  out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ' ) { ';\n              }\n            }\n            out += ' ' + ($code) + ' } ';\n          }\n        }\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($pPropertyKeys.length) {\n    var arr4 = $pPropertyKeys;\n    if (arr4) {\n      var $pProperty, i4 = -1,\n        l4 = arr4.length - 1;\n      while (i4 < l4) {\n        $pProperty = arr4[i4 += 1];\n        var $sch = $pProperties[$pProperty];\n        if (it.util.schemaHasRules($sch, it.RULES.all)) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternProperties' + it.util.getProperty($pProperty);\n          $it.errSchemaPath = it.errSchemaPath + '/patternProperties/' + it.util.escapeFragment($pProperty);\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pProperty)) + '.test(' + ($key) + ')) { ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/properties.js","'use strict';\nmodule.exports = function generate_propertyNames(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  out += 'var ' + ($errs) + ' = errors;';\n  if (it.util.schemaHasRules($schema, it.RULES.all)) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    var $key = 'key' + $lvl,\n      $idx = 'idx' + $lvl,\n      $i = 'i' + $lvl,\n      $invalidName = '\\' + ' + $key + ' + \\'',\n      $dataNxt = $it.dataLevel = it.dataLevel + 1,\n      $nextData = 'data' + $dataNxt,\n      $dataProperties = 'dataProperties' + $lvl,\n      $ownProperties = it.opts.ownProperties,\n      $currentBaseId = it.baseId;\n    if ($ownProperties) {\n      out += ' var ' + ($dataProperties) + ' = undefined; ';\n    }\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    out += ' var startErrs' + ($lvl) + ' = errors; ';\n    var $passData = $key;\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (!' + ($nextValid) + ') { for (var ' + ($i) + '=startErrs' + ($lvl) + '; ' + ($i) + '<errors; ' + ($i) + '++) { vErrors[' + ($i) + '].propertyName = ' + ($key) + '; }   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('propertyNames') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { propertyName: \\'' + ($invalidName) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'property name \\\\\\'' + ($invalidName) + '\\\\\\' is invalid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    if ($breakOnError) {\n      out += ' break; ';\n    }\n    out += ' } }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/propertyNames.js","'use strict';\nmodule.exports = function generate_required(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {\n      var $required = [];\n      var arr1 = $schema;\n      if (arr1) {\n        var $property, i1 = -1,\n          l1 = arr1.length - 1;\n        while (i1 < l1) {\n          $property = arr1[i1 += 1];\n          var $propertySch = it.schema.properties[$property];\n          if (!($propertySch && it.util.schemaHasRules($propertySch, it.RULES.all))) {\n            $required[$required.length] = $property;\n          }\n        }\n      }\n    } else {\n      var $required = $schema;\n    }\n  }\n  if ($isData || $required.length) {\n    var $currentErrorPath = it.errorPath,\n      $loopRequired = $isData || $required.length >= it.opts.loopRequired,\n      $ownProperties = it.opts.ownProperties;\n    if ($breakOnError) {\n      out += ' var missing' + ($lvl) + '; ';\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        out += ' var ' + ($valid) + ' = true; ';\n        if ($isData) {\n          out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { ' + ($valid) + ' = ' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] !== undefined ';\n        if ($ownProperties) {\n          out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += '; if (!' + ($valid) + ') break; } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n        out += '  if (!' + ($valid) + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      } else {\n        out += ' if ( ';\n        var arr2 = $required;\n        if (arr2) {\n          var $propertyKey, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $propertyKey = arr2[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ') {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      }\n    } else {\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        if ($isData) {\n          out += ' if (' + ($vSchema) + ' && !Array.isArray(' + ($vSchema) + ')) {  var err =   '; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is a required property';\n              } else {\n                out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + ($vSchema) + ' !== undefined) { ';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { if (' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] === undefined ';\n        if ($ownProperties) {\n          out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += ') {  var err =   '; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n      } else {\n        var arr3 = $required;\n        if (arr3) {\n          var $propertyKey, i3 = -1,\n            l3 = arr3.length - 1;\n          while (i3 < l3) {\n            $propertyKey = arr3[i3 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'';\n                if (it.opts._errorDataPathProperty) {\n                  out += 'is a required property';\n                } else {\n                  out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                }\n                out += '\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n    }\n    it.errorPath = $currentErrorPath;\n  } else if ($breakOnError) {\n    out += ' if (true) {';\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/required.js","'use strict';\nmodule.exports = function generate_uniqueItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (($schema || $isData) && it.opts.uniqueItems !== false) {\n    if ($isData) {\n      out += ' var ' + ($valid) + '; if (' + ($schemaValue) + ' === false || ' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \\'boolean\\') ' + ($valid) + ' = false; else { ';\n    }\n    out += ' var i = ' + ($data) + '.length , ' + ($valid) + ' = true , j; if (i > 1) { ';\n    var $itemType = it.schema.items && it.schema.items.type,\n      $typeIsArray = Array.isArray($itemType);\n    if (!$itemType || $itemType == 'object' || $itemType == 'array' || ($typeIsArray && ($itemType.indexOf('object') >= 0 || $itemType.indexOf('array') >= 0))) {\n      out += ' outer: for (;i--;) { for (j = i; j--;) { if (equal(' + ($data) + '[i], ' + ($data) + '[j])) { ' + ($valid) + ' = false; break outer; } } } ';\n    } else {\n      out += ' var itemIndices = {}, item; for (;i--;) { var item = ' + ($data) + '[i]; ';\n      var $method = 'checkDataType' + ($typeIsArray ? 's' : '');\n      out += ' if (' + (it.util[$method]($itemType, 'item', true)) + ') continue; ';\n      if ($typeIsArray) {\n        out += ' if (typeof item == \\'string\\') item = \\'\"\\' + item; ';\n      }\n      out += ' if (typeof itemIndices[item] == \\'number\\') { ' + ($valid) + ' = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ';\n    }\n    out += ' } ';\n    if ($isData) {\n      out += '  }  ';\n    }\n    out += ' if (!' + ($valid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('uniqueItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { i: i, j: j } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT have duplicate items (items ## \\' + j + \\' and \\' + i + \\' are identical)\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema:  ';\n        if ($isData) {\n          out += 'validate.schema' + ($schemaPath);\n        } else {\n          out += '' + ($schema);\n        }\n        out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/uniqueItems.js","'use strict';\n\nvar KEYWORDS = [\n  'multipleOf',\n  'maximum',\n  'exclusiveMaximum',\n  'minimum',\n  'exclusiveMinimum',\n  'maxLength',\n  'minLength',\n  'pattern',\n  'additionalItems',\n  'maxItems',\n  'minItems',\n  'uniqueItems',\n  'maxProperties',\n  'minProperties',\n  'required',\n  'additionalProperties',\n  'enum',\n  'format',\n  'const'\n];\n\nmodule.exports = function (metaSchema, keywordsJsonPointers) {\n  for (var i=0; i<keywordsJsonPointers.length; i++) {\n    metaSchema = JSON.parse(JSON.stringify(metaSchema));\n    var segments = keywordsJsonPointers[i].split('/');\n    var keywords = metaSchema;\n    var j;\n    for (j=1; j<segments.length; j++)\n      keywords = keywords[segments[j]];\n\n    for (j=0; j<KEYWORDS.length; j++) {\n      var key = KEYWORDS[j];\n      var schema = keywords[key];\n      if (schema) {\n        keywords[key] = {\n          anyOf: [\n            schema,\n            { $ref: 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n    }\n  }\n\n  return metaSchema;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/data.js","'use strict';\n\nvar MissingRefError = require('./error_classes').MissingRef;\n\nmodule.exports = compileAsync;\n\n\n/**\n * Creates validating function for passed schema with asynchronous loading of missing schemas.\n * `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n * @this  Ajv\n * @param {Object}   schema schema object\n * @param {Boolean}  meta optional true to compile meta-schema; this parameter can be skipped\n * @param {Function} callback an optional node-style callback, it is called with 2 parameters: error (or null) and validating function.\n * @return {Promise} promise that resolves with a validating function.\n */\nfunction compileAsync(schema, meta, callback) {\n  /* eslint no-shadow: 0 */\n  /* global Promise */\n  /* jshint validthis: true */\n  var self = this;\n  if (typeof this._opts.loadSchema != 'function')\n    throw new Error('options.loadSchema should be a function');\n\n  if (typeof meta == 'function') {\n    callback = meta;\n    meta = undefined;\n  }\n\n  var p = loadMetaSchemaOf(schema).then(function () {\n    var schemaObj = self._addSchema(schema, undefined, meta);\n    return schemaObj.validate || _compileAsync(schemaObj);\n  });\n\n  if (callback) {\n    p.then(\n      function(v) { callback(null, v); },\n      callback\n    );\n  }\n\n  return p;\n\n\n  function loadMetaSchemaOf(sch) {\n    var $schema = sch.$schema;\n    return $schema && !self.getSchema($schema)\n            ? compileAsync.call(self, { $ref: $schema }, true)\n            : Promise.resolve();\n  }\n\n\n  function _compileAsync(schemaObj) {\n    try { return self._compile(schemaObj); }\n    catch(e) {\n      if (e instanceof MissingRefError) return loadMissingSchema(e);\n      throw e;\n    }\n\n\n    function loadMissingSchema(e) {\n      var ref = e.missingSchema;\n      if (added(ref)) throw new Error('Schema ' + ref + ' is loaded but ' + e.missingRef + ' cannot be resolved');\n\n      var schemaPromise = self._loadingSchemas[ref];\n      if (!schemaPromise) {\n        schemaPromise = self._loadingSchemas[ref] = self._opts.loadSchema(ref);\n        schemaPromise.then(removePromise, removePromise);\n      }\n\n      return schemaPromise.then(function (sch) {\n        if (!added(ref)) {\n          return loadMetaSchemaOf(sch).then(function () {\n            if (!added(ref)) self.addSchema(sch, ref, undefined, meta);\n          });\n        }\n      }).then(function() {\n        return _compileAsync(schemaObj);\n      });\n\n      function removePromise() {\n        delete self._loadingSchemas[ref];\n      }\n\n      function added(ref) {\n        return self._refs[ref] || self._schemas[ref];\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/compile/async.js","'use strict';\n\nvar IDENTIFIER = /^[a-z_$][a-z0-9_$-]*$/i;\nvar customRuleCode = require('./dotjs/custom');\n\nmodule.exports = {\n  add: addKeyword,\n  get: getKeyword,\n  remove: removeKeyword\n};\n\n/**\n * Define custom keyword\n * @this  Ajv\n * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n * @return {Ajv} this for method chaining\n */\nfunction addKeyword(keyword, definition) {\n  /* jshint validthis: true */\n  /* eslint no-shadow: 0 */\n  var RULES = this.RULES;\n\n  if (RULES.keywords[keyword])\n    throw new Error('Keyword ' + keyword + ' is already defined');\n\n  if (!IDENTIFIER.test(keyword))\n    throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n  if (definition) {\n    if (definition.macro && definition.valid !== undefined)\n      throw new Error('\"valid\" option cannot be used with macro keywords');\n\n    var dataType = definition.type;\n    if (Array.isArray(dataType)) {\n      var i, len = dataType.length;\n      for (i=0; i<len; i++) checkDataType(dataType[i]);\n      for (i=0; i<len; i++) _addRule(keyword, dataType[i], definition);\n    } else {\n      if (dataType) checkDataType(dataType);\n      _addRule(keyword, dataType, definition);\n    }\n\n    var $data = definition.$data === true && this._opts.$data;\n    if ($data && !definition.validate)\n      throw new Error('$data support: \"validate\" function is not defined');\n\n    var metaSchema = definition.metaSchema;\n    if (metaSchema) {\n      if ($data) {\n        metaSchema = {\n          anyOf: [\n            metaSchema,\n            { '$ref': 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n      definition.validateSchema = this.compile(metaSchema, true);\n    }\n  }\n\n  RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n\n  function _addRule(keyword, dataType, definition) {\n    var ruleGroup;\n    for (var i=0; i<RULES.length; i++) {\n      var rg = RULES[i];\n      if (rg.type == dataType) {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    if (!ruleGroup) {\n      ruleGroup = { type: dataType, rules: [] };\n      RULES.push(ruleGroup);\n    }\n\n    var rule = {\n      keyword: keyword,\n      definition: definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.push(rule);\n    RULES.custom[keyword] = rule;\n  }\n\n\n  function checkDataType(dataType) {\n    if (!RULES.types[dataType]) throw new Error('Unknown type ' + dataType);\n  }\n\n  return this;\n}\n\n\n/**\n * Get keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n */\nfunction getKeyword(keyword) {\n  /* jshint validthis: true */\n  var rule = this.RULES.custom[keyword];\n  return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n}\n\n\n/**\n * Remove keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Ajv} this for method chaining\n */\nfunction removeKeyword(keyword) {\n  /* jshint validthis: true */\n  var RULES = this.RULES;\n  delete RULES.keywords[keyword];\n  delete RULES.all[keyword];\n  delete RULES.custom[keyword];\n  for (var i=0; i<RULES.length; i++) {\n    var rules = RULES[i].rules;\n    for (var j=0; j<rules.length; j++) {\n      if (rules[j].keyword == keyword) {\n        rules.splice(j, 1);\n        break;\n      }\n    }\n  }\n  return this;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/keyword.js","'use strict';\nmodule.exports = function generate_custom(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $rule = this,\n    $definition = 'definition' + $lvl,\n    $rDef = $rule.definition,\n    $closingBraces = '';\n  var $compile, $inline, $macro, $ruleValidate, $validateCode;\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + ($definition) + ' = RULES.custom[\\'' + ($keyword) + '\\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    if (!$ruleValidate) return;\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n  var $ruleErrs = $validateCode + '.errors',\n    $i = 'i' + $lvl,\n    $ruleErr = 'ruleErr' + $lvl,\n    $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n  if (!($inline || $macro)) {\n    out += '' + ($ruleErrs) + ' = null;';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($isData && $rDef.$data) {\n    $closingBraces += '}';\n    out += ' if (' + ($schemaValue) + ' === undefined) { ' + ($valid) + ' = true; } else { ';\n    if ($validateSchema) {\n      $closingBraces += '}';\n      out += ' ' + ($valid) + ' = ' + ($definition) + '.validateSchema(' + ($schemaValue) + '); if (' + ($valid) + ') { ';\n    }\n  }\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' ' + ($ruleValidate.validate) + ' ';\n    } else {\n      out += ' ' + ($valid) + ' = ' + ($ruleValidate.validate) + '; ';\n    }\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    var $closingBraces = '';\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($code);\n  } else {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + ($validateCode) + '.call( ';\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + ($data) + ' ';\n    } else {\n      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';\n    }\n    out += ' , (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n    if ($rDef.errors === false) {\n      out += ' ' + ($valid) + ' = ';\n      if ($asyncKeyword) {\n        out += 'await ';\n      }\n      out += '' + (def_callRuleValidate) + '; ';\n    } else {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + ($ruleErrs) + ' = null; try { ' + ($valid) + ' = await ' + (def_callRuleValidate) + '; } catch (e) { ' + ($valid) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + ($ruleErrs) + ' = null; ' + ($valid) + ' = ' + (def_callRuleValidate) + '; ';\n      }\n    }\n  }\n  if ($rDef.modifying) {\n    out += ' if (' + ($parentData) + ') ' + ($data) + ' = ' + ($parentData) + '[' + ($parentDataProperty) + '];';\n  }\n  out += '' + ($closingBraces);\n  if ($rDef.valid) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  } else {\n    out += ' if ( ';\n    if ($rDef.valid === undefined) {\n      out += ' !';\n      if ($macro) {\n        out += '' + ($nextValid);\n      } else {\n        out += '' + ($valid);\n      }\n    } else {\n      out += ' ' + (!$rDef.valid) + ' ';\n    }\n    out += ') { ';\n    $errorKeyword = $rule.keyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    var def_customError = out;\n    out = $$outStack.pop();\n    if ($inline) {\n      if ($rDef.errors) {\n        if ($rDef.errors != 'full') {\n          out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } ';\n        }\n      } else {\n        if ($rDef.errors === false) {\n          out += ' ' + (def_customError) + ' ';\n        } else {\n          out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } } ';\n        }\n      }\n    } else if ($macro) {\n      out += '   var err =   '; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError(vErrors); ';\n        } else {\n          out += ' validate.errors = vErrors; return false; ';\n        }\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + (def_customError) + ' ';\n      } else {\n        out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + ';  ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\";  ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } } else { ' + (def_customError) + ' } ';\n      }\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  }\n  return out;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/ajv/lib/dotjs/custom.js","module.exports = {\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"$id\":\"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#\",\"description\":\"Meta-schema for $data reference (JSON Schema extension proposal)\",\"type\":\"object\",\"required\":[\"$data\"],\"properties\":{\"$data\":{\"type\":\"string\",\"anyOf\":[{\"format\":\"relative-json-pointer\"},{\"format\":\"json-pointer\"}]}},\"additionalProperties\":false}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ajv/lib/refs/data.json\n// module id = 76\n// module chunks = 0","module.exports = {\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"$id\":\"http://json-schema.org/draft-07/schema#\",\"title\":\"Core schema meta-schema\",\"definitions\":{\"schemaArray\":{\"type\":\"array\",\"minItems\":1,\"items\":{\"$ref\":\"#\"}},\"nonNegativeInteger\":{\"type\":\"integer\",\"minimum\":0},\"nonNegativeIntegerDefault0\":{\"allOf\":[{\"$ref\":\"#/definitions/nonNegativeInteger\"},{\"default\":0}]},\"simpleTypes\":{\"enum\":[\"array\",\"boolean\",\"integer\",\"null\",\"number\",\"object\",\"string\"]},\"stringArray\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"uniqueItems\":true,\"default\":[]}},\"type\":[\"object\",\"boolean\"],\"properties\":{\"$id\":{\"type\":\"string\",\"format\":\"uri-reference\"},\"$schema\":{\"type\":\"string\",\"format\":\"uri\"},\"$ref\":{\"type\":\"string\",\"format\":\"uri-reference\"},\"$comment\":{\"type\":\"string\"},\"title\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"default\":true,\"readOnly\":{\"type\":\"boolean\",\"default\":false},\"examples\":{\"type\":\"array\",\"items\":true},\"multipleOf\":{\"type\":\"number\",\"exclusiveMinimum\":0},\"maximum\":{\"type\":\"number\"},\"exclusiveMaximum\":{\"type\":\"number\"},\"minimum\":{\"type\":\"number\"},\"exclusiveMinimum\":{\"type\":\"number\"},\"maxLength\":{\"$ref\":\"#/definitions/nonNegativeInteger\"},\"minLength\":{\"$ref\":\"#/definitions/nonNegativeIntegerDefault0\"},\"pattern\":{\"type\":\"string\",\"format\":\"regex\"},\"additionalItems\":{\"$ref\":\"#\"},\"items\":{\"anyOf\":[{\"$ref\":\"#\"},{\"$ref\":\"#/definitions/schemaArray\"}],\"default\":true},\"maxItems\":{\"$ref\":\"#/definitions/nonNegativeInteger\"},\"minItems\":{\"$ref\":\"#/definitions/nonNegativeIntegerDefault0\"},\"uniqueItems\":{\"type\":\"boolean\",\"default\":false},\"contains\":{\"$ref\":\"#\"},\"maxProperties\":{\"$ref\":\"#/definitions/nonNegativeInteger\"},\"minProperties\":{\"$ref\":\"#/definitions/nonNegativeIntegerDefault0\"},\"required\":{\"$ref\":\"#/definitions/stringArray\"},\"additionalProperties\":{\"$ref\":\"#\"},\"definitions\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"#\"},\"default\":{}},\"properties\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"#\"},\"default\":{}},\"patternProperties\":{\"type\":\"object\",\"additionalProperties\":{\"$ref\":\"#\"},\"propertyNames\":{\"format\":\"regex\"},\"default\":{}},\"dependencies\":{\"type\":\"object\",\"additionalProperties\":{\"anyOf\":[{\"$ref\":\"#\"},{\"$ref\":\"#/definitions/stringArray\"}]}},\"propertyNames\":{\"$ref\":\"#\"},\"const\":true,\"enum\":{\"type\":\"array\",\"items\":true,\"minItems\":1,\"uniqueItems\":true},\"type\":{\"anyOf\":[{\"$ref\":\"#/definitions/simpleTypes\"},{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/simpleTypes\"},\"minItems\":1,\"uniqueItems\":true}]},\"format\":{\"type\":\"string\"},\"contentMediaType\":{\"type\":\"string\"},\"contentEncoding\":{\"type\":\"string\"},\"if\":{\"$ref\":\"#\"},\"then\":{\"$ref\":\"#\"},\"else\":{\"$ref\":\"#\"},\"allOf\":{\"$ref\":\"#/definitions/schemaArray\"},\"anyOf\":{\"$ref\":\"#/definitions/schemaArray\"},\"oneOf\":{\"$ref\":\"#/definitions/schemaArray\"},\"not\":{\"$ref\":\"#\"}},\"default\":true}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ajv/lib/refs/json-schema-draft-07.json\n// module id = 77\n// module chunks = 0","module.exports = {\"definitions\":{},\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"$id\":\"http://jsbattle.jmrlab.com/schema/ubd-schema-v2.json\",\"type\":\"object\",\"title\":\"The Ultimate Battle Descriptor Schema\",\"version\":2,\"required\":[\"version\",\"rngSeed\",\"teamMode\",\"aiList\"],\"properties\":{\"version\":{\"$id\":\"#/properties/version\",\"enum\":[2],\"title\":\"Version of the schema\"},\"rngSeed\":{\"$id\":\"#/properties/rngSeed\",\"type\":\"number\",\"title\":\"Battle RNG seed\",\"default\":0,\"examples\":[0.850067584253805]},\"teamMode\":{\"$id\":\"#/properties/teamMode\",\"type\":\"boolean\",\"title\":\"Team death match\",\"default\":false,\"examples\":[false]},\"aiList\":{\"$id\":\"#/properties/aiList\",\"type\":\"array\",\"minItems\":2,\"maxItems\":40,\"title\":\"List of AIs that joins the battle\",\"items\":{\"$id\":\"#/properties/aiList/items\",\"type\":\"object\",\"title\":\"Tank AI\",\"required\":[\"name\",\"team\",\"code\",\"initData\",\"useSandbox\",\"executionLimit\"],\"properties\":{\"name\":{\"$id\":\"#/properties/aiList/items/properties/name\",\"type\":\"string\",\"title\":\"Name of tank\",\"default\":\"\",\"examples\":[\"User Created Tank\"],\"pattern\":\"^(.*)$\"},\"team\":{\"$id\":\"#/properties/aiList/items/properties/team\",\"type\":\"string\",\"title\":\"Team of the tank\",\"default\":\"\",\"examples\":[\"10i42s2ca\"],\"pattern\":\"^(.*)$\"},\"code\":{\"$id\":\"#/properties/aiList/items/properties/code\",\"anyOf\":[{\"type\":\"string\"},{\"type\":\"null\"}],\"title\":\"Code of the AI\",\"default\":\"\",\"examples\":[\"var a = 1;\"]},\"initData\":{\"$id\":\"#/properties/aiList/items/properties/initData\",\"default\":null,\"title\":\"Initial data of AI\",\"anyOf\":[{\"type\":\"object\"},{\"type\":\"null\"}],\"examples\":[null]},\"useSandbox\":{\"$id\":\"#/properties/aiList/items/properties/useSandbox\",\"type\":\"boolean\",\"title\":\"Use sandbox for AI execution\",\"default\":true,\"examples\":[true]},\"executionLimit\":{\"$id\":\"#/properties/aiList/items/properties/executionLimit\",\"type\":\"integer\",\"title\":\"AI code execution time limit in ms\",\"default\":100,\"examples\":[100]}}}}}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/schema/ubd-schema-v2.json\n// module id = 78\n// module chunks = 0","/* globals PIXI */\n'use strict';\n\nimport AbstractPixiRenderer from \"../abstractPixi/AbstractPixiRenderer.js\";\nimport DebugBattlefieldView from \"./DebugBattlefieldView.js\";\nimport DebugClockView from \"./DebugClockView.js\";\nimport DebugBulletView from \"./DebugBulletView.js\";\nimport DebugTankView from \"./DebugTankView.js\";\n\nexport default class DebugRenderer extends AbstractPixiRenderer  {\n\n  constructor() {\n    super();\n    this._frameCounter = 0;\n    this._fpsLabel = null;\n    this._scoreBoard = null;\n  }\n\n  initBatlefield(battlefield) {\n    super.initBatlefield(battlefield);\n\n    let labelStyle = new PIXI.TextStyle({\n      fontFamily: 'Arial',\n      fontSize: 12,\n      fill: '#00ff00'\n    });\n\n    this._fpsLabel = new PIXI.Text(\"FPS\", labelStyle);\n    this._fpsLabel.x = 100;\n    this._fpsLabel.y = 5;\n    this.stage.addChild(this._fpsLabel);\n\n    let self = this;\n    setInterval(() => {\n      self._fpsLabel.text = \"FPS: \" + self._frameCounter;\n      self._frameCounter = 0;\n    }, 1000);\n\n    labelStyle = new PIXI.TextStyle({\n      fontFamily: 'Arial',\n      fontSize: 12,\n      fill: '#00ff00'\n    });\n\n    this._scoreBoard = new PIXI.Text(\"scores\", labelStyle);\n    this._scoreBoard.x = battlefield.margin+2;\n    this._scoreBoard.y = battlefield.margin+2;\n    this._scoreBoard.alpha = 0.5;\n    this.stage.addChild(this._scoreBoard);\n  }\n\n  renderTankStats(tankList) {\n    super.renderTankStats(tankList);\n    let scores = [];\n    let i;\n    for(i=0; i < tankList.length; i++) {\n      scores.push({\n        name: tankList[i].fullName,\n        energy: tankList[i].energy,\n        value: tankList[i].score,\n      });\n    }\n    scores.sort((a,b) => {\n      if (a.value < b.value) return 1;\n      if (a.value > b.value) return -1;\n      return 0;\n    });\n    let msg = \"\";\n    for(i=0; i < scores.length; i++) {\n      msg += scores[i].value.toFixed(3) + \" - \" + scores[i].name + (scores[i].energy == 0 ? \" [X]\" : \"\" ) + \"\\n\";\n    }\n    this._scoreBoard.text = msg;\n  }\n\n  postRender() {\n    super.postRender();\n    this._frameCounter++;\n  }\n\n  _createBattlefieldView(battlefield) {\n    return new DebugBattlefieldView(battlefield);\n  }\n\n  _createClockView(clock) {\n    return new DebugClockView(clock);\n  }\n\n  _createBulletView(bullet) {\n    return new DebugBulletView(bullet);\n  }\n\n  _createTankView(tank) {\n    return new DebugTankView(tank);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/debug/DebugRenderer.js","'use strict';\n\nimport Renderer from \"../Renderer.js\";\nimport AbstractView from \"./AbstractView.js\";\n\nexport default class AbstractRenderer extends Renderer  {\n\n  constructor() {\n    super();\n    this._tankMap = [];\n    this._bulletMap = [];\n    this._offsetX = 0;\n    this._offsetY = 0;\n    this._speedMultiplier = 1;\n  }\n\n  get offsetX() {\n    return this._offsetX;\n  }\n\n  get offsetY() {\n    return this._offsetY;\n  }\n\n  get speedMultiplier () {\n    return this._speedMultiplier;\n  }\n\n  initBatlefield(battlefield) {\n    this._offsetX = battlefield.offsetX;\n    this._offsetY = battlefield.offsetY;\n  }\n\n  renderTank(tank, events) {\n    this._renderModel(tank, events, this._tankMap, this._createTankView);\n  }\n\n  renderBullet(bullet, events) {\n    this._renderModel(bullet, events, this._bulletMap, this._createBulletView);\n  }\n\n  getBulletView(id) {\n    return this._bulletMap[id];\n  }\n\n  getTankView(id) {\n    return this._tankMap[id];\n  }\n\n  setSpeed(v) {\n    this._speedMultiplier = v;\n  }\n  \n  _renderModel(model, events, map, factory) {\n    let view = null;\n    if(map[model.id]) {\n      view = map[model.id];\n    } else {\n      view = factory(model);\n      map[model.id] = view;\n    }\n    view.update(events);\n    return view;\n  }\n\n  _createTankView(tank) {\n    return new AbstractView(tank);\n  }\n\n  _createBulletView(bullet) {\n    return new AbstractView(bullet);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/abstract/AbstractRenderer.js","export default class PixiRendererClockModel {\n\n  construct() {\n    this._msElapsed = 0;\n    this._msLimit = 0;\n  }\n\n  update(msElapsed, msLimit) {\n    this._msElapsed = msElapsed;\n    this._msLimit = msLimit;\n  }\n\n  get msElapsed() {\n    return this._msElapsed;\n  }\n\n  get msLimit() {\n    return this._msLimit;\n  }\n\n  get text() {\n    let msTotal = Math.max(0, this._msLimit - this._msElapsed);\n    let s = Math.floor(msTotal/1000);\n    let ms = msTotal % 1000;\n    s = s.toString();\n    while(s.length < 2) s = \"0\" + s;\n    ms = ms.toString();\n    while(ms.length < 3) ms = \"0\" + ms;\n\n    return \"0:\" + s + \".\" + ms;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/abstractPixi/PixiRendererClockModel.js","/* globals PIXI */\n'use strict';\n\nimport AbstractPixiView from \"../abstractPixi/AbstractPixiView.js\";\n\nexport default class DebugBattlefieldView extends AbstractPixiView  {\n\n  _create(container) {\n    let background = new PIXI.Graphics();\n    background.beginFill(0x000000);\n    background.lineStyle(1, 0xffff00, 0.8);\n    background.drawRect(0, 0, this.model.width+2*this.model.margin, this.model.height+2*this.model.margin);\n    background.endFill();\n    container.addChild(background);\n    background = new PIXI.Graphics();\n    background.beginFill(0x000000);\n    background.lineStyle(1, 0xffff00, 0.8);\n    background.drawRect(this.model.margin, this.model.margin, this.model.width, this.model.height);\n    background.endFill();\n    container.addChild(background);\n  }\n\n  update(events) {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/debug/DebugBattlefieldView.js","/* globals PIXI */\n'use strict';\n\nimport AbstractPixiView from \"../abstractPixi/AbstractPixiView.js\";\n\nexport default class DebugClockView extends AbstractPixiView  {\n\n  constructor(model) {\n    super(model);\n  }\n\n  _create(container) {\n    let labelStyle = new PIXI.TextStyle({\n        fontFamily: 'Arial',\n        fontSize: 12,\n        fill: '#00ff00'\n    });\n\n    this._label = new PIXI.Text(\"clock\", labelStyle);\n    this._label.x = 5;\n    this._label.y = 5;\n    container.addChild(this._label);\n  }\n\n  update(events) {\n    this._label.text = this.model.text;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/debug/DebugClockView.js","/* globals PIXI */\n'use strict';\n\nimport AbstractPixiBulletView from \"../abstractPixi/AbstractPixiBulletView.js\";\n\nexport default class DebugBulletView extends AbstractPixiBulletView  {\n\n  constructor(model) {\n    super(model);\n  }\n\n  _create(container) {\n    let bullet = new PIXI.Graphics();\n    bullet.beginFill(0x00ff00, 0.5);\n    bullet.drawCircle(0, 0, 5);\n    bullet.endFill();\n    container.addChild(bullet);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/debug/DebugBulletView.js","/* globals PIXI */\n'use strict';\n\nimport AbstractPixiTankView from \"../abstractPixi/AbstractPixiTankView.js\";\n\nexport default class DebugTankView extends AbstractPixiTankView  {\n\n  constructor(model) {\n    super(model);\n  }\n\n  _createBody() {\n    let body = new PIXI.Graphics();\n    body.lineStyle(1, 0xffff00, 0.8);\n    body.beginFill(0x00ff00, 0.5);\n    body.drawRect(-15, -15, 30, 30);\n    body.endFill();\n    return body;\n  }\n\n  _createGun() {\n    let body = new PIXI.Graphics();\n    body.beginFill(0x00ff00, 0.5);\n    body.lineStyle(1, 0xffff00, 0.8);\n    body.drawCircle(0, 0, 10);\n    body.drawRect(0, -3, 30, 6);\n    body.endFill();\n    return body;\n  }\n\n  _createRadar() {\n    let body = new PIXI.Graphics();\n    body.beginFill(0x00ff00, 0.5);\n    body.lineStyle(1, 0xffff00, 0.8);\n    body.drawRect(-3, -10, 6, 20);\n    body.endFill();\n    body.lineStyle();\n    body.beginFill(0xaaffaa, 0.1);\n    body.moveTo(0, -3);\n    let radarRange = 300;\n    let radarFocal = 6;\n    let width = radarRange * Math.tan(radarFocal*(Math.PI/180))/2;\n    body.lineTo(radarRange, -width);\n    body.lineTo(radarRange, width);\n    body.lineTo(0, 3);\n    return body;\n  }\n\n  _createLabel() {\n    let labelStyle = new PIXI.TextStyle({\n        fontFamily: 'Arial',\n        fontSize: 12,\n        fill: 0x00ff00\n    });\n    let label = new PIXI.Text(\"\", labelStyle);\n    label.anchor.set(0.5, 0.5);\n    label.x = 0;\n    label.y = -40;\n    return label;\n  }\n\n  _createHudBackground() {\n    let statusBarBg =  new PIXI.Graphics();\n    statusBarBg.beginFill(0x000000, 1);\n    statusBarBg.lineStyle(1, 0xffff00, 0.8);\n    statusBarBg.drawRect(-26, -3, 52, 6);\n    statusBarBg.y = -30;\n    return statusBarBg;\n  }\n\n  _createEnergyBar() {\n    let energyBar =  new PIXI.Graphics();\n    energyBar.beginFill(0x00ff00, 1);\n    energyBar.drawRect(0, -2, 50, 4);\n    energyBar.x = -25;\n    energyBar.y = -30;\n    return energyBar;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/debug/DebugTankView.js","/* globals PIXI */\n'use strict';\n\nimport AbstractPixiRenderer from \"../abstractPixi/AbstractPixiRenderer.js\";\nimport BWBattlefieldView from \"./BWBattlefieldView.js\";\nimport BWClockView from \"./BWClockView.js\";\nimport BWBulletView from \"./BWBulletView.js\";\nimport BWTankView from \"./BWTankView.js\";\n\nexport default class BWRenderer extends AbstractPixiRenderer  {\n\n  constructor() {\n    super('bw');\n    this._bigBoomAnim = [];\n    this._smallBoomAnim = [];\n    this._shakeTimer = 0;\n  }\n\n  onAssetsLoaded() {\n    for(let i=0; i <= 9; i++) {\n      this._bigBoomAnim.push(PIXI.Texture.fromFrame('big_boom_00' + i));\n      this._smallBoomAnim.push(PIXI.Texture.fromFrame('small_boom_00' + i));\n    }\n  }\n\n  initBatlefield(battlefield) {\n    super.initBatlefield(battlefield);\n  }\n\n  renderTank(tank, events) {\n    super.renderTank(tank, events);\n    if(tank.energy == 0) {\n      this._shakeTimer = 10;\n      this._addExplosion(tank.x, tank.y, this._bigBoomAnim);\n    }\n  }\n\n  renderBullet(bullet, events) {\n    super.renderBullet(bullet, events);\n    if(bullet.exploded) {\n      this._addExplosion(bullet.x, bullet.y, this._smallBoomAnim);\n    }\n  }\n\n  postRender() {\n    super.postRender();\n    if(this._shakeTimer > 0) {\n      this._shakeTimer--;\n      this.masterContainer.x = Math.random()*10-5-this.offsetX;\n      this.masterContainer.y = Math.random()*10-5-this.offsetY;\n    } else {\n      this.masterContainer.x = -this.offsetX;\n      this.masterContainer.y = -this.offsetY;\n    }\n  }\n\n  _createBattlefieldView(battlefield) {\n    return new BWBattlefieldView(battlefield);\n  }\n\n  _createClockView(clock) {\n    return new BWClockView(clock);\n  }\n\n  _createBulletView(bullet) {\n    return new BWBulletView(bullet);\n  }\n\n  _createTankView(tank) {\n    return new BWTankView(tank);\n  }\n\n  _addExplosion(x, y, type) {\n    let anim = new PIXI.extras.AnimatedSprite(type);\n    anim.anchor.set(0.5);\n    this.masterContainer.addChild(anim);\n    anim.x = x;\n    anim.y = y;\n    anim.loop = false;\n    anim.onComplete = function() {\n      this.stop();\n      this.parent.removeChild(this);\n    };\n    anim.play();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/bw/BWRenderer.js","/* globals PIXI */\n'use strict';\n\nimport AbstractPixiView from \"../abstractPixi/AbstractPixiView.js\";\n\nexport default class BWBattlefieldView extends AbstractPixiView  {\n\n  _create(container) {\n    let background = PIXI.Sprite.fromFrame('battlefield');\n    container.addChild(background);\n  }\n\n  update(events) {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/bw/BWBattlefieldView.js","/* globals PIXI */\n'use strict';\n\nimport AbstractPixiView from \"../abstractPixi/AbstractPixiView.js\";\n\nexport default class BWClockView extends AbstractPixiView  {\n\n  constructor(model) {\n    super(model);\n  }\n\n  _create(container) {\n    let labelStyle = new PIXI.TextStyle({\n        fontFamily: 'Arial',\n        fontSize: 15,\n        fill: '#000000'\n    });\n\n    this._label = new PIXI.Text(\"clock\", labelStyle);\n    this._label.x = 10;\n    this._label.y = 600 - 20;\n    container.addChild(this._label);\n  }\n\n  update(events) {\n    this._label.text = this.model.text;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/bw/BWClockView.js","/* globals PIXI */\n'use strict';\n\nimport AbstractPixiBulletView from \"../abstractPixi/AbstractPixiBulletView.js\";\n\nexport default class BWBulletView extends AbstractPixiBulletView  {\n\n  constructor(model) {\n    super(model);\n  }\n\n  _create(container) {\n    let bullet = PIXI.Sprite.fromFrame('bullet');\n    bullet.anchor.set(0.5);\n    container.addChild(bullet);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/bw/BWBulletView.js","/* globals PIXI */\n'use strict';\n\nimport AbstractPixiTankView from \"../abstractPixi/AbstractPixiTankView.js\";\n\nexport default class BWTankView extends AbstractPixiTankView  {\n\n  constructor(model) {\n    super(model);\n  }\n\n  update(events) {\n    super.update(events);\n    this._shoot.alpha = this.model.isShooting ? 1 : this._shoot.alpha*0.7;\n  }\n\n  _createBody() {\n    let body = PIXI.Sprite.fromFrame('tank_body');\n    body.anchor.set(0.5);\n    return body;\n  }\n\n  _createGun() {\n    let gunContainer = new PIXI.Container();\n\n    let tankGun = PIXI.Sprite.fromFrame('tank_gun');\n    tankGun.anchor.set(0.3, 0.5);\n    gunContainer.addChild(tankGun);\n\n    this._shoot = PIXI.Sprite.fromFrame('tank_shoot');\n    this._shoot.anchor.set(-1.2, 0.5);\n    this._shoot.alpha = 0;\n    gunContainer.addChild(this._shoot);\n\n    return gunContainer;\n  }\n\n  _createRadar() {\n    let tankRadar = PIXI.Sprite.fromFrame('tank_radar');\n    tankRadar.anchor.set(0.5);\n    return tankRadar;\n  }\n\n  _createLabel() {\n    let labelStyle = new PIXI.TextStyle({\n        fontFamily: 'Arial',\n        fontSize: 12,\n        fill: 0x000000\n    });\n    let label = new PIXI.Text(\"\", labelStyle);\n    label.anchor.set(0.5, 0.5);\n    label.x = 0;\n    label.y = -40;\n    return label;\n  }\n\n  _createHudBackground() {\n    let statusBarBg =  new PIXI.Graphics();\n    statusBarBg.beginFill(0x000000, 1);\n    statusBarBg.drawRect(-26, -3, 52, 6);\n    statusBarBg.y = -30;\n    return statusBarBg;\n  }\n\n  _createEnergyBar() {\n    let energyBar =  new PIXI.Graphics();\n    energyBar.beginFill(0xff0000, 1);\n    energyBar.drawRect(0, -2, 50, 4);\n    energyBar.x = -25;\n    energyBar.y = -30;\n    return energyBar;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/bw/BWTankView.js","/* globals PIXI */\n'use strict';\n\nimport AbstractPixiRenderer from \"../abstractPixi/AbstractPixiRenderer.js\";\nimport BrodyBattlefieldView from \"./BrodyBattlefieldView.js\";\nimport BrodyClockView from \"./BrodyClockView.js\";\nimport BrodyBulletView from \"./BrodyBulletView.js\";\nimport BrodyTankView from \"./BrodyTankView.js\";\nimport BrodySettings from \"./BrodySettings.js\";\n\nexport default class BrodyRenderer extends AbstractPixiRenderer  {\n\n  constructor() {\n    super('brody');\n    this._bigBoomAnim = [];\n    this._shakeTimer = 0;\n    this._particleContainer = null;\n    this._particleList = [];\n    this._explosionList = [];\n    this._settings = new BrodySettings();\n    this._masterContainer.addChild(this._bulletContainer);\n    this._frameTimer = 0;\n    this._frameCounter = 0;\n    this._fpsInterval = null;\n    this._fps = 30;\n  }\n\n  onAssetsLoaded() {\n    let i;\n    for(i=0; i <= 22; i++) {\n      this._bigBoomAnim.push(PIXI.Texture.fromFrame('big_boom_0' + (i < 10 ? \"0\" + i : i)));\n    }\n  }\n\n  get quality() {\n    return this._settings.quality;\n  }\n\n  set quality(v) {\n    this._settings.quality = v;\n  }\n\n  initBatlefield(battlefield) {\n    super.initBatlefield(battlefield);\n    this.battlefieldView.configure(this._settings);\n    this._particleContainer = new PIXI.particles.ParticleContainer(1000, {\n      position: true,\n      rotation: true,\n      alpha: true\n    });\n    this._masterContainer.addChild(this._particleContainer);\n    this._masterContainer.addChild(this._hudContainer);\n\n    let self = this;\n    this._fpsInterval = setInterval(() => {\n      self._fps = self._frameCounter;\n      self._frameCounter = 0;\n    }, 1000);\n  }\n\n  renderTank(tank, events) {\n    super.renderTank(tank, events);\n\n    let i;\n    for(i in events) {\n      if(events[i].type == 'destroy') {\n        this._shakeTimer = 10;\n        this._addTankExplosion(tank);\n        break;\n      }\n    }\n\n    let directionCorrection = tank.throttle > 0 ? 180 : 0;\n    let dirtAngle = (tank.angle+directionCorrection)*(Math.PI/180);\n    if(tank.speed > 1) {\n      let corner1X = tank.x + 20*Math.cos(dirtAngle-Math.PI/4) + 7*Math.cos(dirtAngle);\n      let corner1Y = tank.y + 20*Math.sin(dirtAngle-Math.PI/4) + 7*Math.sin(dirtAngle);\n      let corner2X = tank.x + 20*Math.cos(dirtAngle+Math.PI/4) + 7*Math.cos(dirtAngle);\n      let corner2Y = tank.y + 20*Math.sin(dirtAngle+Math.PI/4) + 7*Math.sin(dirtAngle);\n\n      if(Math.random() < this.speedMultiplier) {\n        this._addDirt(\n          corner1X,\n          corner1Y\n        );\n        this._addDirt(\n          corner2X,\n          corner2Y\n        );\n      }\n    }\n  }\n\n  renderBullet(bullet, events) {\n    super.renderBullet(bullet, events);\n    let view = this.getBulletView(bullet.id);\n    view.configure(this._settings);\n    if(bullet.exploded) {\n      this._addBulletExplosion(bullet);\n      this.battlefieldView.addBulletHole(bullet.x, bullet.y, bullet.power);\n    }\n  }\n\n  preRender() {\n    super.preRender();\n    let particle;\n    let particleCount = 0;\n    let i;\n    for(i = this._particleList.length-1; i >= 0; i--) {\n      particle = this._particleList[i];\n      if(!particle) {\n        continue;\n      }\n\n      particle.x += this.speedMultiplier * particle.speed * particle.rotation * Math.cos(particle.rotation);\n      particle.y += this.speedMultiplier * particle.speed * particle.rotation * Math.sin(particle.rotation);\n      particle.alpha = Math.max(0, particle.alpha - this.speedMultiplier * particle.alphaSpeed);\n\n      particle.lifetime -= this.speedMultiplier;\n      if(particle.lifetime <= 0 || particleCount > this._settings.particleLimit) {\n        particle.parent.removeChild(particle);\n        this._particleList[i] = null;\n      } else {\n        particleCount++;\n      }\n    }\n    for(i=0; i < this._explosionList.length; i++) {\n      if(!this._explosionList[i]) continue;\n      this._explosionList[i].alpha = (this._explosionList[i].alpha - 0.12 * this.speedMultiplier);\n      if(this._explosionList[i].alpha < 0.01) {\n        this._explosionList[i].parent.removeChild(this._explosionList[i]);\n        this._explosionList[i] = null;\n      }\n    }\n\n  }\n\n  postRender() {\n    this._frameTimer++;\n    this._frameCounter++;\n    if(this._frameTimer % this._settings.dropFrames == 0){\n      super.postRender();\n    }\n    if(this._shakeTimer > 0) {\n      this._shakeTimer--;\n      this.masterContainer.x = Math.random()*10-5-this.offsetX;\n      this.masterContainer.y = Math.random()*10-5-this.offsetY;\n      this._battlefieldView.view.x = Math.random()*10-5;\n      this._battlefieldView.view.y = Math.random()*10-5;\n    } else {\n      this.masterContainer.x = -this.offsetX;\n      this.masterContainer.y = -this.offsetY;\n      this._battlefieldView.view.x = 0;\n      this._battlefieldView.view.y = 0;\n    }\n  }\n\n  stop() {\n    if(this._fpsInterval) {\n      clearInterval(this._fpsInterval);\n    }\n  }\n\n  _getSpritesheetUrls(rendererName, rendererScale) {\n    let resolution = (rendererScale == 2) ? \"retina@2x\" : \"web\";\n    if(rendererScale >= 2) {\n      return [\n        `img/spritesheets/${rendererName}/retina@2x/jsbattle_0.json`,\n        `img/spritesheets/${rendererName}/retina@2x/jsbattle_1.json`\n      ];\n    } else {\n      return [\n        `img/spritesheets/${rendererName}/web/jsbattle.json`\n      ];\n    }\n\n  }\n\n  _addTankExplosion(tank) {\n    this._addExplosion(tank.x, tank.y, this._bigBoomAnim);\n    this.battlefieldView.addCrater(tank.x, tank.y);\n    this._addSparks(\n      tank.x,\n      tank.y,\n      300\n    );\n  }\n\n  _addBulletExplosion(bullet) {\n    this._addGlow(bullet.x, bullet.y, 0.3 + 0.6*bullet.power);\n    let sparks = 5 + 40 * bullet.power;\n    this._addSparks(\n      bullet.x,\n      bullet.y,\n      sparks\n    );\n  }\n\n  _createBattlefieldView(battlefield) {\n    return new BrodyBattlefieldView(battlefield);\n  }\n\n  _createClockView(clock) {\n    return new BrodyClockView(clock);\n  }\n\n  _createBulletView(bullet) {\n    return new BrodyBulletView(bullet);\n  }\n\n  _createTankView(tank) {\n    return new BrodyTankView(tank);\n  }\n\n  _addExplosion(x, y, type) {\n    this._addGlow(x, y, 5);\n\n    let anim = new PIXI.extras.AnimatedSprite(type);\n    anim.animationSpeed = this.speedMultiplier;\n    anim.anchor.set(0.5);\n    this.masterContainer.addChild(anim);\n    anim.x = x;\n    anim.y = y;\n    anim.loop = false;\n    anim.blendMode = PIXI.BLEND_MODES.ADD;\n    anim.onComplete = function() {\n      this.stop();\n      this.parent.removeChild(this);\n    };\n    anim.play();\n  }\n\n  _addGlow(x, y, scale) {\n    if(!this._settings.showGlow) return;\n    let glow = PIXI.Sprite.fromFrame('glow');\n    glow.anchor.set(0.5);\n    glow.scale.x = glow.scale.y = scale;\n    glow.alpha = 0.4;\n    glow.blendMode = PIXI.BLEND_MODES.ADD;\n    glow.x = x;\n    glow.y = y;\n    this.masterContainer.addChild(glow);\n    this._explosionList.push(glow);\n  }\n\n  _addSparks(x, y, amount) {\n    amount = Math.ceil(amount*this._settings.quality);\n    for(let i=0; i < amount; i++) {\n      let particle = PIXI.Sprite.fromFrame('spark');\n      particle.x = x;\n      particle.y = y;\n      particle.alphaSpeed = 0;\n      particle.anchor.set(0.5);\n      particle.speed = 1+Math.random()*2;\n      particle.rotation = Math.random()*2*Math.PI;\n      particle.lifetime = 5+Math.random()*5;\n      this._particleContainer.addChild(particle);\n      this._particleList.push(particle);\n    }\n  }\n\n  _addDirt(x, y) {\n    if(!this._settings.showDirt) return;\n    for(let i=0; i < 5; i++) {\n      let index = Math.floor(Math.random()*3);\n      let particle = PIXI.Sprite.fromFrame('dirt_' + index);\n      particle.x = x+Math.random()*4-2;\n      particle.y = y+Math.random()*4-2;\n      particle.anchor.set(0.5);\n      particle.speed = 0;\n      particle.alphaSpeed = 0.02 + Math.random()*0.02;\n      particle.rotation = 0;\n      particle.alpha = 0.1+0.4*Math.random();\n      particle.lifetime = 25;\n      particle.scale.x = particle.scale.y = 0.5 + 2*Math.random();\n      this._particleContainer.addChild(particle);\n      this._particleList.push(particle);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/brody/BrodyRenderer.js","/* globals PIXI */\n'use strict';\n\nimport AbstractPixiView from \"../abstractPixi/AbstractPixiView.js\";\n\nexport default class BrodyBattlefieldView extends AbstractPixiView  {\n\n  constructor(model) {\n    super(model);\n    this._holeList = [];\n    this._settings = null;\n  }\n\n  configure(settings) {\n    this._settings = settings;\n  }\n\n  _create(container) {\n    let background = PIXI.Sprite.fromFrame('battlefield');\n    container.addChild(background);\n\n    let groundMask = new PIXI.Graphics();\n    groundMask.beginFill(0x0000ff, 1);\n    groundMask.moveTo(25, 25);\n    groundMask.lineTo(900-25, 25);\n    groundMask.lineTo(900-25, 600-25);\n    groundMask.lineTo(90, 600-25);\n    groundMask.lineTo(90, 600-35);\n    groundMask.lineTo(25, 600-35);\n    groundMask.lineTo(25, 25);\n    groundMask.endFill();\n\n    this._craterContainer = new PIXI.Container();\n    this._craterContainer.mask = groundMask;\n    container.addChild(this._craterContainer);\n    container.addChild(groundMask);\n\n    let wallMask = new PIXI.Graphics();\n    wallMask.beginFill(0x0000ff, 0.4);\n    wallMask.moveTo(15, 15);\n    wallMask.lineTo(900-15, 15);\n    wallMask.lineTo(900-15, 600-15);\n    wallMask.lineTo(80, 600-15);\n    wallMask.lineTo(80, 600-25);\n    wallMask.lineTo(15, 600-25);\n    wallMask.lineTo(15, 15);\n    wallMask.lineTo(25, 25);\n    wallMask.lineTo(25, 600-25);\n    wallMask.lineTo(80, 600-25);\n    wallMask.lineTo(80, 600-25);\n    wallMask.lineTo(900-25, 600-25);\n    wallMask.lineTo(900-25, 25);\n    wallMask.lineTo(25, 25);\n    wallMask.endFill();\n    this._holesContainer = new PIXI.Container();\n    this._holesContainer.mask = wallMask;\n    container.addChild(this._holesContainer);\n    container.addChild(wallMask);\n  }\n\n  addCrater(x, y) {\n    let crater = PIXI.Sprite.fromFrame('crater');\n    crater.anchor.set(0.5);\n    crater.x = x - this.model.offsetX;\n    crater.y = y - this.model.offsetY;\n    crater.blendMode = PIXI.BLEND_MODES.MULTIPLY;\n    crater.alpha = 0.8;\n    this._craterContainer.addChild(crater);\n  }\n\n  update() {\n    super.update();\n    this._holesContainer.visible = (this._settings.skratchLimit > 0);\n    this._craterContainer.visible = this._settings.showCraters;\n  }\n\n  addBulletHole(x, y, power) {\n    let rotation = 0;\n    if(Math.abs(y - this.model.maxY) < 10) {\n      y = this.model.maxY + 3 +  Math.random()*3;\n    } else if(Math.abs(y - this.model.minY) < 10) {\n      y = this.model.minY - 3 -  Math.random()*3;\n    } else if(Math.abs(x - this.model.maxX) < 10) {\n      x = this.model.maxX + 3 +  Math.random()*3;\n      rotation = Math.PI/2;\n    } else if(Math.abs(x - this.model.minX) < 10) {\n      x = this.model.minX - 3 -  Math.random()*3;\n      rotation = Math.PI/2;\n    } else {\n      return;\n    }\n\n    let hole = PIXI.Sprite.fromFrame('hole');\n    hole.anchor.set(0.5);\n    hole.x = x - this.model.offsetX;\n    hole.y = y - this.model.offsetY;\n    hole.rotation = rotation;\n    hole.scale.x = hole.scale.y = 0.7 + 0.5*power;\n    this._holesContainer.addChild(hole);\n    this._holeList.push(hole);\n    let limit = this._settings ? this._settings.skratchLimit : 20;\n    while(this._holeList.length > limit) {\n      hole = this._holeList.shift();\n      hole.parent.removeChild(hole);\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/brody/BrodyBattlefieldView.js","/* globals PIXI */\n'use strict';\n\nimport AbstractPixiView from \"../abstractPixi/AbstractPixiView.js\";\n\nexport default class BrodyClockView extends AbstractPixiView  {\n\n  constructor(model) {\n    super(model);\n  }\n\n  _create(container) {\n    let labelStyle = new PIXI.TextStyle({\n        fontFamily: 'Arial',\n        fontSize: 15,\n        fill: '#000000'\n    });\n\n    this._label = new PIXI.Text(\"clock\", labelStyle);\n    this._label.x = 10;\n    this._label.y = 600 - 20;\n    container.addChild(this._label);\n  }\n\n  update(events) {\n    this._label.text = this.model.text;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/brody/BrodyClockView.js","/* globals PIXI */\n'use strict';\n\nimport AbstractPixiBulletView from \"../abstractPixi/AbstractPixiBulletView.js\";\n\nexport default class BrodyBulletView extends AbstractPixiBulletView  {\n\n  constructor(model, settings) {\n    super(model);\n  }\n\n  configure(settings) {\n    this._settings = settings;\n  }\n\n  update(events) {\n    super.update(events);\n    this._glow.visible = this._settings && this._settings.showGlow;\n  }\n\n  _create(container) {\n    let bullet = PIXI.Sprite.fromFrame('bullet');\n    bullet.anchor.set(0.5);\n    let glow = PIXI.Sprite.fromFrame('glow');\n    glow.anchor.set(0.5);\n    glow.blendMode = PIXI.BLEND_MODES.ADD;\n    glow.alpha = 0.1;\n    this._glow = glow;\n    container.addChild(glow);\n    container.addChild(bullet);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/brody/BrodyBulletView.js","/* globals PIXI */\n'use strict';\n\nimport AbstractPixiTankView from \"../abstractPixi/AbstractPixiTankView.js\";\n\nexport default class BrodyTankView extends AbstractPixiTankView  {\n\n  constructor(model) {\n    super(model);\n    this._lightTimer = 0;\n  }\n\n  update(events) {\n    super.update(events);\n    this._shoot.alpha =  this._shoot.alpha*0.8;\n    this._tankGun.x = this._tankGun.x*0.8;\n    this.radar.rotation = (- this.model.gunAngle + this._model.radarAngle) * (Math.PI/180);\n\n    this._lightTimer = this.model.enemySpot ? this._lightTimer+1 : 0;\n\n    this._light.alpha = -Math.cos(this._lightTimer * 0.25) * 0.5 + 0.5;\n  }\n\n  _onShoot(event) {\n    super._onShoot(event);\n    this._tankGun.x = -1-3*event.bullet.power;\n    this._shoot.alpha = 1;\n  }\n\n  _create(container) {\n    super._create(container);\n    this._tankGun.addChild(this.radar);\n  }\n\n  _createBody() {\n    let body = PIXI.Sprite.fromFrame('tank_body_' + this.model.skin);\n    body.anchor.set(0.3, 0.5);\n    return body;\n  }\n\n  _createGun() {\n    let gunContainer = new PIXI.Container();\n\n    let tankGun = PIXI.Sprite.fromFrame('tank_gun_' + this.model.skin);\n    tankGun.anchor.set(0.3, 0.5);\n    gunContainer.addChild(tankGun);\n    this._tankGun = tankGun;\n\n    this._shoot = PIXI.Sprite.fromFrame('tank_shoot');\n    this._shoot.anchor.set(0.3, 0.5);\n    this._shoot.alpha = 0;\n\n    this._light = PIXI.Sprite.fromFrame('tank_light');\n    this._light.anchor.set(0.3, 0.5);\n    this._light.alpha = 0;\n\n    gunContainer.addChild(this._shoot);\n    gunContainer.addChild(this._light);\n\n    return gunContainer;\n  }\n\n  _createRadar() {\n    let tankRadar = PIXI.Sprite.fromFrame('tank_radar_' + this.model.skin);\n    tankRadar.anchor.set(0.2, 0.5);\n    tankRadar.x=-5;\n    return tankRadar;\n  }\n\n  _createLabel() {\n    let labelStyle = new PIXI.TextStyle({\n        fontFamily: 'Arial',\n        fontSize: 10,\n        stroke: 0x000000,\n        strokeThickness: 2,\n        fill: 0xffffbb\n    });\n    let label = new PIXI.Text(\"\", labelStyle);\n    label.anchor.set(0.5, 0.5);\n    label.x = 0;\n    label.y = -40;\n    return label;\n  }\n\n  _createHudBackground() {\n    let statusBarBg =  new PIXI.Graphics();\n    statusBarBg.beginFill(0x000000, 1);\n    statusBarBg.drawRect(-26, -3, 52, 6);\n    statusBarBg.y = -30;\n    return statusBarBg;\n  }\n\n  _createEnergyBar() {\n    let energyBar =  new PIXI.Graphics();\n    energyBar.beginFill(0xffff99, 1);\n    energyBar.drawRect(0, -2, 50, 4);\n    energyBar.x = -25;\n    energyBar.y = -30;\n    return energyBar;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/brody/BrodyTankView.js","'use strict';\n\nexport default class BrodySettings   {\n\n  constructor(model) {\n    this._particleLimit = 1000;\n    this._skratchLimit = 100;\n    this._showDirt = true;\n    this._showGlow = true;\n    this._showCraters = true;\n    this._dropFrames = 1;\n    this._quality = 1;\n    this.quality = this._quality;\n  }\n  get dropFrames() {\n    return this._dropFrames;\n  }\n  get particleLimit() {\n    return this._particleLimit;\n  }\n  get skratchLimit() {\n    return this._skratchLimit;\n  }\n  get showDirt() {\n    return this._showDirt;\n  }\n  get showGlow() {\n    return this._showGlow;\n  }\n  get showCraters() {\n    return this._showCraters;\n  }\n  get quality() {\n    return this._quality;\n  }\n  set quality(v) {\n    v = Math.min(1, Math.max(0, v));\n    this._quality = v;\n    this._particleLimit = Math.round(1000*v*v);\n    this._skratchLimit = Math.round(100*v);\n    this._showDirt = (v > 0.2);\n    this._showGlow = (v > 0.5);\n    this._showCraters = (v > 0.1);\n    if(v > 0.3) {\n      this._dropFrames = 1;\n    } else if(v > 0.2) {\n      this._dropFrames = 2;\n    } else if(v > 0.1) {\n      this._dropFrames = 3;\n    } else {\n      this._dropFrames = 4;\n    }\n    this._quality = v;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/brody/BrodySettings.js","'use strict';\n\nimport Renderer from \"../Renderer.js\";\n\nexport default class VoidRenderer extends Renderer  {\n\n  renderTank(tank, events) {\n\n  }\n\n  renderBullet(bullet, events) {\n\n  }\n\n  loadAssets(done) {\n    done();\n  }\n\n  init() {\n    \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/engine/renderers/void/VoidRenderer.js"],"sourceRoot":""}